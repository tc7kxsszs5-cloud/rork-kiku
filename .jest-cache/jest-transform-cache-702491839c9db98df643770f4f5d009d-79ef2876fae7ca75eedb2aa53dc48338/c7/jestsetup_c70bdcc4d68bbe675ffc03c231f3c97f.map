{"version":3,"names":["_getJestObj","mock","requireNativeViewManager","jest","fn","NativeModulesProxy","EventEmitter","Platform","OS","mockReact","require","select","dict","ios","default","View","_ref","children","testID","props","_objectWithoutProperties2","_excluded","createElement","Object","assign","Text","_ref2","_excluded2","TouchableOpacity","_ref3","onPress","_excluded3","StyleSheet","create","styles","expoConfig","extra","executionEnvironment","getItemAsync","Promise","resolve","setItemAsync","deleteItemAsync","getItem","setItem","removeItem","clear","getAllKeys","multiGet","multiSet","multiRemove","getPermissionsAsync","status","requestPermissionsAsync","scheduleNotificationAsync","cancelScheduledNotificationAsync","getAllScheduledNotificationsAsync","setNotificationHandler","setNotificationChannelAsync","AndroidNotificationPriority","MIN","LOW","DEFAULT","HIGH","MAX","AndroidImportance","getCurrentPositionAsync","coords","latitude","longitude","altitude","accuracy","altitudeAccuracy","heading","speed","timestamp","Date","now","requestForegroundPermissionsAsync","useRouter","push","replace","back","usePathname","useSegments","useGlobalSearchParams","useLocalSearchParams","Link","_ref4","Stack","Screen","Tabs","_interopRequireDefault","_require","global","fetch","ok","json","text","setTimeout"],"sources":["jest.setup.js"],"sourcesContent":["// Jest setup file for React Native / Expo\n// Этот файл выполняется перед каждым тестом\n\n// Мок для expo-modules-core (ESM проблема)\njest.mock('expo-modules-core', () => ({\n  requireNativeViewManager: jest.fn(),\n  NativeModulesProxy: {},\n  EventEmitter: jest.fn(),\n  Platform: {\n    OS: 'ios',\n  },\n}));\n\n// Моки для React Native модулей (require внутри factory — Jest sandbox)\njest.mock('react-native', () => {\n  const mockReact = require('react');\n  return {\n    Platform: {\n      OS: 'ios',\n      select: (dict) => dict.ios || dict.default,\n    },\n    View: ({ children, testID, ...props }) =>\n      mockReact.createElement('View', { testID, ...props }, children),\n    Text: ({ children, testID, ...props }) =>\n      mockReact.createElement('Text', { testID, ...props }, children),\n    TouchableOpacity: ({ children, onPress, testID, ...props }) =>\n      mockReact.createElement('TouchableOpacity', { onPress, testID, ...props }, children),\n    StyleSheet: {\n      create: (styles) => styles,\n    },\n  };\n});\n\n// Мок для Expo модулей\njest.mock('expo-constants', () => ({\n  expoConfig: {\n    extra: {},\n  },\n  executionEnvironment: 'storeClient',\n}));\n\njest.mock('expo-secure-store', () => ({\n  getItemAsync: jest.fn(() => Promise.resolve(null)),\n  setItemAsync: jest.fn(() => Promise.resolve()),\n  deleteItemAsync: jest.fn(() => Promise.resolve()),\n}));\n\njest.mock('@react-native-async-storage/async-storage', () => {\n  const mock = {\n    getItem: jest.fn(() => Promise.resolve(null)),\n    setItem: jest.fn(() => Promise.resolve()),\n    removeItem: jest.fn(() => Promise.resolve()),\n    clear: jest.fn(() => Promise.resolve()),\n    getAllKeys: jest.fn(() => Promise.resolve([])),\n    multiGet: jest.fn(() => Promise.resolve([])),\n    multiSet: jest.fn(() => Promise.resolve()),\n    multiRemove: jest.fn(() => Promise.resolve()),\n  };\n  return { ...mock, default: mock };\n});\n\njest.mock('expo-notifications', () => ({\n  getPermissionsAsync: jest.fn(() => Promise.resolve({ status: 'granted' })),\n  requestPermissionsAsync: jest.fn(() => Promise.resolve({ status: 'granted' })),\n  scheduleNotificationAsync: jest.fn(() => Promise.resolve('notification-id')),\n  cancelScheduledNotificationAsync: jest.fn(() => Promise.resolve()),\n  getAllScheduledNotificationsAsync: jest.fn(() => Promise.resolve([])),\n  setNotificationHandler: jest.fn(),\n  setNotificationChannelAsync: jest.fn(() => Promise.resolve()),\n  AndroidNotificationPriority: {\n    MIN: 'min',\n    LOW: 'low',\n    DEFAULT: 'default',\n    HIGH: 'high',\n    MAX: 'max',\n  },\n  AndroidImportance: {\n    MIN: 'min',\n    LOW: 'low',\n    DEFAULT: 'default',\n    HIGH: 'high',\n    MAX: 'max',\n  },\n}));\n\njest.mock('expo-location', () => ({\n  getCurrentPositionAsync: jest.fn(() =>\n    Promise.resolve({\n      coords: {\n        latitude: 55.7558,\n        longitude: 37.6173,\n        altitude: null,\n        accuracy: 10,\n        altitudeAccuracy: null,\n        heading: null,\n        speed: null,\n      },\n      timestamp: Date.now(),\n    })\n  ),\n  requestForegroundPermissionsAsync: jest.fn(() =>\n    Promise.resolve({ status: 'granted' })\n  ),\n}));\n\n// Мок для expo-router\njest.mock('expo-router', () => ({\n  useRouter: () => ({\n    push: jest.fn(),\n    replace: jest.fn(),\n    back: jest.fn(),\n  }),\n  usePathname: () => '/',\n  useSegments: () => [],\n  useGlobalSearchParams: () => ({}),\n  useLocalSearchParams: () => ({}),\n  Link: ({ children }) => children,\n  Stack: {\n    Screen: () => null,\n  },\n  Tabs: {\n    Screen: () => null,\n  },\n}));\n\n// Глобальные моки\nglobal.fetch = jest.fn(() =>\n  Promise.resolve({\n    ok: true,\n    status: 200,\n    json: () => Promise.resolve({}),\n    text: () => Promise.resolve(''),\n  })\n);\n\n// Увеличиваем timeout для async операций\nif (typeof jest !== 'undefined') {\n  jest.setTimeout(10000);\n}\n\n// Подавляем console.warn в тестах (можно включить для отладки)\n// global.console = {\n//   ...console,\n//   warn: jest.fn(),\n//   error: jest.fn(),\n// };\n"],"mappings":"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","ignoreList":[]}