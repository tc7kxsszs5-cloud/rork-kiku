{"version":3,"names":["_getJestObj","mock","Alert","alert","jest","fn","Platform","OS","logger","error","__esModule","default","t","key","translations","_asyncToGenerator","_require","require","showUserFriendlyError","handleErrorSilently","withErrorHandling","createErrorHandler","describe","beforeEach","clearAllMocks","it","Error","expect","toHaveBeenCalledWith","objectContaining","component","context","action","userId","undefined","consoleSpy","spyOn","console","mockImplementation","not","toHaveBeenCalled","mockRestore","errors","expected","_ref5","data","mockResolvedValue","wrapped","result","toBe","mockRejectedValue","rejects","toThrow","a","b","Promise","resolve","handler","toHaveProperty","show","silent","wrap"],"sources":["errorHandler.test.ts"],"sourcesContent":["/**\n * Тесты для errorHandler\n * Проверяет обработку ошибок, пользовательские сообщения, логирование\n */\n\nimport { Alert, Platform } from 'react-native';\nimport {\n  showUserFriendlyError,\n  handleErrorSilently,\n  withErrorHandling,\n  createErrorHandler,\n  ErrorContext,\n} from '@/utils/errorHandler';\nimport { logger } from '@/utils/logger';\nimport i18n from '@/constants/i18n';\n\n// Моки\njest.mock('react-native', () => ({\n  Alert: {\n    alert: jest.fn(),\n  },\n  Platform: {\n    OS: 'ios',\n  },\n}));\n\njest.mock('@/utils/logger', () => ({\n  logger: {\n    error: jest.fn(),\n  },\n}));\n\njest.mock('@/constants/i18n', () => ({\n  __esModule: true,\n  default: {\n    t: jest.fn((key: string) => {\n      const translations: Record<string, string> = {\n        'common.error': 'Ошибка',\n        'common.errors.networkError': 'Проблема с сетью',\n        'common.errors.syncFailed': 'Синхронизация не удалась',\n        'common.errors.loadFailed': 'Не удалось загрузить',\n        'common.errors.saveFailed': 'Не удалось сохранить',\n        'common.errors.permissionDenied': 'Доступ запрещен',\n        'common.errors.storageError': 'Ошибка хранилища',\n        'common.errors.analysisFailed': 'Анализ не удался',\n        'common.errors.sosFailed': 'SOS не удалось отправить',\n        'common.errors.authFailed': 'Ошибка аутентификации',\n        'common.errors.default': 'Произошла ошибка',\n      };\n      return translations[key] || key;\n    }),\n  },\n}));\n\ndescribe('errorHandler', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n    (Platform.OS as any) = 'ios';\n  });\n\n  describe('showUserFriendlyError', () => {\n    it('должен показывать Alert с пользовательским сообщением на iOS', async () => {\n      const error = new Error('Network error');\n      \n      await showUserFriendlyError(error, 'TestComponent');\n\n      expect(Alert.alert).toHaveBeenCalledWith('Ошибка', 'Проблема с сетью');\n      expect(logger.error).toHaveBeenCalledWith(\n        'User-friendly error shown',\n        error,\n        expect.objectContaining({\n          component: 'TestComponent',\n        })\n      );\n    });\n\n    it('должен использовать контекст для логирования', async () => {\n      const error = new Error('Sync failed');\n      const context: ErrorContext = {\n        component: 'SyncComponent',\n        action: 'syncData',\n        userId: 'user-123',\n      };\n\n      await showUserFriendlyError(error, undefined, context);\n\n      expect(logger.error).toHaveBeenCalledWith(\n        'User-friendly error shown',\n        error,\n        expect.objectContaining({\n          component: 'SyncComponent',\n          action: 'syncData',\n          userId: 'user-123',\n        })\n      );\n    });\n\n    it('должен использовать console.error на web платформе', async () => {\n      const consoleSpy = jest.spyOn(console, 'error').mockImplementation();\n      (Platform.OS as any) = 'web';\n      \n      const error = new Error('Network error');\n      await showUserFriendlyError(error);\n\n      expect(Alert.alert).not.toHaveBeenCalled();\n      expect(consoleSpy).toHaveBeenCalledWith('[Error]', 'Проблема с сетью', error);\n      \n      consoleSpy.mockRestore();\n      (Platform.OS as any) = 'ios';\n    });\n\n    it('должен обрабатывать различные типы ошибок', async () => {\n      const errors = [\n        { error: new Error('Network error'), expected: 'Проблема с сетью' },\n        { error: new Error('Sync failed'), expected: 'Синхронизация не удалась' },\n        { error: new Error('Failed to load'), expected: 'Не удалось загрузить' },\n        { error: new Error('Failed to save'), expected: 'Не удалось сохранить' },\n        { error: new Error('Permission denied'), expected: 'Доступ запрещен' },\n        { error: new Error('Storage error'), expected: 'Ошибка хранилища' },\n        { error: new Error('Analysis failed'), expected: 'Анализ не удался' },\n        { error: new Error('SOS failed'), expected: 'SOS не удалось отправить' },\n        { error: new Error('Auth failed'), expected: 'Ошибка аутентификации' },\n      ];\n\n      for (const { error, expected } of errors) {\n        jest.clearAllMocks();\n        await showUserFriendlyError(error);\n        expect(Alert.alert).toHaveBeenCalledWith('Ошибка', expected);\n      }\n    });\n\n    it('должен использовать fallback сообщение для неизвестных ошибок', async () => {\n      const error = new Error('Unknown error type');\n      \n      await showUserFriendlyError(error);\n\n      expect(Alert.alert).toHaveBeenCalledWith('Ошибка', 'Unknown error type');\n    });\n\n    it('должен использовать default сообщение для технических ошибок', async () => {\n      const error = new Error('Error: Something went wrong at file.ts:123:45');\n      \n      await showUserFriendlyError(error);\n\n      expect(Alert.alert).toHaveBeenCalledWith('Ошибка', 'Произошла ошибка');\n    });\n\n    it('должен обрабатывать не-Error объекты', async () => {\n      await showUserFriendlyError('String error');\n\n      expect(logger.error).toHaveBeenCalled();\n      expect(Alert.alert).toHaveBeenCalled();\n    });\n  });\n\n  describe('handleErrorSilently', () => {\n    it('должен логировать ошибку без показа Alert', () => {\n      const error = new Error('Test error');\n      \n      handleErrorSilently(error, 'TestComponent');\n\n      expect(logger.error).toHaveBeenCalledWith(\n        'Error handled silently',\n        error,\n        expect.objectContaining({\n          component: 'TestComponent',\n        })\n      );\n      expect(Alert.alert).not.toHaveBeenCalled();\n    });\n\n    it('должен использовать контекст для логирования', () => {\n      const error = new Error('Test error');\n      const context: ErrorContext = {\n        component: 'TestComponent',\n        action: 'testAction',\n        data: { key: 'value' },\n      };\n\n      handleErrorSilently(error, undefined, context);\n\n      expect(logger.error).toHaveBeenCalledWith(\n        'Error handled silently',\n        error,\n        expect.objectContaining({\n          component: 'TestComponent',\n          action: 'testAction',\n          data: { key: 'value' },\n        })\n      );\n    });\n\n    it('должен обрабатывать не-Error объекты', () => {\n      handleErrorSilently('String error', 'TestComponent');\n\n      expect(logger.error).toHaveBeenCalled();\n    });\n  });\n\n  describe('withErrorHandling', () => {\n    it('должен оборачивать функцию с обработкой ошибок', async () => {\n      const fn = jest.fn().mockResolvedValue('success');\n      const wrapped = withErrorHandling(fn, 'TestComponent');\n\n      const result = await wrapped('arg1', 'arg2');\n\n      expect(result).toBe('success');\n      expect(fn).toHaveBeenCalledWith('arg1', 'arg2');\n    });\n\n    it('должен обрабатывать ошибки в обернутой функции', async () => {\n      const error = new Error('Test error');\n      const fn = jest.fn().mockRejectedValue(error);\n      const wrapped = withErrorHandling(fn, 'TestComponent');\n\n      await expect(wrapped()).rejects.toThrow('Test error');\n      expect(logger.error).toHaveBeenCalledWith(\n        'Error handled silently',\n        error,\n        expect.objectContaining({\n          component: 'TestComponent',\n        })\n      );\n    });\n\n    it('должен передавать аргументы правильно', async () => {\n      const fn = jest.fn().mockImplementation((a: number, b: number) => Promise.resolve(a + b));\n      const wrapped = withErrorHandling(fn, 'TestComponent');\n\n      const result = await wrapped(2, 3);\n\n      expect(result).toBe(5);\n      expect(fn).toHaveBeenCalledWith(2, 3);\n    });\n  });\n\n  describe('createErrorHandler', () => {\n    it('должен создавать обработчик ошибок для компонента', () => {\n      const handler = createErrorHandler('TestComponent');\n\n      expect(handler).toHaveProperty('show');\n      expect(handler).toHaveProperty('silent');\n      expect(handler).toHaveProperty('wrap');\n    });\n\n    it('должен использовать show для показа ошибки', async () => {\n      const handler = createErrorHandler('TestComponent');\n      const error = new Error('Test error');\n\n      await handler.show(error);\n\n      expect(Alert.alert).toHaveBeenCalled();\n      expect(logger.error).toHaveBeenCalledWith(\n        'User-friendly error shown',\n        error,\n        expect.objectContaining({\n          component: 'TestComponent',\n        })\n      );\n    });\n\n    it('должен использовать silent для тихой обработки', () => {\n      const handler = createErrorHandler('TestComponent');\n      const error = new Error('Test error');\n\n      handler.silent(error);\n\n      expect(logger.error).toHaveBeenCalledWith(\n        'Error handled silently',\n        error,\n        expect.objectContaining({\n          component: 'TestComponent',\n        })\n      );\n      expect(Alert.alert).not.toHaveBeenCalled();\n    });\n\n    it('должен использовать wrap для обертывания функций', async () => {\n      const handler = createErrorHandler('TestComponent');\n      const fn = jest.fn().mockResolvedValue('success');\n      const wrapped = handler.wrap(fn);\n\n      const result = await wrapped('arg');\n\n      expect(result).toBe('success');\n      expect(fn).toHaveBeenCalledWith('arg');\n    });\n\n    it('должен обрабатывать ошибки в обернутых функциях', async () => {\n      const handler = createErrorHandler('TestComponent');\n      const error = new Error('Test error');\n      const fn = jest.fn().mockRejectedValue(error);\n      const wrapped = handler.wrap(fn);\n\n      await expect(wrapped()).rejects.toThrow('Test error');\n      expect(logger.error).toHaveBeenCalledWith(\n        'Error handled silently',\n        error,\n        expect.objectContaining({\n          component: 'TestComponent',\n        })\n      );\n    });\n  });\n});\n"],"mappings":"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","ignoreList":[]}