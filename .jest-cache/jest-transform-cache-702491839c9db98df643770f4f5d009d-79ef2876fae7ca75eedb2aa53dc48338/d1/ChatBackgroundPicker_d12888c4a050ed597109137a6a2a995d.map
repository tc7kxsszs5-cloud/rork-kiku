{"version":3,"names":["React","View","Text","TouchableOpacity","StyleSheet","useChatBackgrounds","useThemeMode","jsx","_jsx","jsxs","_jsxs","ChatBackgroundPicker","_ref","chatId","onSelect","_ref$visible","visible","onClose","_useChatBackgrounds","backgrounds","setChatBackground","_useThemeMode","theme","styles","createStyles","handleSelect","_ref2","_asyncToGenerator","backgroundId","_x","apply","arguments","style","container","children","title","grid","map","bg","backgroundItem","onPress","id","backgroundPreview","type","backgroundColor","value","Array","isArray","backgroundName","name","create","padding","fontSize","fontWeight","color","text","marginBottom","flexDirection","flexWrap","gap","alignItems","width","height","borderRadius","borderWidth","borderColor","borderSoft","textSecondary","textAlign"],"sources":["ChatBackgroundPicker.tsx"],"sourcesContent":["/**\n * Chat Background Picker Component\n * Allows users to select chat backgrounds\n */\n\nimport React from 'react';\nimport { View, Text, TouchableOpacity, StyleSheet } from 'react-native';\nimport { useChatBackgrounds } from '@/constants/ChatBackgroundsContext';\nimport { useThemeMode } from '@/constants/ThemeContext';\n\ninterface ChatBackgroundPickerProps {\n  chatId: string;\n  onSelect?: (backgroundId: string) => void;\n  visible?: boolean;\n  onClose?: () => void;\n}\n\nexport function ChatBackgroundPicker({ chatId, onSelect, visible = true, onClose }: ChatBackgroundPickerProps) {\n  const { backgrounds, setChatBackground } = useChatBackgrounds();\n  const { theme } = useThemeMode();\n  const styles = createStyles(theme);\n\n  const handleSelect = async (backgroundId: string) => {\n    await setChatBackground(chatId, backgroundId);\n    onSelect?.(backgroundId);\n    onClose?.();\n  };\n\n  if (!visible) return null;\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Выберите фон чата</Text>\n      <View style={styles.grid}>\n        {backgrounds.map((bg) => (\n          <TouchableOpacity\n            key={bg.id}\n            style={styles.backgroundItem}\n            onPress={() => handleSelect(bg.id)}\n          >\n            <View\n              style={[\n                styles.backgroundPreview,\n                bg.type === 'color' && { backgroundColor: bg.value as string },\n                bg.type === 'gradient' && {\n                  backgroundColor: Array.isArray(bg.value) ? bg.value[0] : '#FFFFFF',\n                },\n              ]}\n            />\n            <Text style={styles.backgroundName}>{bg.name}</Text>\n          </TouchableOpacity>\n        ))}\n      </View>\n    </View>\n  );\n}\n\nconst createStyles = (theme: any) => StyleSheet.create({\n  container: {\n    padding: 16,\n  },\n  title: {\n    fontSize: 18,\n    fontWeight: '600',\n    color: theme.text,\n    marginBottom: 16,\n  },\n  grid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 12,\n  },\n  backgroundItem: {\n    alignItems: 'center',\n    width: 100,\n  },\n  backgroundPreview: {\n    width: 80,\n    height: 80,\n    borderRadius: 8,\n    marginBottom: 8,\n    borderWidth: 1,\n    borderColor: theme.borderSoft,\n  },\n  backgroundName: {\n    fontSize: 12,\n    color: theme.textSecondary,\n    textAlign: 'center',\n  },\n});\n"],"mappings":"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","ignoreList":[]}