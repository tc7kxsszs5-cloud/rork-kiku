105fc476052ee724303ab0c1f246f5c4
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
var _exportNames = {
  setAudioModeAsync: true,
  setIsEnabledAsync: true,
  PitchCorrectionQuality: true
};
Object.defineProperty(exports, "PitchCorrectionQuality", {
  enumerable: true,
  get: function get() {
    return _AV.PitchCorrectionQuality;
  }
});
exports.setAudioModeAsync = setAudioModeAsync;
Object.defineProperty(exports, "setIsEnabledAsync", {
  enumerable: true,
  get: function get() {
    return _AudioAvailability.setIsEnabledAsync;
  }
});
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _Audio = require("./Audio.types");
var _ExponentAV = _interopRequireDefault(require("./ExponentAV"));
var _Recording = require("./Audio/Recording");
Object.keys(_Recording).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;
  if (key in exports && exports[key] === _Recording[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _Recording[key];
    }
  });
});
var _Sound = require("./Audio/Sound");
Object.keys(_Sound).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;
  if (key in exports && exports[key] === _Sound[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _Sound[key];
    }
  });
});
var _AudioAvailability = require("./Audio/AudioAvailability");
var _AV = require("./AV");
var _populateMissingKeys = function _populateMissingKeys(userAudioMode, defaultAudioMode) {
  for (var key in defaultAudioMode) {
    if (!userAudioMode.hasOwnProperty(key)) {
      var prop = key;
      userAudioMode[prop] = defaultAudioMode[prop];
    }
  }
  return userAudioMode;
};
var defaultMode = {
  allowsRecordingIOS: false,
  interruptionModeIOS: _Audio.InterruptionModeIOS.MixWithOthers,
  playsInSilentModeIOS: false,
  staysActiveInBackground: false,
  interruptionModeAndroid: _Audio.InterruptionModeAndroid.DuckOthers,
  shouldDuckAndroid: true,
  playThroughEarpieceAndroid: false
};
var currentAudioMode = null;
function getCurrentAudioMode() {
  if (!currentAudioMode) {
    return defaultMode;
  }
  return currentAudioMode;
}
function setAudioModeAsync(_x) {
  return _setAudioModeAsync.apply(this, arguments);
}
function _setAudioModeAsync() {
  _setAudioModeAsync = (0, _asyncToGenerator2.default)(function* (partialMode) {
    var mode = _populateMissingKeys(partialMode, getCurrentAudioMode());
    if (!_Audio.InterruptionModeIOS[mode.interruptionModeIOS]) {
      throw new Error(`"interruptionModeIOS" was set to an invalid value.`);
    }
    if (!_Audio.InterruptionModeAndroid[mode.interruptionModeAndroid]) {
      throw new Error(`"interruptionModeAndroid" was set to an invalid value.`);
    }
    if (typeof mode.allowsRecordingIOS !== 'boolean' || typeof mode.playsInSilentModeIOS !== 'boolean' || typeof mode.staysActiveInBackground !== 'boolean' || typeof mode.shouldDuckAndroid !== 'boolean' || typeof mode.playThroughEarpieceAndroid !== 'boolean') {
      throw new Error('"allowsRecordingIOS", "playsInSilentModeIOS", "playThroughEarpieceAndroid", "staysActiveInBackground" and "shouldDuckAndroid" must be booleans.');
    }
    currentAudioMode = mode;
    return yield _ExponentAV.default.setAudioMode(mode);
  });
  return _setAudioModeAsync.apply(this, arguments);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfQXVkaW8iLCJyZXF1aXJlIiwiX0V4cG9uZW50QVYiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX1JlY29yZGluZyIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwia2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiX2V4cG9ydE5hbWVzIiwiZXhwb3J0cyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIl9Tb3VuZCIsIl9BdWRpb0F2YWlsYWJpbGl0eSIsIl9BViIsIl9wb3B1bGF0ZU1pc3NpbmdLZXlzIiwidXNlckF1ZGlvTW9kZSIsImRlZmF1bHRBdWRpb01vZGUiLCJwcm9wIiwiZGVmYXVsdE1vZGUiLCJhbGxvd3NSZWNvcmRpbmdJT1MiLCJpbnRlcnJ1cHRpb25Nb2RlSU9TIiwiSW50ZXJydXB0aW9uTW9kZUlPUyIsIk1peFdpdGhPdGhlcnMiLCJwbGF5c0luU2lsZW50TW9kZUlPUyIsInN0YXlzQWN0aXZlSW5CYWNrZ3JvdW5kIiwiaW50ZXJydXB0aW9uTW9kZUFuZHJvaWQiLCJJbnRlcnJ1cHRpb25Nb2RlQW5kcm9pZCIsIkR1Y2tPdGhlcnMiLCJzaG91bGREdWNrQW5kcm9pZCIsInBsYXlUaHJvdWdoRWFycGllY2VBbmRyb2lkIiwiY3VycmVudEF1ZGlvTW9kZSIsImdldEN1cnJlbnRBdWRpb01vZGUiLCJzZXRBdWRpb01vZGVBc3luYyIsIl94IiwiX3NldEF1ZGlvTW9kZUFzeW5jIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJkZWZhdWx0IiwicGFydGlhbE1vZGUiLCJtb2RlIiwiRXJyb3IiLCJFeHBvbmVudEFWIiwic2V0QXVkaW9Nb2RlIl0sInNvdXJjZXMiOlsiLi4vc3JjL0F1ZGlvLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEF1ZGlvTW9kZSwgSW50ZXJydXB0aW9uTW9kZUFuZHJvaWQsIEludGVycnVwdGlvbk1vZGVJT1MgfSBmcm9tICcuL0F1ZGlvLnR5cGVzJztcbmltcG9ydCBFeHBvbmVudEFWIGZyb20gJy4vRXhwb25lbnRBVic7XG5cbmV4cG9ydCAqIGZyb20gJy4vQXVkaW8vUmVjb3JkaW5nJztcbmV4cG9ydCAqIGZyb20gJy4vQXVkaW8vU291bmQnO1xuZXhwb3J0IHsgc2V0SXNFbmFibGVkQXN5bmMgfSBmcm9tICcuL0F1ZGlvL0F1ZGlvQXZhaWxhYmlsaXR5JztcbmV4cG9ydCB7IFBpdGNoQ29ycmVjdGlvblF1YWxpdHkgfSBmcm9tICcuL0FWJztcblxuY29uc3QgX3BvcHVsYXRlTWlzc2luZ0tleXMgPSAoXG4gIHVzZXJBdWRpb01vZGU6IFBhcnRpYWw8QXVkaW9Nb2RlPixcbiAgZGVmYXVsdEF1ZGlvTW9kZTogQXVkaW9Nb2RlXG4pOiBBdWRpb01vZGUgPT4ge1xuICBmb3IgKGNvbnN0IGtleSBpbiBkZWZhdWx0QXVkaW9Nb2RlKSB7XG4gICAgaWYgKCF1c2VyQXVkaW9Nb2RlLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIGNvbnN0IHByb3AgPSBrZXkgYXMga2V5b2YgQXVkaW9Nb2RlO1xuICAgICAgdXNlckF1ZGlvTW9kZVtwcm9wXSA9IGRlZmF1bHRBdWRpb01vZGVbcHJvcF0gYXMgYW55O1xuICAgIH1cbiAgfVxuICByZXR1cm4gdXNlckF1ZGlvTW9kZSBhcyBBdWRpb01vZGU7XG59O1xuXG5jb25zdCBkZWZhdWx0TW9kZTogQXVkaW9Nb2RlID0ge1xuICBhbGxvd3NSZWNvcmRpbmdJT1M6IGZhbHNlLFxuICBpbnRlcnJ1cHRpb25Nb2RlSU9TOiBJbnRlcnJ1cHRpb25Nb2RlSU9TLk1peFdpdGhPdGhlcnMsXG4gIHBsYXlzSW5TaWxlbnRNb2RlSU9TOiBmYWxzZSxcbiAgc3RheXNBY3RpdmVJbkJhY2tncm91bmQ6IGZhbHNlLFxuICBpbnRlcnJ1cHRpb25Nb2RlQW5kcm9pZDogSW50ZXJydXB0aW9uTW9kZUFuZHJvaWQuRHVja090aGVycyxcbiAgc2hvdWxkRHVja0FuZHJvaWQ6IHRydWUsXG4gIHBsYXlUaHJvdWdoRWFycGllY2VBbmRyb2lkOiBmYWxzZSxcbn07XG5cbmxldCBjdXJyZW50QXVkaW9Nb2RlOiBBdWRpb01vZGUgfCBudWxsID0gbnVsbDtcblxuZnVuY3Rpb24gZ2V0Q3VycmVudEF1ZGlvTW9kZSgpOiBBdWRpb01vZGUge1xuICBpZiAoIWN1cnJlbnRBdWRpb01vZGUpIHtcbiAgICByZXR1cm4gZGVmYXVsdE1vZGU7XG4gIH1cbiAgcmV0dXJuIGN1cnJlbnRBdWRpb01vZGU7XG59XG5cbi8qKlxuICogV2UgcHJvdmlkZSB0aGlzIEFQSSB0byBjdXN0b21pemUgdGhlIGF1ZGlvIGV4cGVyaWVuY2Ugb24gaU9TIGFuZCBBbmRyb2lkLlxuICogQHBhcmFtIHBhcnRpYWxNb2RlXG4gKiBAcmV0dXJuIEEgYFByb21pc2VgIHRoYXQgd2lsbCByZWplY3QgaWYgdGhlIGF1ZGlvIG1vZGUgY291bGQgbm90IGJlIGVuYWJsZWQgZm9yIHRoZSBkZXZpY2UuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZXRBdWRpb01vZGVBc3luYyhwYXJ0aWFsTW9kZTogUGFydGlhbDxBdWRpb01vZGU+KTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IG1vZGUgPSBfcG9wdWxhdGVNaXNzaW5nS2V5cyhwYXJ0aWFsTW9kZSwgZ2V0Q3VycmVudEF1ZGlvTW9kZSgpKTtcblxuICBpZiAoIUludGVycnVwdGlvbk1vZGVJT1NbbW9kZS5pbnRlcnJ1cHRpb25Nb2RlSU9TXSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgXCJpbnRlcnJ1cHRpb25Nb2RlSU9TXCIgd2FzIHNldCB0byBhbiBpbnZhbGlkIHZhbHVlLmApO1xuICB9XG4gIGlmICghSW50ZXJydXB0aW9uTW9kZUFuZHJvaWRbbW9kZS5pbnRlcnJ1cHRpb25Nb2RlQW5kcm9pZF0pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFwiaW50ZXJydXB0aW9uTW9kZUFuZHJvaWRcIiB3YXMgc2V0IHRvIGFuIGludmFsaWQgdmFsdWUuYCk7XG4gIH1cbiAgaWYgKFxuICAgIHR5cGVvZiBtb2RlLmFsbG93c1JlY29yZGluZ0lPUyAhPT0gJ2Jvb2xlYW4nIHx8XG4gICAgdHlwZW9mIG1vZGUucGxheXNJblNpbGVudE1vZGVJT1MgIT09ICdib29sZWFuJyB8fFxuICAgIHR5cGVvZiBtb2RlLnN0YXlzQWN0aXZlSW5CYWNrZ3JvdW5kICE9PSAnYm9vbGVhbicgfHxcbiAgICB0eXBlb2YgbW9kZS5zaG91bGREdWNrQW5kcm9pZCAhPT0gJ2Jvb2xlYW4nIHx8XG4gICAgdHlwZW9mIG1vZGUucGxheVRocm91Z2hFYXJwaWVjZUFuZHJvaWQgIT09ICdib29sZWFuJ1xuICApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnXCJhbGxvd3NSZWNvcmRpbmdJT1NcIiwgXCJwbGF5c0luU2lsZW50TW9kZUlPU1wiLCBcInBsYXlUaHJvdWdoRWFycGllY2VBbmRyb2lkXCIsIFwic3RheXNBY3RpdmVJbkJhY2tncm91bmRcIiBhbmQgXCJzaG91bGREdWNrQW5kcm9pZFwiIG11c3QgYmUgYm9vbGVhbnMuJ1xuICAgICk7XG4gIH1cbiAgY3VycmVudEF1ZGlvTW9kZSA9IG1vZGU7XG4gIHJldHVybiBhd2FpdCBFeHBvbmVudEFWLnNldEF1ZGlvTW9kZShtb2RlKTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFBQSxNQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxXQUFBLEdBQUFDLHNCQUFBLENBQUFGLE9BQUE7QUFFQSxJQUFBRyxVQUFBLEdBQUFILE9BQUE7QUFBQUksTUFBQSxDQUFBQyxJQUFBLENBQUFGLFVBQUEsRUFBQUcsT0FBQSxXQUFBQyxHQUFBO0VBQUEsSUFBQUEsR0FBQSxrQkFBQUEsR0FBQTtFQUFBLElBQUFILE1BQUEsQ0FBQUksU0FBQSxDQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQUMsWUFBQSxFQUFBSixHQUFBO0VBQUEsSUFBQUEsR0FBQSxJQUFBSyxPQUFBLElBQUFBLE9BQUEsQ0FBQUwsR0FBQSxNQUFBSixVQUFBLENBQUFJLEdBQUE7RUFBQUgsTUFBQSxDQUFBUyxjQUFBLENBQUFELE9BQUEsRUFBQUwsR0FBQTtJQUFBTyxVQUFBO0lBQUFDLEdBQUEsV0FBQUEsSUFBQTtNQUFBLE9BQUFaLFVBQUEsQ0FBQUksR0FBQTtJQUFBO0VBQUE7QUFBQTtBQUNBLElBQUFTLE1BQUEsR0FBQWhCLE9BQUE7QUFBQUksTUFBQSxDQUFBQyxJQUFBLENBQUFXLE1BQUEsRUFBQVYsT0FBQSxXQUFBQyxHQUFBO0VBQUEsSUFBQUEsR0FBQSxrQkFBQUEsR0FBQTtFQUFBLElBQUFILE1BQUEsQ0FBQUksU0FBQSxDQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQUMsWUFBQSxFQUFBSixHQUFBO0VBQUEsSUFBQUEsR0FBQSxJQUFBSyxPQUFBLElBQUFBLE9BQUEsQ0FBQUwsR0FBQSxNQUFBUyxNQUFBLENBQUFULEdBQUE7RUFBQUgsTUFBQSxDQUFBUyxjQUFBLENBQUFELE9BQUEsRUFBQUwsR0FBQTtJQUFBTyxVQUFBO0lBQUFDLEdBQUEsV0FBQUEsSUFBQTtNQUFBLE9BQUFDLE1BQUEsQ0FBQVQsR0FBQTtJQUFBO0VBQUE7QUFBQTtBQUNBLElBQUFVLGtCQUFBLEdBQUFqQixPQUFBO0FBQ0EsSUFBQWtCLEdBQUEsR0FBQWxCLE9BQUE7QUFFQSxJQUFNbUIsb0JBQW9CLEdBQUcsU0FBdkJBLG9CQUFvQkEsQ0FDeEJDLGFBQWlDLEVBQ2pDQyxnQkFBMkIsRUFDZDtFQUNiLEtBQUssSUFBTWQsR0FBRyxJQUFJYyxnQkFBZ0IsRUFBRTtJQUNsQyxJQUFJLENBQUNELGFBQWEsQ0FBQ1gsY0FBYyxDQUFDRixHQUFHLENBQUMsRUFBRTtNQUN0QyxJQUFNZSxJQUFJLEdBQUdmLEdBQXNCO01BQ25DYSxhQUFhLENBQUNFLElBQUksQ0FBQyxHQUFHRCxnQkFBZ0IsQ0FBQ0MsSUFBSSxDQUFRO0lBQ3JEO0VBQ0Y7RUFDQSxPQUFPRixhQUEwQjtBQUNuQyxDQUFDO0FBRUQsSUFBTUcsV0FBVyxHQUFjO0VBQzdCQyxrQkFBa0IsRUFBRSxLQUFLO0VBQ3pCQyxtQkFBbUIsRUFBRUMsMEJBQW1CLENBQUNDLGFBQWE7RUFDdERDLG9CQUFvQixFQUFFLEtBQUs7RUFDM0JDLHVCQUF1QixFQUFFLEtBQUs7RUFDOUJDLHVCQUF1QixFQUFFQyw4QkFBdUIsQ0FBQ0MsVUFBVTtFQUMzREMsaUJBQWlCLEVBQUUsSUFBSTtFQUN2QkMsMEJBQTBCLEVBQUU7Q0FDN0I7QUFFRCxJQUFJQyxnQkFBZ0IsR0FBcUIsSUFBSTtBQUU3QyxTQUFTQyxtQkFBbUJBLENBQUE7RUFDMUIsSUFBSSxDQUFDRCxnQkFBZ0IsRUFBRTtJQUNyQixPQUFPWixXQUFXO0VBQ3BCO0VBQ0EsT0FBT1ksZ0JBQWdCO0FBQ3pCO0FBQUMsU0FPcUJFLGlCQUFpQkEsQ0FBQUMsRUFBQTtFQUFBLE9BQUFDLGtCQUFBLENBQUFDLEtBQUEsT0FBQUMsU0FBQTtBQUFBO0FBQUEsU0FBQUYsbUJBQUE7RUFBQUEsa0JBQUEsT0FBQUcsa0JBQUEsQ0FBQUMsT0FBQSxFQUFoQyxXQUFpQ0MsV0FBK0I7SUFDckUsSUFBTUMsSUFBSSxHQUFHMUIsb0JBQW9CLENBQUN5QixXQUFXLEVBQUVSLG1CQUFtQixFQUFFLENBQUM7SUFFckUsSUFBSSxDQUFDViwwQkFBbUIsQ0FBQ21CLElBQUksQ0FBQ3BCLG1CQUFtQixDQUFDLEVBQUU7TUFDbEQsTUFBTSxJQUFJcUIsS0FBSyxDQUFDLG9EQUFvRCxDQUFDO0lBQ3ZFO0lBQ0EsSUFBSSxDQUFDZiw4QkFBdUIsQ0FBQ2MsSUFBSSxDQUFDZix1QkFBdUIsQ0FBQyxFQUFFO01BQzFELE1BQU0sSUFBSWdCLEtBQUssQ0FBQyx3REFBd0QsQ0FBQztJQUMzRTtJQUNBLElBQ0UsT0FBT0QsSUFBSSxDQUFDckIsa0JBQWtCLEtBQUssU0FBUyxJQUM1QyxPQUFPcUIsSUFBSSxDQUFDakIsb0JBQW9CLEtBQUssU0FBUyxJQUM5QyxPQUFPaUIsSUFBSSxDQUFDaEIsdUJBQXVCLEtBQUssU0FBUyxJQUNqRCxPQUFPZ0IsSUFBSSxDQUFDWixpQkFBaUIsS0FBSyxTQUFTLElBQzNDLE9BQU9ZLElBQUksQ0FBQ1gsMEJBQTBCLEtBQUssU0FBUyxFQUNwRDtNQUNBLE1BQU0sSUFBSVksS0FBSyxDQUNiLGlKQUFpSixDQUNsSjtJQUNIO0lBQ0FYLGdCQUFnQixHQUFHVSxJQUFJO0lBQ3ZCLGFBQWFFLG1CQUFVLENBQUNDLFlBQVksQ0FBQ0gsSUFBSSxDQUFDO0VBQzVDLENBQUM7RUFBQSxPQUFBTixrQkFBQSxDQUFBQyxLQUFBLE9BQUFDLFNBQUE7QUFBQSIsImlnbm9yZUxpc3QiOltdfQ==