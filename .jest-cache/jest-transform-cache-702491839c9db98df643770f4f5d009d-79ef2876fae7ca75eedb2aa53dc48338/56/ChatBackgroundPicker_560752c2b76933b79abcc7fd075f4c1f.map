{"version":3,"names":["React","View","Text","TouchableOpacity","StyleSheet","useChatBackgrounds","useThemeMode","jsx","_jsx","jsxs","_jsxs","ChatBackgroundPicker","_ref","chatId","onSelect","_ref$visible","visible","cov_21rigm2n9x","b","onClose","f","_ref2","s","backgrounds","setChatBackground","_ref3","theme","styles","createStyles","handleSelect","_ref4","_asyncToGenerator","backgroundId","_x","apply","arguments","style","container","children","title","grid","map","bg","backgroundItem","onPress","id","backgroundPreview","type","backgroundColor","value","Array","isArray","backgroundName","name","create","padding","fontSize","fontWeight","color","text","marginBottom","flexDirection","flexWrap","gap","alignItems","width","height","borderRadius","borderWidth","borderColor","borderSoft","textSecondary","textAlign"],"sources":["ChatBackgroundPicker.tsx"],"sourcesContent":["/**\n * Chat Background Picker Component\n * Allows users to select chat backgrounds\n */\n\nimport React from 'react';\nimport { View, Text, TouchableOpacity, StyleSheet } from 'react-native';\nimport { useChatBackgrounds } from '@/constants/ChatBackgroundsContext';\nimport { useThemeMode } from '@/constants/ThemeContext';\n\ninterface ChatBackgroundPickerProps {\n  chatId: string;\n  onSelect?: (backgroundId: string) => void;\n  visible?: boolean;\n  onClose?: () => void;\n}\n\nexport function ChatBackgroundPicker({ chatId, onSelect, visible = true, onClose }: ChatBackgroundPickerProps) {\n  const { backgrounds, setChatBackground } = useChatBackgrounds();\n  const { theme } = useThemeMode();\n  const styles = createStyles(theme);\n\n  const handleSelect = async (backgroundId: string) => {\n    await setChatBackground(chatId, backgroundId);\n    onSelect?.(backgroundId);\n    onClose?.();\n  };\n\n  if (!visible) return null;\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Выберите фон чата</Text>\n      <View style={styles.grid}>\n        {backgrounds.map((bg) => (\n          <TouchableOpacity\n            key={bg.id}\n            style={styles.backgroundItem}\n            onPress={() => handleSelect(bg.id)}\n          >\n            <View\n              style={[\n                styles.backgroundPreview,\n                bg.type === 'color' && { backgroundColor: bg.value as string },\n                bg.type === 'gradient' && {\n                  backgroundColor: Array.isArray(bg.value) ? bg.value[0] : '#FFFFFF',\n                },\n              ]}\n            />\n            <Text style={styles.backgroundName}>{bg.name}</Text>\n          </TouchableOpacity>\n        ))}\n      </View>\n    </View>\n  );\n}\n\nconst createStyles = (theme: any) => StyleSheet.create({\n  container: {\n    padding: 16,\n  },\n  title: {\n    fontSize: 18,\n    fontWeight: '600',\n    color: theme.text,\n    marginBottom: 16,\n  },\n  grid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 12,\n  },\n  backgroundItem: {\n    alignItems: 'center',\n    width: 100,\n  },\n  backgroundPreview: {\n    width: 80,\n    height: 80,\n    borderRadius: 8,\n    marginBottom: 8,\n    borderWidth: 1,\n    borderColor: theme.borderSoft,\n  },\n  backgroundName: {\n    fontSize: 12,\n    color: theme.textSecondary,\n    textAlign: 'center',\n  },\n});\n"],"mappings":"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","ignoreList":[]}