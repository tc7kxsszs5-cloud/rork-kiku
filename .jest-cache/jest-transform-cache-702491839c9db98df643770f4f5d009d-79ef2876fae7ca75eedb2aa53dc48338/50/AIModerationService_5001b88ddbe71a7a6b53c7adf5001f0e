8b055cb875b8fb17181ac948ff1ea602
import _toConsumableArray from "@babel/runtime/helpers/toConsumableArray";
import _asyncToGenerator from "@babel/runtime/helpers/asyncToGenerator";
import { analyzeMessageWithRealAI, getAIConfig } from '@/utils/aiService';
import { logger } from '@/utils/logger';
var DEFAULT_CONFIG = {
  useAdvancedAI: true,
  confidenceThreshold: 0.7,
  enableImageAnalysis: true,
  enableSentimentAnalysis: true
};
export function analyzeMessageWithAI(_x) {
  return _analyzeMessageWithAI.apply(this, arguments);
}
function _analyzeMessageWithAI() {
  _analyzeMessageWithAI = _asyncToGenerator(function* (text) {
    var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    var finalConfig = Object.assign({}, DEFAULT_CONFIG, config);
    var basicAnalysis = analyzeWithRules(text);
    if (basicAnalysis.riskLevel === 'critical') {
      return basicAnalysis;
    }
    if (finalConfig.useAdvancedAI) {
      try {
        var aiConfig = getAIConfig();
        if (aiConfig.provider !== 'local' && aiConfig.apiKey) {
          logger.debug('Using real AI API for analysis', {
            provider: aiConfig.provider
          });
          var realAIAnalysis = yield analyzeMessageWithRealAI(text, aiConfig);
          return combineAnalyses(basicAnalysis, realAIAnalysis);
        }
        var advancedAnalysis = yield analyzeWithAdvancedHeuristics(text);
        return combineAnalyses(basicAnalysis, advancedAnalysis);
      } catch (error) {
        logger.error('Advanced AI analysis failed, using basic', error instanceof Error ? error : new Error(String(error)));
        return basicAnalysis;
      }
    }
    return basicAnalysis;
  });
  return _analyzeMessageWithAI.apply(this, arguments);
}
export function analyzeImageWithAI(_x2) {
  return _analyzeImageWithAI.apply(this, arguments);
}
function _analyzeImageWithAI() {
  _analyzeImageWithAI = _asyncToGenerator(function* (imageUri) {
    var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    var finalConfig = Object.assign({}, DEFAULT_CONFIG, config);
    if (!finalConfig.enableImageAnalysis) {
      return {
        blocked: false,
        reasons: [],
        confidence: 0
      };
    }
    try {
      var basicCheck = analyzeImageWithRules(imageUri);
      if (basicCheck.blocked) {
        return Object.assign({}, basicCheck, {
          confidence: 0.8
        });
      }
      return {
        blocked: false,
        reasons: [],
        confidence: 0.5
      };
    } catch (error) {
      logger.error('Image analysis failed', error instanceof Error ? error : new Error(String(error)), {
        context: 'AIModerationService',
        action: 'analyzeImageWithAI'
      });
      return {
        blocked: false,
        reasons: [],
        confidence: 0
      };
    }
  });
  return _analyzeImageWithAI.apply(this, arguments);
}
function analyzeWithRules(text) {
  var normalized = text.toLowerCase();
  var criticalPatterns = [/(убью|убей|поконч|самоуб|умереть|взорв|бомб)/i, /(убить|смерть|суицид)/i];
  var highPatterns = [/(адрес|домашн|парол|паспорт|номер карты|cvv|секретный код)/i, /(перевед[ие]|деньг|карта|плати|5000|срочно оплат)/i, /(оруж|пистолет|нож|наркот|взрывчат)/i];
  var mediumPatterns = [/(никому не говори|встреча без взрослых|секретная встреча|ночью|приди один)/i, /(дурак|тупой|ненавижу тебя|жирный|урод|никчем)/i, /(страшно|мне плохо|я боюсь|меня преследуют|издеваются)/i];
  for (var pattern of criticalPatterns) {
    if (pattern.test(normalized)) {
      return {
        riskLevel: 'critical',
        reasons: ['Обнаружены критические угрозы'],
        confidence: 0.95,
        categories: ['threats']
      };
    }
  }
  for (var _pattern of highPatterns) {
    if (_pattern.test(normalized)) {
      return {
        riskLevel: 'high',
        reasons: ['Обнаружен высокий риск'],
        confidence: 0.85,
        categories: ['privacy', 'fraud']
      };
    }
  }
  for (var _pattern2 of mediumPatterns) {
    if (_pattern2.test(normalized)) {
      return {
        riskLevel: 'medium',
        reasons: ['Обнаружен средний риск'],
        confidence: 0.7,
        categories: ['grooming', 'bullying']
      };
    }
  }
  return {
    riskLevel: 'safe',
    reasons: [],
    confidence: 0.3,
    categories: []
  };
}
function analyzeWithAdvancedHeuristics(_x3) {
  return _analyzeWithAdvancedHeuristics.apply(this, arguments);
}
function _analyzeWithAdvancedHeuristics() {
  _analyzeWithAdvancedHeuristics = _asyncToGenerator(function* (text) {
    var length = text.length;
    var capsRatio = length > 0 ? (text.match(/[A-ZА-Я]/g) || []).length / length : 0;
    var isShouting = capsRatio > 0.5 && length > 10;
    var hasRepeats = /(.)\1{4,}/.test(text);
    var hasPhonePattern = /\d{10,}/.test(text);
    var hasAddressPattern = /(улица|дом|квартира|адрес)/i.test(text);
    var hasNegativeEmotions = /(плохо|страшно|боюсь|ненавижу|ужасно)/i.test(text);
    var riskLevel = 'safe';
    var reasons = [];
    var categories = [];
    var confidence = 0.3;
    if (isShouting && hasNegativeEmotions) {
      riskLevel = 'medium';
      reasons.push('Агрессивное сообщение с негативными эмоциями');
      categories.push('bullying');
      confidence = 0.65;
    }
    if (hasPhonePattern || hasAddressPattern) {
      riskLevel = 'high';
      reasons.push('Обнаружены личные данные');
      categories.push('privacy');
      confidence = 0.8;
    }
    if (hasRepeats && length > 20) {
      riskLevel = 'low';
      reasons.push('Подозрительный паттерн сообщения');
      categories.push('suspicious');
      confidence = 0.5;
    }
    return {
      riskLevel: riskLevel,
      reasons: reasons,
      confidence: confidence,
      categories: categories
    };
  });
  return _analyzeWithAdvancedHeuristics.apply(this, arguments);
}
function combineAnalyses(basic, advanced) {
  var levels = ['safe', 'low', 'medium', 'high', 'critical'];
  var basicIndex = levels.indexOf(basic.riskLevel);
  var advancedIndex = levels.indexOf(advanced.riskLevel);
  var combinedLevel = basicIndex > advancedIndex ? basic.riskLevel : advanced.riskLevel;
  var combinedReasons = _toConsumableArray(new Set([].concat(_toConsumableArray(basic.reasons), _toConsumableArray(advanced.reasons))));
  var combinedCategories = _toConsumableArray(new Set([].concat(_toConsumableArray(basic.categories), _toConsumableArray(advanced.categories))));
  var combinedConfidence = (basic.confidence + advanced.confidence) / 2;
  return {
    riskLevel: combinedLevel,
    reasons: combinedReasons,
    confidence: Math.min(0.99, combinedConfidence),
    categories: combinedCategories
  };
}
function analyzeImageWithRules(imageUri) {
  var normalized = imageUri.toLowerCase();
  var riskKeywords = ['weapon', 'blood', 'nsfw', 'violence', 'gun', 'knife', 'nude', 'explicit'];
  var hit = riskKeywords.find(function (keyword) {
    return normalized.includes(keyword);
  });
  if (hit) {
    return {
      blocked: true,
      reasons: [`Изображение содержит рискованный контент: ${hit}`]
    };
  }
  return {
    blocked: false,
    reasons: []
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhbmFseXplTWVzc2FnZVdpdGhSZWFsQUkiLCJnZXRBSUNvbmZpZyIsImxvZ2dlciIsIkRFRkFVTFRfQ09ORklHIiwidXNlQWR2YW5jZWRBSSIsImNvbmZpZGVuY2VUaHJlc2hvbGQiLCJlbmFibGVJbWFnZUFuYWx5c2lzIiwiZW5hYmxlU2VudGltZW50QW5hbHlzaXMiLCJhbmFseXplTWVzc2FnZVdpdGhBSSIsIl94IiwiX2FuYWx5emVNZXNzYWdlV2l0aEFJIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfYXN5bmNUb0dlbmVyYXRvciIsInRleHQiLCJjb25maWciLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJmaW5hbENvbmZpZyIsIk9iamVjdCIsImFzc2lnbiIsImJhc2ljQW5hbHlzaXMiLCJhbmFseXplV2l0aFJ1bGVzIiwicmlza0xldmVsIiwiYWlDb25maWciLCJwcm92aWRlciIsImFwaUtleSIsImRlYnVnIiwicmVhbEFJQW5hbHlzaXMiLCJjb21iaW5lQW5hbHlzZXMiLCJhZHZhbmNlZEFuYWx5c2lzIiwiYW5hbHl6ZVdpdGhBZHZhbmNlZEhldXJpc3RpY3MiLCJlcnJvciIsIkVycm9yIiwiU3RyaW5nIiwiYW5hbHl6ZUltYWdlV2l0aEFJIiwiX3gyIiwiX2FuYWx5emVJbWFnZVdpdGhBSSIsImltYWdlVXJpIiwiYmxvY2tlZCIsInJlYXNvbnMiLCJjb25maWRlbmNlIiwiYmFzaWNDaGVjayIsImFuYWx5emVJbWFnZVdpdGhSdWxlcyIsImNvbnRleHQiLCJhY3Rpb24iLCJub3JtYWxpemVkIiwidG9Mb3dlckNhc2UiLCJjcml0aWNhbFBhdHRlcm5zIiwiaGlnaFBhdHRlcm5zIiwibWVkaXVtUGF0dGVybnMiLCJwYXR0ZXJuIiwidGVzdCIsImNhdGVnb3JpZXMiLCJfeDMiLCJfYW5hbHl6ZVdpdGhBZHZhbmNlZEhldXJpc3RpY3MiLCJjYXBzUmF0aW8iLCJtYXRjaCIsImlzU2hvdXRpbmciLCJoYXNSZXBlYXRzIiwiaGFzUGhvbmVQYXR0ZXJuIiwiaGFzQWRkcmVzc1BhdHRlcm4iLCJoYXNOZWdhdGl2ZUVtb3Rpb25zIiwicHVzaCIsImJhc2ljIiwiYWR2YW5jZWQiLCJsZXZlbHMiLCJiYXNpY0luZGV4IiwiaW5kZXhPZiIsImFkdmFuY2VkSW5kZXgiLCJjb21iaW5lZExldmVsIiwiY29tYmluZWRSZWFzb25zIiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiU2V0IiwiY29uY2F0IiwiY29tYmluZWRDYXRlZ29yaWVzIiwiY29tYmluZWRDb25maWRlbmNlIiwiTWF0aCIsIm1pbiIsInJpc2tLZXl3b3JkcyIsImhpdCIsImZpbmQiLCJrZXl3b3JkIiwiaW5jbHVkZXMiXSwic291cmNlcyI6WyJBSU1vZGVyYXRpb25TZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJpc2tMZXZlbCwgUmlza0FuYWx5c2lzIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBhbmFseXplTWVzc2FnZVdpdGhSZWFsQUksIGdldEFJQ29uZmlnIH0gZnJvbSAnQC91dGlscy9haVNlcnZpY2UnO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnQC91dGlscy9sb2dnZXInO1xuXG4vKipcbiAqINCg0LDRgdGI0LjRgNC10L3QvdGL0Lkg0YHQtdGA0LLQuNGBIEFJINC80L7QtNC10YDQsNGG0LjQuFxuICog0JjRgdC/0L7Qu9GM0LfRg9C10YIg0LrQvtC80LHQuNC90LDRhtC40Y4g0L/RgNCw0LLQuNC7INC4IEFJINC00LvRjyDQsdC+0LvQtdC1INGC0L7Rh9C90L7Qs9C+INCw0L3QsNC70LjQt9CwXG4gKi9cblxuZXhwb3J0IGludGVyZmFjZSBBSU1vZGVyYXRpb25Db25maWcge1xuICB1c2VBZHZhbmNlZEFJOiBib29sZWFuO1xuICBjb25maWRlbmNlVGhyZXNob2xkOiBudW1iZXI7XG4gIGVuYWJsZUltYWdlQW5hbHlzaXM6IGJvb2xlYW47XG4gIGVuYWJsZVNlbnRpbWVudEFuYWx5c2lzOiBib29sZWFuO1xufVxuXG5jb25zdCBERUZBVUxUX0NPTkZJRzogQUlNb2RlcmF0aW9uQ29uZmlnID0ge1xuICB1c2VBZHZhbmNlZEFJOiB0cnVlLFxuICBjb25maWRlbmNlVGhyZXNob2xkOiAwLjcsXG4gIGVuYWJsZUltYWdlQW5hbHlzaXM6IHRydWUsXG4gIGVuYWJsZVNlbnRpbWVudEFuYWx5c2lzOiB0cnVlLFxufTtcblxuLyoqXG4gKiDQoNCw0YHRiNC40YDQtdC90L3Ri9C5INCw0L3QsNC70LjQtyDRgdC+0L7QsdGJ0LXQvdC40Y8g0YEg0LjRgdC/0L7Qu9GM0LfQvtCy0LDQvdC40LXQvCBBSVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYW5hbHl6ZU1lc3NhZ2VXaXRoQUkoXG4gIHRleHQ6IHN0cmluZyxcbiAgY29uZmlnOiBQYXJ0aWFsPEFJTW9kZXJhdGlvbkNvbmZpZz4gPSB7fVxuKTogUHJvbWlzZTxSaXNrQW5hbHlzaXM+IHtcbiAgY29uc3QgZmluYWxDb25maWcgPSB7IC4uLkRFRkFVTFRfQ09ORklHLCAuLi5jb25maWcgfTtcblxuICAvLyDQkdCw0LfQvtCy0LDRjyDQv9GA0L7QstC10YDQutCwINC90LAg0LrQu9GO0YfQtdCy0YvQtSDRgdC70L7QstCwICjQsdGL0YHRgtGA0LDRjylcbiAgY29uc3QgYmFzaWNBbmFseXNpcyA9IGFuYWx5emVXaXRoUnVsZXModGV4dCk7XG5cbiAgLy8g0JXRgdC70Lgg0LHQsNC30L7QstGL0Lkg0LDQvdCw0LvQuNC3INC/0L7QutCw0LfQsNC7INC60YDQuNGC0LjRh9C10YHQutC40Lkg0YDQuNGB0LosINCy0L7Qt9Cy0YDQsNGJ0LDQtdC8INGB0YDQsNC30YNcbiAgaWYgKGJhc2ljQW5hbHlzaXMucmlza0xldmVsID09PSAnY3JpdGljYWwnKSB7XG4gICAgcmV0dXJuIGJhc2ljQW5hbHlzaXM7XG4gIH1cblxuICAvLyDQldGB0LvQuCDQstC60LvRjtGH0LXQvSDRgNCw0YHRiNC40YDQtdC90L3Ri9C5IEFJINCw0L3QsNC70LjQt1xuICBpZiAoZmluYWxDb25maWcudXNlQWR2YW5jZWRBSSkge1xuICAgIHRyeSB7XG4gICAgICAvLyDQmNGB0L/QvtC70YzQt9GD0LXQvCDRgNC10LDQu9GM0L3Ri9C5IEFJIEFQSSDQtdGB0LvQuCDQvdCw0YHRgtGA0L7QtdC9XG4gICAgICBjb25zdCBhaUNvbmZpZyA9IGdldEFJQ29uZmlnKCk7XG4gICAgICBpZiAoYWlDb25maWcucHJvdmlkZXIgIT09ICdsb2NhbCcgJiYgYWlDb25maWcuYXBpS2V5KSB7XG4gICAgICAgIGxvZ2dlci5kZWJ1ZygnVXNpbmcgcmVhbCBBSSBBUEkgZm9yIGFuYWx5c2lzJywgeyBwcm92aWRlcjogYWlDb25maWcucHJvdmlkZXIgfSk7XG4gICAgICAgIGNvbnN0IHJlYWxBSUFuYWx5c2lzID0gYXdhaXQgYW5hbHl6ZU1lc3NhZ2VXaXRoUmVhbEFJKHRleHQsIGFpQ29uZmlnKTtcbiAgICAgICAgLy8g0J7QsdGK0LXQtNC40L3Rj9C10Lwg0YEg0LHQsNC30L7QstGL0Lwg0LDQvdCw0LvQuNC30L7QvCDQtNC70Y8g0LHQvtC70YzRiNC10Lkg0YLQvtGH0L3QvtGB0YLQuFxuICAgICAgICByZXR1cm4gY29tYmluZUFuYWx5c2VzKGJhc2ljQW5hbHlzaXMsIHJlYWxBSUFuYWx5c2lzKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRmFsbGJhY2sg0L3QsCDRg9C70YPRh9GI0LXQvdC90YvQuSDRjdCy0YDQuNGB0YLQuNGH0LXRgdC60LjQuSDQsNC90LDQu9C40LdcbiAgICAgIGNvbnN0IGFkdmFuY2VkQW5hbHlzaXMgPSBhd2FpdCBhbmFseXplV2l0aEFkdmFuY2VkSGV1cmlzdGljcyh0ZXh0KTtcbiAgICAgIHJldHVybiBjb21iaW5lQW5hbHlzZXMoYmFzaWNBbmFseXNpcywgYWR2YW5jZWRBbmFseXNpcyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcignQWR2YW5jZWQgQUkgYW5hbHlzaXMgZmFpbGVkLCB1c2luZyBiYXNpYycsIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IG5ldyBFcnJvcihTdHJpbmcoZXJyb3IpKSk7XG4gICAgICByZXR1cm4gYmFzaWNBbmFseXNpcztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYmFzaWNBbmFseXNpcztcbn1cblxuLyoqXG4gKiDQkNC90LDQu9C40Lcg0LjQt9C+0LHRgNCw0LbQtdC90LjRjyDRgSBBSVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYW5hbHl6ZUltYWdlV2l0aEFJKFxuICBpbWFnZVVyaTogc3RyaW5nLFxuICBjb25maWc6IFBhcnRpYWw8QUlNb2RlcmF0aW9uQ29uZmlnPiA9IHt9XG4pOiBQcm9taXNlPHsgYmxvY2tlZDogYm9vbGVhbjsgcmVhc29uczogc3RyaW5nW107IGNvbmZpZGVuY2U6IG51bWJlciB9PiB7XG4gIGNvbnN0IGZpbmFsQ29uZmlnID0geyAuLi5ERUZBVUxUX0NPTkZJRywgLi4uY29uZmlnIH07XG5cbiAgaWYgKCFmaW5hbENvbmZpZy5lbmFibGVJbWFnZUFuYWx5c2lzKSB7XG4gICAgcmV0dXJuIHsgYmxvY2tlZDogZmFsc2UsIHJlYXNvbnM6IFtdLCBjb25maWRlbmNlOiAwIH07XG4gIH1cblxuICB0cnkge1xuICAgIC8vINCR0LDQt9C+0LLQsNGPINC/0YDQvtCy0LXRgNC60LAg0L3QsCDQutC70Y7Rh9C10LLRi9C1INGB0LvQvtCy0LAg0LIgVVJJXG4gICAgY29uc3QgYmFzaWNDaGVjayA9IGFuYWx5emVJbWFnZVdpdGhSdWxlcyhpbWFnZVVyaSk7XG4gICAgXG4gICAgaWYgKGJhc2ljQ2hlY2suYmxvY2tlZCkge1xuICAgICAgcmV0dXJuIHsgLi4uYmFzaWNDaGVjaywgY29uZmlkZW5jZTogMC44IH07XG4gICAgfVxuXG4gICAgLy8g0JfQtNC10YHRjCDQvNC+0LbQvdC+INC00L7QsdCw0LLQuNGC0Ywg0YDQtdCw0LvRjNC90YvQuSBBSSDQsNC90LDQu9C40Lcg0LjQt9C+0LHRgNCw0LbQtdC90LjQuVxuICAgIC8vINCd0LDQv9GA0LjQvNC10YAsINGH0LXRgNC10LcgVmlzaW9uIEFQSSDQuNC70Lgg0YHQv9C10YbQuNCw0LvQuNC30LjRgNC+0LLQsNC90L3Ri9C1INGB0LXRgNCy0LjRgdGLINC80L7QtNC10YDQsNGG0LjQuFxuICAgIFxuICAgIHJldHVybiB7IGJsb2NrZWQ6IGZhbHNlLCByZWFzb25zOiBbXSwgY29uZmlkZW5jZTogMC41IH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nZ2VyLmVycm9yKCdJbWFnZSBhbmFseXNpcyBmYWlsZWQnLCBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoU3RyaW5nKGVycm9yKSksIHsgY29udGV4dDogJ0FJTW9kZXJhdGlvblNlcnZpY2UnLCBhY3Rpb246ICdhbmFseXplSW1hZ2VXaXRoQUknIH0pO1xuICAgIHJldHVybiB7IGJsb2NrZWQ6IGZhbHNlLCByZWFzb25zOiBbXSwgY29uZmlkZW5jZTogMCB9O1xuICB9XG59XG5cbi8qKlxuICog0JHQsNC30L7QstGL0Lkg0LDQvdCw0LvQuNC3INGBINC/0YDQsNCy0LjQu9Cw0LzQuCAo0LHRi9GB0YLRgNGL0LkpXG4gKi9cbmZ1bmN0aW9uIGFuYWx5emVXaXRoUnVsZXModGV4dDogc3RyaW5nKTogUmlza0FuYWx5c2lzIHtcbiAgY29uc3Qgbm9ybWFsaXplZCA9IHRleHQudG9Mb3dlckNhc2UoKTtcbiAgXG4gIC8vINCa0YDQuNGC0LjRh9C10YHQutC40LUg0L/QsNGC0YLQtdGA0L3Ri1xuICBjb25zdCBjcml0aWNhbFBhdHRlcm5zID0gW1xuICAgIC8o0YPQsdGM0Y580YPQsdC10Ll80L/QvtC60L7QvdGHfNGB0LDQvNC+0YPQsXzRg9C80LXRgNC10YLRjHzQstC30L7RgNCyfNCx0L7QvNCxKS9pLFxuICAgIC8o0YPQsdC40YLRjHzRgdC80LXRgNGC0Yx80YHRg9C40YbQuNC0KS9pLFxuICBdO1xuICBcbiAgLy8g0JLRi9GB0L7QutC40LUg0YDQuNGB0LrQuFxuICBjb25zdCBoaWdoUGF0dGVybnMgPSBbXG4gICAgLyjQsNC00YDQtdGBfNC00L7QvNCw0YjQvXzQv9Cw0YDQvtC7fNC/0LDRgdC/0L7RgNGCfNC90L7QvNC10YAg0LrQsNGA0YLRi3xjdnZ80YHQtdC60YDQtdGC0L3Ri9C5INC60L7QtCkvaSxcbiAgICAvKNC/0LXRgNC10LLQtdC0W9C40LVdfNC00LXQvdGM0LN80LrQsNGA0YLQsHzQv9C70LDRgtC4fDUwMDB80YHRgNC+0YfQvdC+INC+0L/Qu9Cw0YIpL2ksXG4gICAgLyjQvtGA0YPQtnzQv9C40YHRgtC+0LvQtdGCfNC90L7QtnzQvdCw0YDQutC+0YJ80LLQt9GA0YvQstGH0LDRgikvaSxcbiAgXTtcbiAgXG4gIC8vINCh0YDQtdC00L3QuNC1INGA0LjRgdC60LhcbiAgY29uc3QgbWVkaXVtUGF0dGVybnMgPSBbXG4gICAgLyjQvdC40LrQvtC80YMg0L3QtSDQs9C+0LLQvtGA0Lh80LLRgdGC0YDQtdGH0LAg0LHQtdC3INCy0LfRgNC+0YHQu9GL0YV80YHQtdC60YDQtdGC0L3QsNGPINCy0YHRgtGA0LXRh9CwfNC90L7Rh9GM0Y580L/RgNC40LTQuCDQvtC00LjQvSkvaSxcbiAgICAvKNC00YPRgNCw0Lp80YLRg9C/0L7QuXzQvdC10L3QsNCy0LjQttGDINGC0LXQsdGPfNC20LjRgNC90YvQuXzRg9GA0L7QtHzQvdC40LrRh9C10LwpL2ksXG4gICAgLyjRgdGC0YDQsNGI0L3QvnzQvNC90LUg0L/Qu9C+0YXQvnzRjyDQsdC+0Y7RgdGMfNC80LXQvdGPINC/0YDQtdGB0LvQtdC00YPRjtGCfNC40LfQtNC10LLQsNGO0YLRgdGPKS9pLFxuICBdO1xuXG4gIC8vINCf0YDQvtCy0LXRgNC60LAg0LrRgNC40YLQuNGH0LXRgdC60LjRhVxuICBmb3IgKGNvbnN0IHBhdHRlcm4gb2YgY3JpdGljYWxQYXR0ZXJucykge1xuICAgIGlmIChwYXR0ZXJuLnRlc3Qobm9ybWFsaXplZCkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJpc2tMZXZlbDogJ2NyaXRpY2FsJyxcbiAgICAgICAgcmVhc29uczogWyfQntCx0L3QsNGA0YPQttC10L3RiyDQutGA0LjRgtC40YfQtdGB0LrQuNC1INGD0LPRgNC+0LfRiyddLFxuICAgICAgICBjb25maWRlbmNlOiAwLjk1LFxuICAgICAgICBjYXRlZ29yaWVzOiBbJ3RocmVhdHMnXSxcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLy8g0J/RgNC+0LLQtdGA0LrQsCDQstGL0YHQvtC60LjRhVxuICBmb3IgKGNvbnN0IHBhdHRlcm4gb2YgaGlnaFBhdHRlcm5zKSB7XG4gICAgaWYgKHBhdHRlcm4udGVzdChub3JtYWxpemVkKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmlza0xldmVsOiAnaGlnaCcsXG4gICAgICAgIHJlYXNvbnM6IFsn0J7QsdC90LDRgNGD0LbQtdC9INCy0YvRgdC+0LrQuNC5INGA0LjRgdC6J10sXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuODUsXG4gICAgICAgIGNhdGVnb3JpZXM6IFsncHJpdmFjeScsICdmcmF1ZCddLFxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICAvLyDQn9GA0L7QstC10YDQutCwINGB0YDQtdC00L3QuNGFXG4gIGZvciAoY29uc3QgcGF0dGVybiBvZiBtZWRpdW1QYXR0ZXJucykge1xuICAgIGlmIChwYXR0ZXJuLnRlc3Qobm9ybWFsaXplZCkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJpc2tMZXZlbDogJ21lZGl1bScsXG4gICAgICAgIHJlYXNvbnM6IFsn0J7QsdC90LDRgNGD0LbQtdC9INGB0YDQtdC00L3QuNC5INGA0LjRgdC6J10sXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuNyxcbiAgICAgICAgY2F0ZWdvcmllczogWydncm9vbWluZycsICdidWxseWluZyddLFxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHJpc2tMZXZlbDogJ3NhZmUnLFxuICAgIHJlYXNvbnM6IFtdLFxuICAgIGNvbmZpZGVuY2U6IDAuMyxcbiAgICBjYXRlZ29yaWVzOiBbXSxcbiAgfTtcbn1cblxuLyoqXG4gKiDQoNCw0YHRiNC40YDQtdC90L3Ri9C5INGN0LLRgNC40YHRgtC40YfQtdGB0LrQuNC5INCw0L3QsNC70LjQt1xuICovXG5hc3luYyBmdW5jdGlvbiBhbmFseXplV2l0aEFkdmFuY2VkSGV1cmlzdGljcyh0ZXh0OiBzdHJpbmcpOiBQcm9taXNlPFJpc2tBbmFseXNpcz4ge1xuICAvLyDQkNC90LDQu9C40Lcg0LTQu9C40L3RiyDRgdC+0L7QsdGJ0LXQvdC40Y9cbiAgY29uc3QgbGVuZ3RoID0gdGV4dC5sZW5ndGg7XG4gIFxuICAvLyDQkNC90LDQu9C40Lcg0LjRgdC/0L7Qu9GM0LfQvtCy0LDQvdC40Y8g0LfQsNCz0LvQsNCy0L3Ri9GFINCx0YPQutCyICjQutGA0LjQutC4KVxuICBjb25zdCBjYXBzUmF0aW8gPSBsZW5ndGggPiAwID8gKHRleHQubWF0Y2goL1tBLVrQkC3Qr10vZykgfHwgW10pLmxlbmd0aCAvIGxlbmd0aCA6IDA7XG4gIGNvbnN0IGlzU2hvdXRpbmcgPSBjYXBzUmF0aW8gPiAwLjUgJiYgbGVuZ3RoID4gMTA7XG4gIFxuICAvLyDQkNC90LDQu9C40Lcg0L/QvtCy0YLQvtGA0Y/RjtGJ0LjRhdGB0Y8g0YHQuNC80LLQvtC70L7QslxuICBjb25zdCBoYXNSZXBlYXRzID0gLyguKVxcMXs0LH0vLnRlc3QodGV4dCk7XG4gIFxuICAvLyDQkNC90LDQu9C40Lcg0YfQuNGB0LvQvtCy0YvRhSDQv9Cw0YLRgtC10YDQvdC+0LIgKNCy0L7Qt9C80L7QttC90YvQtSDRgtC10LvQtdGE0L7QvdGLLCDQsNC00YDQtdGB0LApXG4gIGNvbnN0IGhhc1Bob25lUGF0dGVybiA9IC9cXGR7MTAsfS8udGVzdCh0ZXh0KTtcbiAgY29uc3QgaGFzQWRkcmVzc1BhdHRlcm4gPSAvKNGD0LvQuNGG0LB80LTQvtC8fNC60LLQsNGA0YLQuNGA0LB80LDQtNGA0LXRgSkvaS50ZXN0KHRleHQpO1xuICBcbiAgLy8g0JDQvdCw0LvQuNC3INGN0LzQvtGG0LjQvtC90LDQu9GM0L3Ri9GFINC80LDRgNC60LXRgNC+0LJcbiAgY29uc3QgaGFzTmVnYXRpdmVFbW90aW9ucyA9IC8o0L/Qu9C+0YXQvnzRgdGC0YDQsNGI0L3QvnzQsdC+0Y7RgdGMfNC90LXQvdCw0LLQuNC20YN80YPQttCw0YHQvdC+KS9pLnRlc3QodGV4dCk7XG4gIFxuICBsZXQgcmlza0xldmVsOiBSaXNrTGV2ZWwgPSAnc2FmZSc7XG4gIGNvbnN0IHJlYXNvbnM6IHN0cmluZ1tdID0gW107XG4gIGNvbnN0IGNhdGVnb3JpZXM6IHN0cmluZ1tdID0gW107XG4gIGxldCBjb25maWRlbmNlID0gMC4zO1xuXG4gIGlmIChpc1Nob3V0aW5nICYmIGhhc05lZ2F0aXZlRW1vdGlvbnMpIHtcbiAgICByaXNrTGV2ZWwgPSAnbWVkaXVtJztcbiAgICByZWFzb25zLnB1c2goJ9CQ0LPRgNC10YHRgdC40LLQvdC+0LUg0YHQvtC+0LHRidC10L3QuNC1INGBINC90LXQs9Cw0YLQuNCy0L3Ri9C80Lgg0Y3QvNC+0YbQuNGP0LzQuCcpO1xuICAgIGNhdGVnb3JpZXMucHVzaCgnYnVsbHlpbmcnKTtcbiAgICBjb25maWRlbmNlID0gMC42NTtcbiAgfVxuXG4gIGlmIChoYXNQaG9uZVBhdHRlcm4gfHwgaGFzQWRkcmVzc1BhdHRlcm4pIHtcbiAgICByaXNrTGV2ZWwgPSAnaGlnaCc7XG4gICAgcmVhc29ucy5wdXNoKCfQntCx0L3QsNGA0YPQttC10L3RiyDQu9C40YfQvdGL0LUg0LTQsNC90L3Ri9C1Jyk7XG4gICAgY2F0ZWdvcmllcy5wdXNoKCdwcml2YWN5Jyk7XG4gICAgY29uZmlkZW5jZSA9IDAuODtcbiAgfVxuXG4gIGlmIChoYXNSZXBlYXRzICYmIGxlbmd0aCA+IDIwKSB7XG4gICAgcmlza0xldmVsID0gJ2xvdyc7XG4gICAgcmVhc29ucy5wdXNoKCfQn9C+0LTQvtC30YDQuNGC0LXQu9GM0L3Ri9C5INC/0LDRgtGC0LXRgNC9INGB0L7QvtCx0YnQtdC90LjRjycpO1xuICAgIGNhdGVnb3JpZXMucHVzaCgnc3VzcGljaW91cycpO1xuICAgIGNvbmZpZGVuY2UgPSAwLjU7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHJpc2tMZXZlbCxcbiAgICByZWFzb25zLFxuICAgIGNvbmZpZGVuY2UsXG4gICAgY2F0ZWdvcmllcyxcbiAgfTtcbn1cblxuLyoqXG4gKiDQntCx0YrQtdC00LjQvdC10L3QuNC1INGA0LXQt9GD0LvRjNGC0LDRgtC+0LIg0LDQvdCw0LvQuNC30LBcbiAqL1xuZnVuY3Rpb24gY29tYmluZUFuYWx5c2VzKFxuICBiYXNpYzogUmlza0FuYWx5c2lzLFxuICBhZHZhbmNlZDogUmlza0FuYWx5c2lzXG4pOiBSaXNrQW5hbHlzaXMge1xuICBjb25zdCBsZXZlbHM6IFJpc2tMZXZlbFtdID0gWydzYWZlJywgJ2xvdycsICdtZWRpdW0nLCAnaGlnaCcsICdjcml0aWNhbCddO1xuICBjb25zdCBiYXNpY0luZGV4ID0gbGV2ZWxzLmluZGV4T2YoYmFzaWMucmlza0xldmVsKTtcbiAgY29uc3QgYWR2YW5jZWRJbmRleCA9IGxldmVscy5pbmRleE9mKGFkdmFuY2VkLnJpc2tMZXZlbCk7XG4gIFxuICAvLyDQkdC10YDQtdC8INCx0L7Qu9C10LUg0LLRi9GB0L7QutC40Lkg0YPRgNC+0LLQtdC90Ywg0YDQuNGB0LrQsFxuICBjb25zdCBjb21iaW5lZExldmVsID0gYmFzaWNJbmRleCA+IGFkdmFuY2VkSW5kZXggPyBiYXNpYy5yaXNrTGV2ZWwgOiBhZHZhbmNlZC5yaXNrTGV2ZWw7XG4gIFxuICAvLyDQntCx0YrQtdC00LjQvdGP0LXQvCDQv9GA0LjRh9C40L3Ri1xuICBjb25zdCBjb21iaW5lZFJlYXNvbnMgPSBbLi4ubmV3IFNldChbLi4uYmFzaWMucmVhc29ucywgLi4uYWR2YW5jZWQucmVhc29uc10pXTtcbiAgY29uc3QgY29tYmluZWRDYXRlZ29yaWVzID0gWy4uLm5ldyBTZXQoWy4uLmJhc2ljLmNhdGVnb3JpZXMsIC4uLmFkdmFuY2VkLmNhdGVnb3JpZXNdKV07XG4gIFxuICAvLyDQo9GB0YDQtdC00L3Rj9C10Lwg0YPQstC10YDQtdC90L3QvtGB0YLRjFxuICBjb25zdCBjb21iaW5lZENvbmZpZGVuY2UgPSAoYmFzaWMuY29uZmlkZW5jZSArIGFkdmFuY2VkLmNvbmZpZGVuY2UpIC8gMjtcblxuICByZXR1cm4ge1xuICAgIHJpc2tMZXZlbDogY29tYmluZWRMZXZlbCxcbiAgICByZWFzb25zOiBjb21iaW5lZFJlYXNvbnMsXG4gICAgY29uZmlkZW5jZTogTWF0aC5taW4oMC45OSwgY29tYmluZWRDb25maWRlbmNlKSxcbiAgICBjYXRlZ29yaWVzOiBjb21iaW5lZENhdGVnb3JpZXMsXG4gIH07XG59XG5cbi8qKlxuICog0JHQsNC30L7QstGL0Lkg0LDQvdCw0LvQuNC3INC40LfQvtCx0YDQsNC20LXQvdC40LlcbiAqL1xuZnVuY3Rpb24gYW5hbHl6ZUltYWdlV2l0aFJ1bGVzKGltYWdlVXJpOiBzdHJpbmcpOiB7IGJsb2NrZWQ6IGJvb2xlYW47IHJlYXNvbnM6IHN0cmluZ1tdIH0ge1xuICBjb25zdCBub3JtYWxpemVkID0gaW1hZ2VVcmkudG9Mb3dlckNhc2UoKTtcbiAgY29uc3Qgcmlza0tleXdvcmRzID0gWyd3ZWFwb24nLCAnYmxvb2QnLCAnbnNmdycsICd2aW9sZW5jZScsICdndW4nLCAna25pZmUnLCAnbnVkZScsICdleHBsaWNpdCddO1xuICBcbiAgY29uc3QgaGl0ID0gcmlza0tleXdvcmRzLmZpbmQoKGtleXdvcmQpID0+IG5vcm1hbGl6ZWQuaW5jbHVkZXMoa2V5d29yZCkpO1xuICBpZiAoaGl0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJsb2NrZWQ6IHRydWUsXG4gICAgICByZWFzb25zOiBbYNCY0LfQvtCx0YDQsNC20LXQvdC40LUg0YHQvtC00LXRgNC20LjRgiDRgNC40YHQutC+0LLQsNC90L3Ri9C5INC60L7QvdGC0LXQvdGCOiAke2hpdH1gXSxcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHsgYmxvY2tlZDogZmFsc2UsIHJlYXNvbnM6IFtdIH07XG59XG5cbiJdLCJtYXBwaW5ncyI6Ijs7QUFDQSxTQUFTQSx3QkFBd0IsRUFBRUMsV0FBVyxRQUFRLG1CQUFtQjtBQUN6RSxTQUFTQyxN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