54199804f5d4c338bede53edf2248236
import { isTrialExpired, isSubscriptionExpired, checkSubscriptionStatus } from '@/utils/premiumStatus';
describe('isTrialExpired', function () {
  it('должен возвращать false для free статуса', function () {
    var status = {
      tier: 'free',
      features: {
        advancedAnalytics: false,
        extendedHistory: false,
        multipleChildren: false,
        prioritySupport: false,
        customAlerts: false,
        exportData: false,
        aiRecommendations: false
      }
    };
    expect(isTrialExpired(status, Date.now())).toBe(false);
  });
  it('должен возвращать false если trial еще не истек', function () {
    var futureTime = Date.now() + 7 * 24 * 60 * 60 * 1000;
    var status = {
      tier: 'trial',
      trialEndDate: futureTime,
      features: {
        advancedAnalytics: true,
        extendedHistory: true,
        multipleChildren: true,
        prioritySupport: true,
        customAlerts: true,
        exportData: true,
        aiRecommendations: true
      }
    };
    expect(isTrialExpired(status, Date.now())).toBe(false);
  });
  it('должен возвращать true если trial истек', function () {
    var pastTime = Date.now() - 1000;
    var status = {
      tier: 'trial',
      trialEndDate: pastTime,
      features: {
        advancedAnalytics: true,
        extendedHistory: true,
        multipleChildren: true,
        prioritySupport: true,
        customAlerts: true,
        exportData: true,
        aiRecommendations: true
      }
    };
    expect(isTrialExpired(status, Date.now())).toBe(true);
  });
  it('должен возвращать false если trialEndDate отсутствует', function () {
    var status = {
      tier: 'trial',
      features: {
        advancedAnalytics: true,
        extendedHistory: true,
        multipleChildren: true,
        prioritySupport: true,
        customAlerts: true,
        exportData: true,
        aiRecommendations: true
      }
    };
    expect(isTrialExpired(status, Date.now())).toBe(false);
  });
});
describe('isSubscriptionExpired', function () {
  it('должен возвращать false для free статуса', function () {
    var status = {
      tier: 'free',
      features: {
        advancedAnalytics: false,
        extendedHistory: false,
        multipleChildren: false,
        prioritySupport: false,
        customAlerts: false,
        exportData: false,
        aiRecommendations: false
      }
    };
    expect(isSubscriptionExpired(status, Date.now())).toBe(false);
  });
  it('должен возвращать false если подписка еще не истекла', function () {
    var futureTime = Date.now() + 30 * 24 * 60 * 60 * 1000;
    var status = {
      tier: 'premium',
      subscriptionId: 'sub_123',
      subscriptionStartDate: Date.now(),
      subscriptionEndDate: futureTime,
      features: {
        advancedAnalytics: true,
        extendedHistory: true,
        multipleChildren: true,
        prioritySupport: true,
        customAlerts: true,
        exportData: true,
        aiRecommendations: true
      }
    };
    expect(isSubscriptionExpired(status, Date.now())).toBe(false);
  });
  it('должен возвращать true если подписка истекла', function () {
    var pastTime = Date.now() - 1000;
    var status = {
      tier: 'premium',
      subscriptionId: 'sub_123',
      subscriptionStartDate: pastTime - 30 * 24 * 60 * 60 * 1000,
      subscriptionEndDate: pastTime,
      features: {
        advancedAnalytics: true,
        extendedHistory: true,
        multipleChildren: true,
        prioritySupport: true,
        customAlerts: true,
        exportData: true,
        aiRecommendations: true
      }
    };
    expect(isSubscriptionExpired(status, Date.now())).toBe(true);
  });
});
describe('checkSubscriptionStatus', function () {
  it('должен возвращать updated: false если статус не изменился', function () {
    var futureTime = Date.now() + 7 * 24 * 60 * 60 * 1000;
    var status = {
      tier: 'trial',
      trialEndDate: futureTime,
      features: {
        advancedAnalytics: true,
        extendedHistory: true,
        multipleChildren: true,
        prioritySupport: true,
        customAlerts: true,
        exportData: true,
        aiRecommendations: true
      }
    };
    var result = checkSubscriptionStatus(status, Date.now());
    expect(result.updated).toBe(false);
    expect(result.newStatus.tier).toBe('trial');
  });
  it('должен обновлять статус на free если trial истек', function () {
    var pastTime = Date.now() - 1000;
    var status = {
      tier: 'trial',
      trialEndDate: pastTime,
      features: {
        advancedAnalytics: true,
        extendedHistory: true,
        multipleChildren: true,
        prioritySupport: true,
        customAlerts: true,
        exportData: true,
        aiRecommendations: true
      }
    };
    var result = checkSubscriptionStatus(status, Date.now());
    expect(result.updated).toBe(true);
    expect(result.newStatus.tier).toBe('free');
    expect(result.newStatus.features.advancedAnalytics).toBe(false);
    expect(result.newStatus.trialEndDate).toBeUndefined();
  });
  it('должен обновлять статус на free если подписка истекла', function () {
    var pastTime = Date.now() - 1000;
    var status = {
      tier: 'premium',
      subscriptionId: 'sub_123',
      subscriptionStartDate: pastTime - 30 * 24 * 60 * 60 * 1000,
      subscriptionEndDate: pastTime,
      features: {
        advancedAnalytics: true,
        extendedHistory: true,
        multipleChildren: true,
        prioritySupport: true,
        customAlerts: true,
        exportData: true,
        aiRecommendations: true
      }
    };
    var result = checkSubscriptionStatus(status, Date.now());
    expect(result.updated).toBe(true);
    expect(result.newStatus.tier).toBe('free');
    expect(result.newStatus.features.advancedAnalytics).toBe(false);
    expect(result.newStatus.subscriptionId).toBeUndefined();
    expect(result.newStatus.subscriptionEndDate).toBeUndefined();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpc1RyaWFsRXhwaXJlZCIsImlzU3Vic2NyaXB0aW9uRXhwaXJlZCIsImNoZWNrU3Vic2NyaXB0aW9uU3RhdHVzIiwiZGVzY3JpYmUiLCJpdCIsInN0YXR1cyIsInRpZXIiLCJmZWF0dXJlcyIsImFkdmFuY2VkQW5hbHl0aWNzIiwiZXh0ZW5kZWRIaXN0b3J5IiwibXVsdGlwbGVDaGlsZHJlbiIsInByaW9yaXR5U3VwcG9ydCIsImN1c3RvbUFsZXJ0cyIsImV4cG9ydERhdGEiLCJhaVJlY29tbWVuZGF0aW9ucyIsImV4cGVjdCIsIkRhdGUiLCJub3ciLCJ0b0JlIiwiZnV0dXJlVGltZSIsInRyaWFsRW5kRGF0ZSIsInBhc3RUaW1lIiwic3Vic2NyaXB0aW9uSWQiLCJzdWJzY3JpcHRpb25TdGFydERhdGUiLCJzdWJzY3JpcHRpb25FbmREYXRlIiwicmVzdWx0IiwidXBkYXRlZCIsIm5ld1N0YXR1cyIsInRvQmVVbmRlZmluZWQiXSwic291cmNlcyI6WyJwcmVtaXVtU3RhdHVzLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiDQnNC+0LTRg9C70YzQvdGL0LUg0YLQtdGB0YLRiyDQtNC70Y8g0L/RgNC+0LLQtdGA0LrQuCDRgdGC0LDRgtGD0YHQsCBwcmVtaXVtINC/0L7QtNC/0LjRgdC60LhcbiAqINCi0L7Qu9GM0LrQviDQtNC10YLQtdGA0LzQuNC90LjRgNC+0LLQsNC90L3Ri9C1INGC0LXRgdGC0YsgLSDQvdC40LrQsNC60LjRhSDQuNC90YLQtdCz0YDQsNGG0LjQuS/QsNGB0LjQvdGF0YDQvtC90L3QvtGB0YLQuFxuICovXG5cbmltcG9ydCB7XG4gIGlzVHJpYWxFeHBpcmVkLFxuICBpc1N1YnNjcmlwdGlvbkV4cGlyZWQsXG4gIGNoZWNrU3Vic2NyaXB0aW9uU3RhdHVzLFxufSBmcm9tICdAL3V0aWxzL3ByZW1pdW1TdGF0dXMnO1xuaW1wb3J0IHsgUHJlbWl1bVN0YXR1cyB9IGZyb20gJ0AvY29uc3RhbnRzL1ByZW1pdW1Db250ZXh0JztcblxuZGVzY3JpYmUoJ2lzVHJpYWxFeHBpcmVkJywgKCkgPT4ge1xuICBpdCgn0LTQvtC70LbQtdC9INCy0L7Qt9Cy0YDQsNGJ0LDRgtGMIGZhbHNlINC00LvRjyBmcmVlINGB0YLQsNGC0YPRgdCwJywgKCkgPT4ge1xuICAgIGNvbnN0IHN0YXR1czogUHJlbWl1bVN0YXR1cyA9IHtcbiAgICAgIHRpZXI6ICdmcmVlJyxcbiAgICAgIGZlYXR1cmVzOiB7XG4gICAgICAgIGFkdmFuY2VkQW5hbHl0aWNzOiBmYWxzZSxcbiAgICAgICAgZXh0ZW5kZWRIaXN0b3J5OiBmYWxzZSxcbiAgICAgICAgbXVsdGlwbGVDaGlsZHJlbjogZmFsc2UsXG4gICAgICAgIHByaW9yaXR5U3VwcG9ydDogZmFsc2UsXG4gICAgICAgIGN1c3RvbUFsZXJ0czogZmFsc2UsXG4gICAgICAgIGV4cG9ydERhdGE6IGZhbHNlLFxuICAgICAgICBhaVJlY29tbWVuZGF0aW9uczogZmFsc2UsXG4gICAgICB9LFxuICAgIH07XG5cbiAgICBleHBlY3QoaXNUcmlhbEV4cGlyZWQoc3RhdHVzLCBEYXRlLm5vdygpKSkudG9CZShmYWxzZSk7XG4gIH0pO1xuXG4gIGl0KCfQtNC+0LvQttC10L0g0LLQvtC30LLRgNCw0YnQsNGC0YwgZmFsc2Ug0LXRgdC70LggdHJpYWwg0LXRidC1INC90LUg0LjRgdGC0LXQuicsICgpID0+IHtcbiAgICBjb25zdCBmdXR1cmVUaW1lID0gRGF0ZS5ub3coKSArIDcgKiAyNCAqIDYwICogNjAgKiAxMDAwOyAvLyArNyDQtNC90LXQuVxuICAgIGNvbnN0IHN0YXR1czogUHJlbWl1bVN0YXR1cyA9IHtcbiAgICAgIHRpZXI6ICd0cmlhbCcsXG4gICAgICB0cmlhbEVuZERhdGU6IGZ1dHVyZVRpbWUsXG4gICAgICBmZWF0dXJlczoge1xuICAgICAgICBhZHZhbmNlZEFuYWx5dGljczogdHJ1ZSxcbiAgICAgICAgZXh0ZW5kZWRIaXN0b3J5OiB0cnVlLFxuICAgICAgICBtdWx0aXBsZUNoaWxkcmVuOiB0cnVlLFxuICAgICAgICBwcmlvcml0eVN1cHBvcnQ6IHRydWUsXG4gICAgICAgIGN1c3RvbUFsZXJ0czogdHJ1ZSxcbiAgICAgICAgZXhwb3J0RGF0YTogdHJ1ZSxcbiAgICAgICAgYWlSZWNvbW1lbmRhdGlvbnM6IHRydWUsXG4gICAgICB9LFxuICAgIH07XG5cbiAgICBleHBlY3QoaXNUcmlhbEV4cGlyZWQoc3RhdHVzLCBEYXRlLm5vdygpKSkudG9CZShmYWxzZSk7XG4gIH0pO1xuXG4gIGl0KCfQtNC+0LvQttC10L0g0LLQvtC30LLRgNCw0YnQsNGC0YwgdHJ1ZSDQtdGB0LvQuCB0cmlhbCDQuNGB0YLQtdC6JywgKCkgPT4ge1xuICAgIGNvbnN0IHBhc3RUaW1lID0gRGF0ZS5ub3coKSAtIDEwMDA7IC8vIC0xINGB0LXQutGD0L3QtNCwXG4gICAgY29uc3Qgc3RhdHVzOiBQcmVtaXVtU3RhdHVzID0ge1xuICAgICAgdGllcjogJ3RyaWFsJyxcbiAgICAgIHRyaWFsRW5kRGF0ZTogcGFzdFRpbWUsXG4gICAgICBmZWF0dXJlczoge1xuICAgICAgICBhZHZhbmNlZEFuYWx5dGljczogdHJ1ZSxcbiAgICAgICAgZXh0ZW5kZWRIaXN0b3J5OiB0cnVlLFxuICAgICAgICBtdWx0aXBsZUNoaWxkcmVuOiB0cnVlLFxuICAgICAgICBwcmlvcml0eVN1cHBvcnQ6IHRydWUsXG4gICAgICAgIGN1c3RvbUFsZXJ0czogdHJ1ZSxcbiAgICAgICAgZXhwb3J0RGF0YTogdHJ1ZSxcbiAgICAgICAgYWlSZWNvbW1lbmRhdGlvbnM6IHRydWUsXG4gICAgICB9LFxuICAgIH07XG5cbiAgICBleHBlY3QoaXNUcmlhbEV4cGlyZWQoc3RhdHVzLCBEYXRlLm5vdygpKSkudG9CZSh0cnVlKTtcbiAgfSk7XG5cbiAgaXQoJ9C00L7Qu9C20LXQvSDQstC+0LfQstGA0LDRidCw0YLRjCBmYWxzZSDQtdGB0LvQuCB0cmlhbEVuZERhdGUg0L7RgtGB0YPRgtGB0YLQstGD0LXRgicsICgpID0+IHtcbiAgICBjb25zdCBzdGF0dXM6IFByZW1pdW1TdGF0dXMgPSB7XG4gICAgICB0aWVyOiAndHJpYWwnLFxuICAgICAgZmVhdHVyZXM6IHtcbiAgICAgICAgYWR2YW5jZWRBbmFseXRpY3M6IHRydWUsXG4gICAgICAgIGV4dGVuZGVkSGlzdG9yeTogdHJ1ZSxcbiAgICAgICAgbXVsdGlwbGVDaGlsZHJlbjogdHJ1ZSxcbiAgICAgICAgcHJpb3JpdHlTdXBwb3J0OiB0cnVlLFxuICAgICAgICBjdXN0b21BbGVydHM6IHRydWUsXG4gICAgICAgIGV4cG9ydERhdGE6IHRydWUsXG4gICAgICAgIGFpUmVjb21tZW5kYXRpb25zOiB0cnVlLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgZXhwZWN0KGlzVHJpYWxFeHBpcmVkKHN0YXR1cywgRGF0ZS5ub3coKSkpLnRvQmUoZmFsc2UpO1xuICB9KTtcbn0pO1xuXG5kZXNjcmliZSgnaXNTdWJzY3JpcHRpb25FeHBpcmVkJywgKCkgPT4ge1xuICBpdCgn0LTQvtC70LbQtdC9INCy0L7Qt9Cy0YDQsNGJ0LDRgtGMIGZhbHNlINC00LvRjyBmcmVlINGB0YLQsNGC0YPRgdCwJywgKCkgPT4ge1xuICAgIGNvbnN0IHN0YXR1czogUHJlbWl1bVN0YXR1cyA9IHtcbiAgICAgIHRpZXI6ICdmcmVlJyxcbiAgICAgIGZlYXR1cmVzOiB7XG4gICAgICAgIGFkdmFuY2VkQW5hbHl0aWNzOiBmYWxzZSxcbiAgICAgICAgZXh0ZW5kZWRIaXN0b3J5OiBmYWxzZSxcbiAgICAgICAgbXVsdGlwbGVDaGlsZHJlbjogZmFsc2UsXG4gICAgICAgIHByaW9yaXR5U3VwcG9ydDogZmFsc2UsXG4gICAgICAgIGN1c3RvbUFsZXJ0czogZmFsc2UsXG4gICAgICAgIGV4cG9ydERhdGE6IGZhbHNlLFxuICAgICAgICBhaVJlY29tbWVuZGF0aW9uczogZmFsc2UsXG4gICAgICB9LFxuICAgIH07XG5cbiAgICBleHBlY3QoaXNTdWJzY3JpcHRpb25FeHBpcmVkKHN0YXR1cywgRGF0ZS5ub3coKSkpLnRvQmUoZmFsc2UpO1xuICB9KTtcblxuICBpdCgn0LTQvtC70LbQtdC9INCy0L7Qt9Cy0YDQsNGJ0LDRgtGMIGZhbHNlINC10YHQu9C4INC/0L7QtNC/0LjRgdC60LAg0LXRidC1INC90LUg0LjRgdGC0LXQutC70LAnLCAoKSA9PiB7XG4gICAgY29uc3QgZnV0dXJlVGltZSA9IERhdGUubm93KCkgKyAzMCAqIDI0ICogNjAgKiA2MCAqIDEwMDA7IC8vICszMCDQtNC90LXQuVxuICAgIGNvbnN0IHN0YXR1czogUHJlbWl1bVN0YXR1cyA9IHtcbiAgICAgIHRpZXI6ICdwcmVtaXVtJyxcbiAgICAgIHN1YnNjcmlwdGlvbklkOiAnc3ViXzEyMycsXG4gICAgICBzdWJzY3JpcHRpb25TdGFydERhdGU6IERhdGUubm93KCksXG4gICAgICBzdWJzY3JpcHRpb25FbmREYXRlOiBmdXR1cmVUaW1lLFxuICAgICAgZmVhdHVyZXM6IHtcbiAgICAgICAgYWR2YW5jZWRBbmFseXRpY3M6IHRydWUsXG4gICAgICAgIGV4dGVuZGVkSGlzdG9yeTogdHJ1ZSxcbiAgICAgICAgbXVsdGlwbGVDaGlsZHJlbjogdHJ1ZSxcbiAgICAgICAgcHJpb3JpdHlTdXBwb3J0OiB0cnVlLFxuICAgICAgICBjdXN0b21BbGVydHM6IHRydWUsXG4gICAgICAgIGV4cG9ydERhdGE6IHRydWUsXG4gICAgICAgIGFpUmVjb21tZW5kYXRpb25zOiB0cnVlLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgZXhwZWN0KGlzU3Vic2NyaXB0aW9uRXhwaXJlZChzdGF0dXMsIERhdGUubm93KCkpKS50b0JlKGZhbHNlKTtcbiAgfSk7XG5cbiAgaXQoJ9C00L7Qu9C20LXQvSDQstC+0LfQstGA0LDRidCw0YLRjCB0cnVlINC10YHQu9C4INC/0L7QtNC/0LjRgdC60LAg0LjRgdGC0LXQutC70LAnLCAoKSA9PiB7XG4gICAgY29uc3QgcGFzdFRpbWUgPSBEYXRlLm5vdygpIC0gMTAwMDsgLy8gLTEg0YHQtdC60YPQvdC00LBcbiAgICBjb25zdCBzdGF0dXM6IFByZW1pdW1TdGF0dXMgPSB7XG4gICAgICB0aWVyOiAncHJlbWl1bScsXG4gICAgICBzdWJzY3JpcHRpb25JZDogJ3N1Yl8xMjMnLFxuICAgICAgc3Vic2NyaXB0aW9uU3RhcnREYXRlOiBwYXN0VGltZSAtIDMwICogMjQgKiA2MCAqIDYwICogMTAwMCxcbiAgICAgIHN1YnNjcmlwdGlvbkVuZERhdGU6IHBhc3RUaW1lLFxuICAgICAgZmVhdHVyZXM6IHtcbiAgICAgICAgYWR2YW5jZWRBbmFseXRpY3M6IHRydWUsXG4gICAgICAgIGV4dGVuZGVkSGlzdG9yeTogdHJ1ZSxcbiAgICAgICAgbXVsdGlwbGVDaGlsZHJlbjogdHJ1ZSxcbiAgICAgICAgcHJpb3JpdHlTdXBwb3J0OiB0cnVlLFxuICAgICAgICBjdXN0b21BbGVydHM6IHRydWUsXG4gICAgICAgIGV4cG9ydERhdGE6IHRydWUsXG4gICAgICAgIGFpUmVjb21tZW5kYXRpb25zOiB0cnVlLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgZXhwZWN0KGlzU3Vic2NyaXB0aW9uRXhwaXJlZChzdGF0dXMsIERhdGUubm93KCkpKS50b0JlKHRydWUpO1xuICB9KTtcbn0pO1xuXG5kZXNjcmliZSgnY2hlY2tTdWJzY3JpcHRpb25TdGF0dXMnLCAoKSA9PiB7XG4gIGl0KCfQtNC+0LvQttC10L0g0LLQvtC30LLRgNCw0YnQsNGC0YwgdXBkYXRlZDogZmFsc2Ug0LXRgdC70Lgg0YHRgtCw0YLRg9GBINC90LUg0LjQt9C80LXQvdC40LvRgdGPJywgKCkgPT4ge1xuICAgIGNvbnN0IGZ1dHVyZVRpbWUgPSBEYXRlLm5vdygpICsgNyAqIDI0ICogNjAgKiA2MCAqIDEwMDA7XG4gICAgY29uc3Qgc3RhdHVzOiBQcmVtaXVtU3RhdHVzID0ge1xuICAgICAgdGllcjogJ3RyaWFsJyxcbiAgICAgIHRyaWFsRW5kRGF0ZTogZnV0dXJlVGltZSxcbiAgICAgIGZlYXR1cmVzOiB7XG4gICAgICAgIGFkdmFuY2VkQW5hbHl0aWNzOiB0cnVlLFxuICAgICAgICBleHRlbmRlZEhpc3Rvcnk6IHRydWUsXG4gICAgICAgIG11bHRpcGxlQ2hpbGRyZW46IHRydWUsXG4gICAgICAgIHByaW9yaXR5U3VwcG9ydDogdHJ1ZSxcbiAgICAgICAgY3VzdG9tQWxlcnRzOiB0cnVlLFxuICAgICAgICBleHBvcnREYXRhOiB0cnVlLFxuICAgICAgICBhaVJlY29tbWVuZGF0aW9uczogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IGNoZWNrU3Vic2NyaXB0aW9uU3RhdHVzKHN0YXR1cywgRGF0ZS5ub3coKSk7XG5cbiAgICBleHBlY3QocmVzdWx0LnVwZGF0ZWQpLnRvQmUoZmFsc2UpO1xuICAgIGV4cGVjdChyZXN1bHQubmV3U3RhdHVzLnRpZXIpLnRvQmUoJ3RyaWFsJyk7XG4gIH0pO1xuXG4gIGl0KCfQtNC+0LvQttC10L0g0L7QsdC90L7QstC70Y/RgtGMINGB0YLQsNGC0YPRgSDQvdCwIGZyZWUg0LXRgdC70LggdHJpYWwg0LjRgdGC0LXQuicsICgpID0+IHtcbiAgICBjb25zdCBwYXN0VGltZSA9IERhdGUubm93KCkgLSAxMDAwO1xuICAgIGNvbnN0IHN0YXR1czogUHJlbWl1bVN0YXR1cyA9IHtcbiAgICAgIHRpZXI6ICd0cmlhbCcsXG4gICAgICB0cmlhbEVuZERhdGU6IHBhc3RUaW1lLFxuICAgICAgZmVhdHVyZXM6IHtcbiAgICAgICAgYWR2YW5jZWRBbmFseXRpY3M6IHRydWUsXG4gICAgICAgIGV4dGVuZGVkSGlzdG9yeTogdHJ1ZSxcbiAgICAgICAgbXVsdGlwbGVDaGlsZHJlbjogdHJ1ZSxcbiAgICAgICAgcHJpb3JpdHlTdXBwb3J0OiB0cnVlLFxuICAgICAgICBjdXN0b21BbGVydHM6IHRydWUsXG4gICAgICAgIGV4cG9ydERhdGE6IHRydWUsXG4gICAgICAgIGFpUmVjb21tZW5kYXRpb25zOiB0cnVlLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgY29uc3QgcmVzdWx0ID0gY2hlY2tTdWJzY3JpcHRpb25TdGF0dXMoc3RhdHVzLCBEYXRlLm5vdygpKTtcblxuICAgIGV4cGVjdChyZXN1bHQudXBkYXRlZCkudG9CZSh0cnVlKTtcbiAgICBleHBlY3QocmVzdWx0Lm5ld1N0YXR1cy50aWVyKS50b0JlKCdmcmVlJyk7XG4gICAgZXhwZWN0KHJlc3VsdC5uZXdTdGF0dXMuZmVhdHVyZXMuYWR2YW5jZWRBbmFseXRpY3MpLnRvQmUoZmFsc2UpO1xuICAgIGV4cGVjdChyZXN1bHQubmV3U3RhdHVzLnRyaWFsRW5kRGF0ZSkudG9CZVVuZGVmaW5lZCgpO1xuICB9KTtcblxuICBpdCgn0LTQvtC70LbQtdC9INC+0LHQvdC+0LLQu9GP0YLRjCDRgdGC0LDRgtGD0YEg0L3QsCBmcmVlINC10YHQu9C4INC/0L7QtNC/0LjRgdC60LAg0LjRgdGC0LXQutC70LAnLCAoKSA9PiB7XG4gICAgY29uc3QgcGFzdFRpbWUgPSBEYXRlLm5vdygpIC0gMTAwMDtcbiAgICBjb25zdCBzdGF0dXM6IFByZW1pdW1TdGF0dXMgPSB7XG4gICAgICB0aWVyOiAncHJlbWl1bScsXG4gICAgICBzdWJzY3JpcHRpb25JZDogJ3N1Yl8xMjMnLFxuICAgICAgc3Vic2NyaXB0aW9uU3RhcnREYXRlOiBwYXN0VGltZSAtIDMwICogMjQgKiA2MCAqIDYwICogMTAwMCxcbiAgICAgIHN1YnNjcmlwdGlvbkVuZERhdGU6IHBhc3RUaW1lLFxuICAgICAgZmVhdHVyZXM6IHtcbiAgICAgICAgYWR2YW5jZWRBbmFseXRpY3M6IHRydWUsXG4gICAgICAgIGV4dGVuZGVkSGlzdG9yeTogdHJ1ZSxcbiAgICAgICAgbXVsdGlwbGVDaGlsZHJlbjogdHJ1ZSxcbiAgICAgICAgcHJpb3JpdHlTdXBwb3J0OiB0cnVlLFxuICAgICAgICBjdXN0b21BbGVydHM6IHRydWUsXG4gICAgICAgIGV4cG9ydERhdGE6IHRydWUsXG4gICAgICAgIGFpUmVjb21tZW5kYXRpb25zOiB0cnVlLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgY29uc3QgcmVzdWx0ID0gY2hlY2tTdWJzY3JpcHRpb25TdGF0dXMoc3RhdHVzLCBEYXRlLm5vdygpKTtcblxuICAgIGV4cGVjdChyZXN1bHQudXBkYXRlZCkudG9CZSh0cnVlKTtcbiAgICBleHBlY3QocmVzdWx0Lm5ld1N0YXR1cy50aWVyKS50b0JlKCdmcmVlJyk7XG4gICAgZXhwZWN0KHJlc3VsdC5uZXdTdGF0dXMuZmVhdHVyZXMuYWR2YW5jZWRBbmFseXRpY3MpLnRvQmUoZmFsc2UpO1xuICAgIGV4cGVjdChyZXN1bHQubmV3U3RhdHVzLnN1YnNjcmlwdGlvbklkKS50b0JlVW5kZWZpbmVkKCk7XG4gICAgZXhwZWN0KHJlc3VsdC5uZXdTdGF0dXMuc3Vic2NyaXB0aW9uRW5kRGF0ZSkudG9CZVVuZGVmaW5lZCgpO1xuICB9KTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFLQSxTQUNFQSxjQUFjLEVBQ2RDLHFCQUFxQixFQUNyQkMsdUJBQXVCLFFBQ2xCLHVCQUF1QjtBQUc5QkMsUUFBUSxDQUFDLGdCQUFnQixFQUFFLFlBQU07RUFDL0JDLEVBQUUsQ0FBQywwQ0FBMEMsRUFBRSxZQUFNO0lBQ25ELElBQU1DLE1BQXFCLEdBQUc7TUFDNUJDLElBQUksRUFBRSxNQUFNO01BQ1pDLFFBQVEsRUFBRTtRQUNSQyxpQkFBaUIsRUFBRSxLQUFLO1FBQ3hCQyxlQUFlLEVBQUUsS0FBSztRQUN0QkMsZ0JBQWdCLEVBQUUsS0FBSztRQUN2QkMsZUFBZSxFQUFFLEtBQUs7UUFDdEJDLFlBQVksRUFBRSxLQUFLO1FBQ25CQyxVQUFVLEVBQUUsS0FBSztRQUNqQkMsaUJBQWlCLEVBQUU7TUFDckI7SUFDRixDQUFDO0lBRURDLE1BQU0sQ0FBQ2YsY0FBYyxDQUFDSyxNQUFNLEVBQUVXLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUNDLElBQUksQ0FBQyxLQUFLLENBQUM7RUFDeEQsQ0FBQyxDQUFDO0VBRUZkLEVBQUUsQ0FBQyxpREFBaUQsRUFBRSxZQUFNO0lBQzFELElBQU1lLFVBQVUsR0FBR0gsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLEdB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