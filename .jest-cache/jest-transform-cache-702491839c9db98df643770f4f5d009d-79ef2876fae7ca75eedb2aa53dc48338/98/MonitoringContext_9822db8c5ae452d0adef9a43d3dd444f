d334af45b21f985d3b48d0e53a37853d
var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard").default;
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useMonitoring = exports.MonitoringProvider = void 0;
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _createContextHook3 = _interopRequireDefault(require("@nkzw/create-context-hook"));
var _react = require("react");
var _mockData = require("@/constants/mockData");
var _haptics = require("@/constants/haptics");
var Notifications = _interopRequireWildcard(require("expo-notifications"));
var _reactNative = require("react-native");
var _AnalyticsContext = require("./AnalyticsContext");
var _soundNotifications = require("@/utils/soundNotifications");
var _AIModerationService = require("./AIModerationService");
var _PersonalizedAIContext = require("./PersonalizedAIContext");
var _riskEvaluation = require("@/utils/riskEvaluation");
var _syncService = require("@/utils/syncService");
var _trpc = require("@/lib/trpc");
var _UserContext = require("./UserContext");
var _logger = require("@/utils/logger");
var _errorHandler = require("@/utils/errorHandler");
var LEVEL_ORDER = ['safe', 'low', 'medium', 'high', 'critical'];
var SIMULATED_DELAY_MS = 120;
var simulateLatency = function simulateLatency() {
  return new Promise(function (resolve) {
    return setTimeout(resolve, SIMULATED_DELAY_MS);
  });
};
var mergeChatsWithServer = function mergeChatsWithServer(localChats, serverChats) {
  var chatMap = new Map();
  serverChats.forEach(function (chat) {
    chatMap.set(chat.id, chat);
  });
  localChats.forEach(function (localChat) {
    var serverChat = chatMap.get(localChat.id);
    if (!serverChat) {
      chatMap.set(localChat.id, localChat);
    } else {
      var localLastActivity = localChat.lastActivity || 0;
      var serverLastActivity = serverChat.lastActivity || 0;
      if (localLastActivity > serverLastActivity) {
        var mergedMessages = mergeMessages(serverChat.messages, localChat.messages);
        chatMap.set(localChat.id, Object.assign({}, localChat, {
          messages: mergedMessages
        }));
      } else {
        var _mergedMessages = mergeMessages(serverChat.messages, localChat.messages);
        chatMap.set(localChat.id, Object.assign({}, serverChat, {
          messages: _mergedMessages
        }));
      }
    }
  });
  return Array.from(chatMap.values());
};
var mergeMessages = function mergeMessages(serverMessages, localMessages) {
  var messageMap = new Map();
  serverMessages.forEach(function (msg) {
    messageMap.set(msg.id, msg);
  });
  localMessages.forEach(function (msg) {
    var existing = messageMap.get(msg.id);
    if (!existing || msg.timestamp > existing.timestamp) {
      messageMap.set(msg.id, msg);
    }
  });
  return Array.from(messageMap.values()).sort(function (a, b) {
    return a.timestamp - b.timestamp;
  });
};
var mergeAlertsWithServer = function mergeAlertsWithServer(localAlerts, serverAlerts) {
  var alertMap = new Map();
  serverAlerts.forEach(function (alert) {
    alertMap.set(alert.id, alert);
  });
  localAlerts.forEach(function (alert) {
    var existing = alertMap.get(alert.id);
    if (!existing || alert.timestamp > existing.timestamp) {
      alertMap.set(alert.id, alert);
    }
  });
  return Array.from(alertMap.values()).sort(function (a, b) {
    return b.timestamp - a.timestamp;
  });
};
var _createContextHook = (0, _createContextHook3.default)(function () {
    var _useState = (0, _react.useState)(_mockData.MOCK_CHATS),
      _useState2 = (0, _slicedToArray2.default)(_useState, 2),
      chats = _useState2[0],
      setChats = _useState2[1];
    var _useState3 = (0, _react.useState)([]),
      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),
      alerts = _useState4[0],
      setAlerts = _useState4[1];
    var _useState5 = (0, _react.useState)(false),
      _useState6 = (0, _slicedToArray2.default)(_useState5, 2),
      isAnalyzing = _useState6[0],
      setIsAnalyzing = _useState6[1];
    var _useState7 = (0, _react.useState)(false),
      _useState8 = (0, _slicedToArray2.default)(_useState7, 2),
      isSyncing = _useState8[0],
      setIsSyncing = _useState8[1];
    var _useState9 = (0, _react.useState)(null),
      _useState10 = (0, _slicedToArray2.default)(_useState9, 2),
      lastSyncTimestamp = _useState10[0],
      setLastSyncTimestamp = _useState10[1];
    var _useState11 = (0, _react.useState)(null),
      _useState12 = (0, _slicedToArray2.default)(_useState11, 2),
      syncError = _useState12[0],
      setSyncError = _useState12[1];
    var isMountedRef = (0, _react.useRef)(true);
    var syncTimeoutRef = (0, _react.useRef)(null);
    var _useAnalytics = (0, _AnalyticsContext.useAnalytics)(),
      trackEvent = _useAnalytics.trackEvent;
    var _usePersonalizedAI = (0, _PersonalizedAIContext.usePersonalizedAI)(),
      personalizeAnalysis = _usePersonalizedAI.personalizeAnalysis;
    var _useUser = (0, _UserContext.useUser)(),
      user = _useUser.user;
    var syncData = (0, _react.useCallback)((0, _asyncToGenerator2.default)(function* () {
      var silent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
      if (!isMountedRef.current || isSyncing) {
        return;
      }
      if (!silent) {
        setIsSyncing(true);
      }
      setSyncError(null);
      try {
        yield _syncService.chatSyncService.initialize();
        yield _syncService.alertSyncService.initialize();
        var chatsResult = yield _syncService.chatSyncService.syncChats(chats);
        if (chatsResult.success && chatsResult.data && chatsResult.data.length > 0) {
          var mergedChats = mergeChatsWithServer(chats, chatsResult.data);
          setChats(mergedChats);
        }
        var serverChatsResult = yield _syncService.chatSyncService.getChats();
        if (serverChatsResult.success && serverChatsResult.data && serverChatsResult.data.length > 0) {
          var _mergedChats = mergeChatsWithServer(chats, serverChatsResult.data);
          setChats(_mergedChats);
        }
        var alertsResult = yield _syncService.alertSyncService.syncAlerts(alerts);
        if (alertsResult.success && alertsResult.data && alertsResult.data.length > 0) {
          var mergedAlerts = mergeAlertsWithServer(alerts, alertsResult.data);
          setAlerts(mergedAlerts);
        }
        var serverAlertsResult = yield _syncService.alertSyncService.getAlerts();
        if (serverAlertsResult.success && serverAlertsResult.data && serverAlertsResult.data.length > 0) {
          var _mergedAlerts = mergeAlertsWithServer(alerts, serverAlertsResult.data);
          setAlerts(_mergedAlerts);
        }
        setLastSyncTimestamp(Date.now());
        _logger.logger.info('Sync completed successfully', {
          context: 'MonitoringContext'
        });
      } catch (error) {
        _logger.logger.error('Sync error occurred', error instanceof Error ? error : new Error(String(error)), {
          context: 'MonitoringContext',
          action: 'syncData'
        });
        var syncErr = error instanceof Error ? error : new Error('Sync failed');
        setSyncError(syncErr);
        if (!silent) {
          trackEvent('sync_failed', {
            error: syncErr.message
          });
        }
      } finally {
        if (!silent) {
          setIsSyncing(false);
        }
      }
    }), [chats, alerts, isSyncing, trackEvent]);
    (0, _react.useEffect)(function () {
      if (_reactNative.Platform.OS === 'android') {
        (0, _soundNotifications.setupNotificationChannels)().catch(function (error) {
          _logger.logger.error('Failed to setup notification channels', error instanceof Error ? error : new Error(String(error)), {
            context: 'MonitoringContext',
            action: 'setupNotificationChannels'
          });
        });
      }
      var initialSync = function () {
        var _ref2 = (0, _asyncToGenerator2.default)(function* () {
          yield syncData(true);
        });
        return function initialSync() {
          return _ref2.apply(this, arguments);
        };
      }();
      if (isMountedRef.current) {
        initialSync();
        var interval = setInterval(function () {
          if (isMountedRef.current && !isSyncing) {
            syncData(true);
          }
        }, 30000);
        return function () {
          isMountedRef.current = false;
          clearInterval(interval);
          if (syncTimeoutRef.current) {
            clearTimeout(syncTimeoutRef.current);
          }
        };
      }
    }, [syncData, isSyncing]);
    var analyzeMessage = (0, _react.useCallback)(function () {
      var _ref3 = (0, _asyncToGenerator2.default)(function* (message) {
        try {
          yield simulateLatency();
          var aiAnalysis = yield (0, _AIModerationService.analyzeMessageWithAI)(message.text, {
            useAdvancedAI: true,
            confidenceThreshold: 0.7
          });
          return aiAnalysis;
        } catch (error) {
          (0, _errorHandler.handleErrorSilently)(error, 'MonitoringContext', {
            action: 'analyzeMessage'
          });
          return (0, _riskEvaluation.evaluateMessageRisk)(message);
        }
      });
      return function (_x) {
        return _ref3.apply(this, arguments);
      };
    }(), []);
    var analyzeImage = (0, _react.useCallback)(function () {
      var _ref4 = (0, _asyncToGenerator2.default)(function* (imageUri) {
        try {
          yield simulateLatency();
          var aiAnalysis = yield (0, _AIModerationService.analyzeImageWithAI)(imageUri, {
            enableImageAnalysis: true
          });
          return {
            blocked: aiAnalysis.blocked,
            reasons: aiAnalysis.reasons
          };
        } catch (error) {
          console.error('Error analyzing image:', error);
          return (0, _riskEvaluation.evaluateImageRisk)(imageUri);
        }
      });
      return function (_x2) {
        return _ref4.apply(this, arguments);
      };
    }(), []);
    var addMessage = (0, _react.useCallback)(function () {
      var _ref5 = (0, _asyncToGenerator2.default)(function* (chatId, text, senderId, senderName, imageUri) {
        if (!isMountedRef.current) {
          return;
        }
        var newMessage = {
          id: `msg_${Date.now()}_${Math.random()}`,
          text: text,
          senderId: senderId,
          senderName: senderName,
          timestamp: Date.now(),
          analyzed: false,
          imageUri: imageUri,
          imageAnalyzed: false,
          imageBlocked: false
        };
        setChats(function (prev) {
          return prev.map(function (chat) {
            if (chat.id === chatId) {
              return Object.assign({}, chat, {
                messages: [].concat((0, _toConsumableArray2.default)(chat.messages), [newMessage]),
                lastActivity: Date.now(),
                updatedAt: Date.now()
              });
            }
            return chat;
          });
        });
        trackEvent('message_sent', {
          chatId: chatId,
          senderId: senderId,
          hasImage: !!imageUri
        });
        if (syncTimeoutRef.current) {
          clearTimeout(syncTimeoutRef.current);
        }
        syncTimeoutRef.current = setTimeout(function () {
          syncData(true);
        }, 2000);
        setIsAnalyzing(true);
        try {
          var analysis = yield analyzeMessage(newMessage);
          var personalizedAnalysis = personalizeAnalysis(senderId, analysis, newMessage.text);
          analysis = personalizedAnalysis;
          if (!isMountedRef.current) {
            return;
          }
          var imageAnalysis = {
            blocked: false,
            reasons: []
          };
          if (imageUri) {
            imageAnalysis = yield analyzeImage(imageUri);
            if (!isMountedRef.current) {
              return;
            }
          }
          if (!isMountedRef.current) {
            return;
          }
          if (analysis.riskLevel === 'critical') {
            _haptics.HapticFeedback.error();
          } else if (analysis.riskLevel === 'high' || analysis.riskLevel === 'medium') {
            _haptics.HapticFeedback.warning();
          } else if (analysis.riskLevel === 'safe') {
            _haptics.HapticFeedback.success();
          }
          if (!isMountedRef.current) {
            return;
          }
          setChats(function (prev) {
            return prev.map(function (chat) {
              if (chat.id === chatId) {
                var updatedMessages = chat.messages.map(function (msg) {
                  return msg.id === newMessage.id ? Object.assign({}, msg, {
                    riskLevel: analysis.riskLevel,
                    riskReasons: analysis.reasons,
                    analyzed: true,
                    imageAnalyzed: true,
                    imageBlocked: imageAnalysis.blocked,
                    imageRiskReasons: imageAnalysis.reasons
                  }) : msg;
                });
                var levels = ['safe', 'low', 'medium', 'high', 'critical'];
                var highestRisk = updatedMessages.reduce(function (max, msg) {
                  var msgLevel = msg.riskLevel || 'safe';
                  return levels.indexOf(msgLevel) > levels.indexOf(max) ? msgLevel : max;
                }, 'safe');
                var shouldAlert = analysis.riskLevel !== 'safe' && analysis.riskLevel !== 'low';
                var imageRisk = imageAnalysis.blocked;
                if ((shouldAlert || imageRisk) && isMountedRef.current) {
                  var newAlert = {
                    id: `alert_${Date.now()}`,
                    chatId: chatId,
                    messageId: newMessage.id,
                    riskLevel: analysis.riskLevel,
                    timestamp: Date.now(),
                    reasons: analysis.reasons,
                    resolved: false
                  };
                  setAlerts(function (prevAlerts) {
                    return [newAlert].concat((0, _toConsumableArray2.default)(prevAlerts));
                  });
                  trackEvent('alert_created', {
                    alertId: newAlert.id,
                    chatId: chatId,
                    riskLevel: analysis.riskLevel,
                    reasons: analysis.reasons
                  });
                  (0, _asyncToGenerator2.default)(function* () {
                    try {
                      var riskLevelLabels = {
                        safe: '–ë–µ–∑–æ–ø–∞—Å–Ω–æ',
                        low: '–ù–∏–∑–∫–∏–π',
                        medium: '–°—Ä–µ–¥–Ω–∏–π',
                        high: '–í—ã—Å–æ–∫–∏–π',
                        critical: '–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô'
                      };
                      var title = analysis.riskLevel === 'critical' ? 'üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –†–ò–°–ö –æ–±–Ω–∞—Ä—É–∂–µ–Ω!' : `‚ö†Ô∏è –û–±–Ω–∞—Ä—É–∂–µ–Ω ${riskLevelLabels[analysis.riskLevel]} —Ä–∏—Å–∫`;
                      var chatName = chat.isGroup ? chat.groupName : chat.participantNames.join(' –∏ ');
                      var body = `–í —á–∞—Ç–µ "${chatName}": ${analysis.reasons[0] || '–û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ —É–≥—Ä–æ–∑–∞'}`;
                      if (_reactNative.Platform.OS !== 'web') {
                        var sound = (0, _soundNotifications.getSoundForRiskLevel)(analysis.riskLevel);
                        var channelId = (0, _soundNotifications.getChannelIdForRiskLevel)(analysis.riskLevel);
                        var priority = (0, _soundNotifications.getAndroidPriorityForRiskLevel)(analysis.riskLevel);
                        yield Notifications.scheduleNotificationAsync({
                          content: Object.assign({
                            title: title,
                            body: body,
                            data: {
                              type: 'risk_alert',
                              alertId: newAlert.id,
                              chatId: chatId,
                              riskLevel: analysis.riskLevel
                            },
                            sound: sound
                          }, _reactNative.Platform.OS === 'android' && channelId ? {
                            channelId: channelId
                          } : {}, {
                            priority: priority
                          }),
                          trigger: null
                        });
                      }
                      if (user != null && user.id && analysis.riskLevel !== 'safe') {
                        try {
                          yield _trpc.trpcVanillaClient.notifications.sendRiskAlertPush.mutate({
                            userId: user.id,
                            chatId: chatId,
                            messageId: newMessage.id,
                            riskLevel: analysis.riskLevel,
                            reasons: analysis.reasons,
                            chatName: chatName
                          });
                          _logger.logger.info('Push notification sent to parents via backend', {
                            context: 'MonitoringContext',
                            action: 'sendRiskAlertPush'
                          });
                        } catch (backendError) {
                          _logger.logger.error('Failed to send push via backend (non-critical)', backendError instanceof Error ? backendError : new Error(String(backendError)), {
                            context: 'MonitoringContext',
                            action: 'sendRiskAlertPush',
                            critical: false
                          });
                        }
                      } else {
                        _logger.logger.warn('Cannot send push via backend: user.id is missing', {
                          context: 'MonitoringContext',
                          action: 'sendRiskAlertPush'
                        });
                      }
                    } catch (error) {
                      _logger.logger.error('Failed to send push notification', error instanceof Error ? error : new Error(String(error)), {
                        context: 'MonitoringContext',
                        action: 'sendRiskAlertPush'
                      });
                    }
                  })();
                }
                trackEvent('message_analyzed', {
                  messageId: newMessage.id,
                  chatId: chatId,
                  riskLevel: analysis.riskLevel,
                  hasImage: !!imageUri,
                  imageBlocked: imageAnalysis.blocked
                });
                return Object.assign({}, chat, {
                  messages: updatedMessages,
                  overallRisk: highestRisk
                });
              }
              return chat;
            });
          });
        } finally {
          if (isMountedRef.current) {
            setIsAnalyzing(false);
          }
        }
      });
      return function (_x3, _x4, _x5, _x6, _x7) {
        return _ref5.apply(this, arguments);
      };
    }(), [analyzeMessage, analyzeImage, trackEvent, personalizeAnalysis]);
    var initializeChatMessages = (0, _react.useCallback)(function () {
      if (!isMountedRef.current) {
        return;
      }
      setChats(function (prev) {
        return prev.map(function (chat) {
          return Object.assign({}, chat, {
            messages: _mockData.INITIAL_MESSAGES[chat.id] || []
          });
        });
      });
    }, []);
    (0, _react.useEffect)(function () {
      if (isMountedRef.current) {
        initializeChatMessages();
      }
    }, [initializeChatMessages]);
    var resolveAlert = (0, _react.useCallback)(function (alertId) {
      setAlerts(function (prev) {
        var updated = prev.map(function (alert) {
          return alert.id === alertId ? Object.assign({}, alert, {
            resolved: true
          }) : alert;
        });
        var resolvedAlert = prev.find(function (a) {
          return a.id === alertId;
        });
        if (resolvedAlert) {
          trackEvent('alert_resolved', {
            alertId: alertId,
            chatId: resolvedAlert.chatId,
            riskLevel: resolvedAlert.riskLevel
          });
        }
        return updated;
      });
      if (syncTimeoutRef.current) {
        clearTimeout(syncTimeoutRef.current);
      }
      syncTimeoutRef.current = setTimeout(function () {
        syncData(true);
      }, 2000);
    }, [trackEvent, syncData]);
    var unresolvedAlerts = (0, _react.useMemo)(function () {
      return alerts.filter(function (alert) {
        return !alert.resolved;
      });
    }, [alerts]);
    var criticalAlerts = (0, _react.useMemo)(function () {
      return unresolvedAlerts.filter(function (alert) {
        return alert.riskLevel === 'critical';
      });
    }, [unresolvedAlerts]);
    return (0, _react.useMemo)(function () {
      return {
        chats: chats,
        alerts: alerts,
        unresolvedAlerts: unresolvedAlerts,
        criticalAlerts: criticalAlerts,
        isAnalyzing: isAnalyzing,
        isSyncing: isSyncing,
        lastSyncTimestamp: lastSyncTimestamp,
        syncError: syncError,
        addMessage: addMessage,
        initializeChatMessages: initializeChatMessages,
        resolveAlert: resolveAlert,
        syncData: syncData
      };
    }, [chats, alerts, unresolvedAlerts, criticalAlerts, isAnalyzing, isSyncing, lastSyncTimestamp, syncError, addMessage, initializeChatMessages, resolveAlert, syncData]);
  }),
  _createContextHook2 = (0, _slicedToArray2.default)(_createContextHook, 2),
  MonitoringProvider = exports.MonitoringProvider = _createContextHook2[0],
  useMonitoring = exports.useMonitoring = _createContextHook2[1];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY3JlYXRlQ29udGV4dEhvb2szIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVhY3QiLCJfbW9ja0RhdGEiLCJfaGFwdGljcyIsIk5vdGlmaWNhdGlvbnMiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl9yZWFjdE5hdGl2ZSIsIl9BbmFseXRpY3NDb250ZXh0IiwiX3NvdW5kTm90aWZpY2F0aW9ucyIsIl9BSU1vZGVyYXRpb25TZXJ2aWNlIiwiX1BlcnNvbmFsaXplZEFJQ29udGV4dCIsIl9yaXNrRXZhbHVhdGlvbiIsIl9zeW5jU2VydmljZSIsIl90cnBjIiwiX1VzZXJDb250ZXh0IiwiX2xvZ2dlciIsIl9lcnJvckhhbmRsZXIiLCJMRVZFTF9PUkRFUiIsIlNJTVVMQVRFRF9ERUxBWV9NUyIsInNpbXVsYXRlTGF0ZW5jeSIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsIm1lcmdlQ2hhdHNXaXRoU2VydmVyIiwibG9jYWxDaGF0cyIsInNlcnZlckNoYXRzIiwiY2hhdE1hcCIsIk1hcCIsImZvckVhY2giLCJjaGF0Iiwic2V0IiwiaWQiLCJsb2NhbENoYXQiLCJzZXJ2ZXJDaGF0IiwiZ2V0IiwibG9jYWxMYXN0QWN0aXZpdHkiLCJsYXN0QWN0aXZpdHkiLCJzZXJ2ZXJMYXN0QWN0aXZpdHkiLCJtZXJnZWRNZXNzYWdlcyIsIm1lcmdlTWVzc2FnZXMiLCJtZXNzYWdlcyIsIk9iamVjdCIsImFzc2lnbiIsIkFycmF5IiwiZnJvbSIsInZhbHVlcyIsInNlcnZlck1lc3NhZ2VzIiwibG9jYWxNZXNzYWdlcyIsIm1lc3NhZ2VNYXAiLCJtc2ciLCJleGlzdGluZyIsInRpbWVzdGFtcCIsInNvcnQiLCJhIiwiYiIsIm1lcmdlQWxlcnRzV2l0aFNlcnZlciIsImxvY2FsQWxlcnRzIiwic2VydmVyQWxlcnRzIiwiYWxlcnRNYXAiLCJhbGVydCIsIl9jcmVhdGVDb250ZXh0SG9vayIsImNyZWF0ZUNvbnRleHRIb29rIiwiX3VzZVN0YXRlIiwidXNlU3RhdGUiLCJNT0NLX0NIQVRTIiwiX3VzZVN0YXRlMiIsIl9zbGljZWRUb0FycmF5MiIsImRlZmF1bHQiLCJjaGF0cyIsInNldENoYXRzIiwiX3VzZVN0YXRlMyIsIl91c2VTdGF0ZTQiLCJhbGVydHMiLCJzZXRBbGVydHMiLCJfdXNlU3RhdGU1IiwiX3VzZVN0YXRlNiIsImlzQW5hbHl6aW5nIiwic2V0SXNBbmFseXppbmciLCJfdXNlU3RhdGU3IiwiX3VzZVN0YXRlOCIsImlzU3luY2luZyIsInNldElzU3luY2luZyIsIl91c2VTdGF0ZTkiLCJfdXNlU3RhdGUxMCIsImxhc3RTeW5jVGltZXN0YW1wIiwic2V0TGFzdFN5bmNUaW1lc3RhbXAiLCJfdXNlU3RhdGUxMSIsIl91c2VTdGF0ZTEyIiwic3luY0Vycm9yIiwic2V0U3luY0Vycm9yIiwiaXNNb3VudGVkUmVmIiwidXNlUmVmIiwic3luY1RpbWVvdXRSZWYiLCJfdXNlQW5hbHl0aWNzIiwidXNlQW5hbHl0aWNzIiwidHJhY2tFdmVudCIsIl91c2VQZXJzb25hbGl6ZWRBSSIsInVzZVBlcnNvbmFsaXplZEFJIiwicGVyc29uYWxpemVBbmFseXNpcyIsIl91c2VVc2VyIiwidXNlVXNlciIsInVzZXIiLCJzeW5jRGF0YSIsInVzZUNhbGxiYWNrIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwic2lsZW50IiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiY3VycmVudCIsImNoYXRTeW5jU2VydmljZSIsImluaXRpYWxpemUiLCJhbGVydFN5bmNTZXJ2aWNlIiwiY2hhdHNSZXN1bHQiLCJzeW5jQ2hhdHMiLCJzdWNjZXNzIiwiZGF0YSIsIm1lcmdlZENoYXRzIiwic2VydmVyQ2hhdHNSZXN1bHQiLCJnZXRDaGF0cyIsImFsZXJ0c1Jlc3VsdCIsInN5bmNBbGVydHMiLCJtZXJnZWRBbGVydHMiLCJzZXJ2ZXJBbGVydHNSZXN1bHQiLCJnZXRBbGVydHMiLCJEYXRlIiwibm93IiwibG9nZ2VyIiwiaW5mbyIsImNvbnRleHQiLCJlcnJvciIsIkVycm9yIiwiU3RyaW5nIiwiYWN0aW9uIiwic3luY0VyciIsIm1lc3NhZ2UiLCJ1c2VFZmZlY3QiLCJQbGF0Zm9ybSIsIk9TIiwic2V0dXBOb3RpZmljYXRpb25DaGFubmVscyIsImNhdGNoIiwiaW5pdGlhbFN5bmMiLCJfcmVmMiIsImFwcGx5IiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJjbGVhclRpbWVvdXQiLCJhbmFseXplTWVzc2FnZSIsIl9yZWYzIiwiYWlBbmFseXNpcyIsImFuYWx5emVNZXNzYWdlV2l0aEFJIiwidGV4dCIsInVzZUFkdmFuY2VkQUkiLCJjb25maWRlbmNlVGhyZXNob2xkIiwiaGFuZGxlRXJyb3JTaWxlbnRseSIsImV2YWx1YXRlTWVzc2FnZVJpc2siLCJfeCIsImFuYWx5emVJbWFnZSIsIl9yZWY0IiwiaW1hZ2VVcmkiLCJhbmFseXplSW1hZ2VXaXRoQUkiLCJlbmFibGVJbWFnZUFuYWx5c2lzIiwiYmxvY2tlZCIsInJlYXNvbnMiLCJjb25zb2xlIiwiZXZhbHVhdGVJbWFnZVJpc2siLCJfeDIiLCJhZGRNZXNzYWdlIiwiX3JlZjUiLCJjaGF0SWQiLCJzZW5kZXJJZCIsInNlbmRlck5hbWUiLCJuZXdNZXNzYWdlIiwiTWF0aCIsInJhbmRvbSIsImFuYWx5emVkIiwiaW1hZ2VBbmFseXplZCIsImltYWdlQmxvY2tlZCIsInByZXYiLCJtYXAiLCJjb25jYXQiLCJfdG9Db25zdW1hYmxlQXJyYXkyIiwidXBkYXRlZEF0IiwiaGFzSW1hZ2UiLCJhbmFseXNpcyIsInBlcnNvbmFsaXplZEFuYWx5c2lzIiwiaW1hZ2VBbmFseXNpcyIsInJpc2tMZXZlbCIsIkhhcHRpY0ZlZWRiYWNrIiwid2FybmluZyIsInVwZGF0ZWRNZXNzYWdlcyIsInJpc2tSZWFzb25zIiwiaW1hZ2VSaXNrUmVhc29ucyIsImxldmVscyIsImhpZ2hlc3RSaXNrIiwicmVkdWNlIiwibWF4IiwibXNnTGV2ZWwiLCJpbmRleE9mIiwic2hvdWxkQWxlcnQiLCJpbWFnZVJpc2siLCJuZXdBbGVydCIsIm1lc3NhZ2VJZCIsInJlc29sdmVkIiwicHJldkFsZXJ0cyIsImFsZXJ0SWQiLCJyaXNrTGV2ZWxMYWJlbHMiLCJzYWZlIiwibG93IiwibWVkaXVtIiwiaGlnaCIsImNyaXRpY2FsIiwidGl0bGUiLCJjaGF0TmFtZSIsImlzR3JvdXAiLCJncm91cE5hbWUiLCJwYXJ0aWNpcGFudE5hbWVzIiwiam9pbiIsImJvZHkiLCJzb3VuZCIsImdldFNvdW5kRm9yUmlza0xldmVsIiwiY2hhbm5lbElkIiwiZ2V0Q2hhbm5lbElkRm9yUmlza0xldmVsIiwicHJpb3JpdHkiLCJnZXRBbmRyb2lkUHJpb3JpdHlGb3JSaXNrTGV2ZWwiLCJzY2hlZHVsZU5vdGlmaWNhdGlvbkFzeW5jIiwiY29udGVudCIsInR5cGUiLCJ0cmlnZ2VyIiwidHJwY1ZhbmlsbGFDbGllbnQiLCJub3RpZmljYXRpb25zIiwic2VuZFJpc2tBbGVydFB1c2giLCJtdXRhdGUiLCJ1c2VySWQiLCJiYWNrZW5kRXJyb3IiLCJ3YXJuIiwib3ZlcmFsbFJpc2siLCJfeDMiLCJfeDQiLCJfeDUiLCJfeDYiLCJfeDciLCJpbml0aWFsaXplQ2hhdE1lc3NhZ2VzIiwiSU5JVElBTF9NRVNTQUdFUyIsInJlc29sdmVBbGVydCIsInVwZGF0ZWQiLCJyZXNvbHZlZEFsZXJ0IiwiZmluZCIsInVucmVzb2x2ZWRBbGVydHMiLCJ1c2VNZW1vIiwiZmlsdGVyIiwiY3JpdGljYWxBbGVydHMiLCJfY3JlYXRlQ29udGV4dEhvb2syIiwiTW9uaXRvcmluZ1Byb3ZpZGVyIiwiZXhwb3J0cyIsInVzZU1vbml0b3JpbmciXSwic291cmNlcyI6WyJNb25pdG9yaW5nQ29udGV4dC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNyZWF0ZUNvbnRleHRIb29rIGZyb20gJ0Bua3p3L2NyZWF0ZS1jb250ZXh0LWhvb2snO1xuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VNZW1vLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IENoYXQsIE1lc3NhZ2UsIEFsZXJ0LCBSaXNrTGV2ZWwsIFJpc2tBbmFseXNpcyB9IGZyb20gJ0AvY29uc3RhbnRzL3R5cGVzJztcbmltcG9ydCB7IE1PQ0tfQ0hBVFMsIElOSVRJQUxfTUVTU0FHRVMgfSBmcm9tICdAL2NvbnN0YW50cy9tb2NrRGF0YSc7XG5pbXBvcnQgeyBIYXB0aWNGZWVkYmFjayB9IGZyb20gJ0AvY29uc3RhbnRzL2hhcHRpY3MnO1xuaW1wb3J0ICogYXMgTm90aWZpY2F0aW9ucyBmcm9tICdleHBvLW5vdGlmaWNhdGlvbnMnO1xuaW1wb3J0IHsgUGxhdGZvcm0gfSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuaW1wb3J0IHsgdXNlQW5hbHl0aWNzIH0gZnJvbSAnLi9BbmFseXRpY3NDb250ZXh0JztcbmltcG9ydCB7XG4gIGdldFNvdW5kRm9yUmlza0xldmVsLFxuICBnZXRBbmRyb2lkUHJpb3JpdHlGb3JSaXNrTGV2ZWwsXG4gIGdldENoYW5uZWxJZEZvclJpc2tMZXZlbCxcbiAgc2V0dXBOb3RpZmljYXRpb25DaGFubmVscyxcbn0gZnJvbSAnQC91dGlscy9zb3VuZE5vdGlmaWNhdGlvbnMnO1xuaW1wb3J0IHsgYW5hbHl6ZU1lc3NhZ2VXaXRoQUksIGFuYWx5emVJbWFnZVdpdGhBSSB9IGZyb20gJy4vQUlNb2RlcmF0aW9uU2VydmljZSc7XG5pbXBvcnQgeyB1c2VQZXJzb25hbGl6ZWRBSSB9IGZyb20gJy4vUGVyc29uYWxpemVkQUlDb250ZXh0JztcbmltcG9ydCB7IGV2YWx1YXRlTWVzc2FnZVJpc2ssIGV2YWx1YXRlSW1hZ2VSaXNrIH0gZnJvbSAnQC91dGlscy9yaXNrRXZhbHVhdGlvbic7XG5pbXBvcnQgeyBjaGF0U3luY1NlcnZpY2UsIGFsZXJ0U3luY1NlcnZpY2UgfSBmcm9tICdAL3V0aWxzL3N5bmNTZXJ2aWNlJztcbmltcG9ydCB7IHRycGNWYW5pbGxhQ2xpZW50IH0gZnJvbSAnQC9saWIvdHJwYyc7XG5pbXBvcnQgeyB1c2VVc2VyIH0gZnJvbSAnLi9Vc2VyQ29udGV4dCc7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICdAL3V0aWxzL2xvZ2dlcic7XG5pbXBvcnQgeyBoYW5kbGVFcnJvclNpbGVudGx5LCBzaG93VXNlckZyaWVuZGx5RXJyb3IgfSBmcm9tICdAL3V0aWxzL2Vycm9ySGFuZGxlcic7XG5cbmNvbnN0IExFVkVMX09SREVSOiBSaXNrTGV2ZWxbXSA9IFsnc2FmZScsICdsb3cnLCAnbWVkaXVtJywgJ2hpZ2gnLCAnY3JpdGljYWwnXTtcblxuY29uc3QgU0lNVUxBVEVEX0RFTEFZX01TID0gMTIwO1xuXG5jb25zdCBzaW11bGF0ZUxhdGVuY3kgPSAoKSA9PiBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCBTSU1VTEFURURfREVMQVlfTVMpKTtcblxuLy8g0KTRg9C90LrRhtC40Y8g0LTQu9GPIG1lcmdlINGH0LDRgtC+0LIg0YEg0YHQtdGA0LLQtdGA0L3Ri9C80LggKNC+0LHRgNCw0LHQvtGC0LrQsCDQutC+0L3RhNC70LjQutGC0L7QsilcbmNvbnN0IG1lcmdlQ2hhdHNXaXRoU2VydmVyID0gKGxvY2FsQ2hhdHM6IENoYXRbXSwgc2VydmVyQ2hhdHM6IENoYXRbXSk6IENoYXRbXSA9PiB7XG4gIGNvbnN0IGNoYXRNYXAgPSBuZXcgTWFwPHN0cmluZywgQ2hhdD4oKTtcblxuICAvLyDQlNC+0LHQsNCy0LvRj9C10Lwg0YHQtdGA0LLQtdGA0L3Ri9C1INGH0LDRgtGLXG4gIHNlcnZlckNoYXRzLmZvckVhY2goKGNoYXQpID0+IHtcbiAgICBjaGF0TWFwLnNldChjaGF0LmlkLCBjaGF0KTtcbiAgfSk7XG5cbiAgLy8g0J7QsdGK0LXQtNC40L3Rj9C10Lwg0YEg0LvQvtC60LDQu9GM0L3Ri9C80LggKGxhc3Qtd3JpdGUtd2lucyDQtNC70Y8g0LrQvtC90YTQu9C40LrRgtC+0LIpXG4gIGxvY2FsQ2hhdHMuZm9yRWFjaCgobG9jYWxDaGF0KSA9PiB7XG4gICAgY29uc3Qgc2VydmVyQ2hhdCA9IGNoYXRNYXAuZ2V0KGxvY2FsQ2hhdC5pZCk7XG4gICAgaWYgKCFzZXJ2ZXJDaGF0KSB7XG4gICAgICAvLyDQndC+0LLRi9C5INGH0LDRgiDRgSDQutC70LjQtdC90YLQsFxuICAgICAgY2hhdE1hcC5zZXQobG9jYWxDaGF0LmlkLCBsb2NhbENoYXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyDQp9Cw0YIg0YHRg9GJ0LXRgdGC0LLRg9C10YIgLSDQv9GA0L7QstC10YDRj9C10LwgbGFzdEFjdGl2aXR5XG4gICAgICBjb25zdCBsb2NhbExhc3RBY3Rpdml0eSA9IGxvY2FsQ2hhdC5sYXN0QWN0aXZpdHkgfHwgMDtcbiAgICAgIGNvbnN0IHNlcnZlckxhc3RBY3Rpdml0eSA9IHNlcnZlckNoYXQubGFzdEFjdGl2aXR5IHx8IDA7XG5cbiAgICAgIGlmIChsb2NhbExhc3RBY3Rpdml0eSA+IHNlcnZlckxhc3RBY3Rpdml0eSkge1xuICAgICAgICAvLyDQm9C+0LrQsNC70YzQvdGL0Lkg0LHQvtC70LXQtSDRgdCy0LXQttC40LkgLSDQvtCx0YrQtdC00LjQvdGP0LXQvCDRgdC+0L7QsdGJ0LXQvdC40Y9cbiAgICAgICAgY29uc3QgbWVyZ2VkTWVzc2FnZXMgPSBtZXJnZU1lc3NhZ2VzKHNlcnZlckNoYXQubWVzc2FnZXMsIGxvY2FsQ2hhdC5tZXNzYWdlcyk7XG4gICAgICAgIGNoYXRNYXAuc2V0KGxvY2FsQ2hhdC5pZCwge1xuICAgICAgICAgIC4uLmxvY2FsQ2hhdCxcbiAgICAgICAgICBtZXNzYWdlczogbWVyZ2VkTWVzc2FnZXMsXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8g0KHQtdGA0LLQtdGA0L3Ri9C5INCx0L7Qu9C10LUg0YHQstC10LbQuNC5LCDQvdC+INC00L7QsdCw0LLQu9GP0LXQvCDQvdC+0LLRi9C1INGB0L7QvtCx0YnQtdC90LjRjyDRgSDQutC70LjQtdC90YLQsFxuICAgICAgICBjb25zdCBtZXJnZWRNZXNzYWdlcyA9IG1lcmdlTWVzc2FnZXMoc2VydmVyQ2hhdC5tZXNzYWdlcywgbG9jYWxDaGF0Lm1lc3NhZ2VzKTtcbiAgICAgICAgY2hhdE1hcC5zZXQobG9jYWxDaGF0LmlkLCB7XG4gICAgICAgICAgLi4uc2VydmVyQ2hhdCxcbiAgICAgICAgICBtZXNzYWdlczogbWVyZ2VkTWVzc2FnZXMsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIEFycmF5LmZyb20oY2hhdE1hcC52YWx1ZXMoKSk7XG59O1xuXG4vLyDQpNGD0L3QutGG0LjRjyDQtNC70Y8gbWVyZ2Ug0YHQvtC+0LHRidC10L3QuNC5ICjRg9C90LjQutCw0LvRjNC90YvQtSDQv9C+IElEKVxuY29uc3QgbWVyZ2VNZXNzYWdlcyA9IChzZXJ2ZXJNZXNzYWdlczogTWVzc2FnZVtdLCBsb2NhbE1lc3NhZ2VzOiBNZXNzYWdlW10pOiBNZXNzYWdlW10gPT4ge1xuICBjb25zdCBtZXNzYWdlTWFwID0gbmV3IE1hcDxzdHJpbmcsIE1lc3NhZ2U+KCk7XG5cbiAgLy8g0JTQvtCx0LDQstC70Y/QtdC8INGB0LXRgNCy0LXRgNC90YvQtSDRgdC+0L7QsdGJ0LXQvdC40Y9cbiAgc2VydmVyTWVzc2FnZXMuZm9yRWFjaCgobXNnKSA9PiB7XG4gICAgbWVzc2FnZU1hcC5zZXQobXNnLmlkLCBtc2cpO1xuICB9KTtcblxuICAvLyDQlNC+0LHQsNCy0LvRj9C10Lwv0L7QsdC90L7QstC70Y/QtdC8INC60LvQuNC10L3RgtGB0LrQuNC1INGB0L7QvtCx0YnQtdC90LjRj1xuICBsb2NhbE1lc3NhZ2VzLmZvckVhY2goKG1zZykgPT4ge1xuICAgIGNvbnN0IGV4aXN0aW5nID0gbWVzc2FnZU1hcC5nZXQobXNnLmlkKTtcbiAgICBpZiAoIWV4aXN0aW5nIHx8IChtc2cudGltZXN0YW1wID4gZXhpc3RpbmcudGltZXN0YW1wKSkge1xuICAgICAgbWVzc2FnZU1hcC5zZXQobXNnLmlkLCBtc2cpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8g0KHQvtGA0YLQuNGA0YPQtdC8INC/0L4gdGltZXN0YW1wXG4gIHJldHVybiBBcnJheS5mcm9tKG1lc3NhZ2VNYXAudmFsdWVzKCkpLnNvcnQoKGEsIGIpID0+IGEudGltZXN0YW1wIC0gYi50aW1lc3RhbXApO1xufTtcblxuLy8g0KTRg9C90LrRhtC40Y8g0LTQu9GPIG1lcmdlINCw0LvQtdGA0YLQvtCyXG5jb25zdCBtZXJnZUFsZXJ0c1dpdGhTZXJ2ZXIgPSAobG9jYWxBbGVydHM6IEFsZXJ0W10sIHNlcnZlckFsZXJ0czogQWxlcnRbXSk6IEFsZXJ0W10gPT4ge1xuICBjb25zdCBhbGVydE1hcCA9IG5ldyBNYXA8c3RyaW5nLCBBbGVydD4oKTtcblxuICAvLyDQlNC+0LHQsNCy0LvRj9C10Lwg0YHQtdGA0LLQtdGA0L3Ri9C1INCw0LvQtdGA0YLRi1xuICBzZXJ2ZXJBbGVydHMuZm9yRWFjaCgoYWxlcnQpID0+IHtcbiAgICBhbGVydE1hcC5zZXQoYWxlcnQuaWQsIGFsZXJ0KTtcbiAgfSk7XG5cbiAgLy8g0J7QsdGK0LXQtNC40L3Rj9C10Lwg0YEg0LvQvtC60LDQu9GM0L3Ri9C80LggKGxhc3Qtd3JpdGUtd2lucylcbiAgbG9jYWxBbGVydHMuZm9yRWFjaCgoYWxlcnQpID0+IHtcbiAgICBjb25zdCBleGlzdGluZyA9IGFsZXJ0TWFwLmdldChhbGVydC5pZCk7XG4gICAgaWYgKCFleGlzdGluZyB8fCAoYWxlcnQudGltZXN0YW1wID4gZXhpc3RpbmcudGltZXN0YW1wKSkge1xuICAgICAgYWxlcnRNYXAuc2V0KGFsZXJ0LmlkLCBhbGVydCk7XG4gICAgfVxuICB9KTtcblxuICAvLyDQodC+0YDRgtC40YDRg9C10Lwg0L/QviB0aW1lc3RhbXAgKNC90L7QstGL0LUg0YHQstC10YDRhdGDKVxuICByZXR1cm4gQXJyYXkuZnJvbShhbGVydE1hcC52YWx1ZXMoKSkuc29ydCgoYSwgYikgPT4gYi50aW1lc3RhbXAgLSBhLnRpbWVzdGFtcCk7XG59O1xuXG5leHBvcnQgY29uc3QgW01vbml0b3JpbmdQcm92aWRlciwgdXNlTW9uaXRvcmluZ10gPSBjcmVhdGVDb250ZXh0SG9vaygoKSA9PiB7XG4gIGNvbnN0IFtjaGF0cywgc2V0Q2hhdHNdID0gdXNlU3RhdGU8Q2hhdFtdPihNT0NLX0NIQVRTKTtcbiAgY29uc3QgW2FsZXJ0cywgc2V0QWxlcnRzXSA9IHVzZVN0YXRlPEFsZXJ0W10+KFtdKTtcbiAgY29uc3QgW2lzQW5hbHl6aW5nLCBzZXRJc0FuYWx5emluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc1N5bmNpbmcsIHNldElzU3luY2luZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsYXN0U3luY1RpbWVzdGFtcCwgc2V0TGFzdFN5bmNUaW1lc3RhbXBdID0gdXNlU3RhdGU8bnVtYmVyIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtzeW5jRXJyb3IsIHNldFN5bmNFcnJvcl0gPSB1c2VTdGF0ZTxFcnJvciB8IG51bGw+KG51bGwpO1xuICBjb25zdCBpc01vdW50ZWRSZWYgPSB1c2VSZWYodHJ1ZSk7XG4gIGNvbnN0IHN5bmNUaW1lb3V0UmVmID0gdXNlUmVmPFJldHVyblR5cGU8dHlwZW9mIHNldFRpbWVvdXQ+IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IHsgdHJhY2tFdmVudCB9ID0gdXNlQW5hbHl0aWNzKCk7XG4gIGNvbnN0IHsgcGVyc29uYWxpemVBbmFseXNpcyB9ID0gdXNlUGVyc29uYWxpemVkQUkoKTtcbiAgY29uc3QgeyB1c2VyIH0gPSB1c2VVc2VyKCk7XG5cbiAgLy8g0KTRg9C90LrRhtC40Y8g0YHQuNC90YXRgNC+0L3QuNC30LDRhtC40Lgg0LTQsNC90L3Ri9GFXG4gIGNvbnN0IHN5bmNEYXRhID0gdXNlQ2FsbGJhY2soYXN5bmMgKHNpbGVudCA9IGZhbHNlKSA9PiB7XG4gICAgaWYgKCFpc01vdW50ZWRSZWYuY3VycmVudCB8fCBpc1N5bmNpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXNpbGVudCkge1xuICAgICAgc2V0SXNTeW5jaW5nKHRydWUpO1xuICAgIH1cbiAgICBzZXRTeW5jRXJyb3IobnVsbCk7XG5cbiAgICB0cnkge1xuICAgICAgLy8g0JjQvdC40YbQuNCw0LvQuNC30LjRgNGD0LXQvCDRgdC10YDQstC40YHRiyDRgdC40L3RhdGA0L7QvdC40LfQsNGG0LjQuFxuICAgICAgYXdhaXQgY2hhdFN5bmNTZXJ2aWNlLmluaXRpYWxpemUoKTtcbiAgICAgIGF3YWl0IGFsZXJ0U3luY1NlcnZpY2UuaW5pdGlhbGl6ZSgpO1xuXG4gICAgICAvLyAxLiDQodC40L3RhdGA0L7QvdC40LfQsNGG0LjRjyDRh9Cw0YLQvtCyIC0g0L7RgtC/0YDQsNCy0LvRj9C10Lwg0LvQvtC60LDQu9GM0L3Ri9C1INC00LDQvdC90YvQtVxuICAgICAgY29uc3QgY2hhdHNSZXN1bHQgPSBhd2FpdCBjaGF0U3luY1NlcnZpY2Uuc3luY0NoYXRzKGNoYXRzKTtcbiAgICAgIGlmIChjaGF0c1Jlc3VsdC5zdWNjZXNzICYmIGNoYXRzUmVzdWx0LmRhdGEgJiYgY2hhdHNSZXN1bHQuZGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vINCe0LHRitC10LTQuNC90Y/QtdC8INGBINC70L7QutCw0LvRjNC90YvQvNC4INGH0LDRgtCw0LzQuFxuICAgICAgICBjb25zdCBtZXJnZWRDaGF0cyA9IG1lcmdlQ2hhdHNXaXRoU2VydmVyKGNoYXRzLCBjaGF0c1Jlc3VsdC5kYXRhKTtcbiAgICAgICAgc2V0Q2hhdHMobWVyZ2VkQ2hhdHMpO1xuICAgICAgfVxuXG4gICAgICAvLyAyLiDQn9C+0LvRg9GH0LXQvdC40LUg0LjQt9C80LXQvdC10L3QuNC5INGH0LDRgtC+0LIg0YEg0YHQtdGA0LLQtdGA0LBcbiAgICAgIGNvbnN0IHNlcnZlckNoYXRzUmVzdWx0ID0gYXdhaXQgY2hhdFN5bmNTZXJ2aWNlLmdldENoYXRzKCk7XG4gICAgICBpZiAoc2VydmVyQ2hhdHNSZXN1bHQuc3VjY2VzcyAmJiBzZXJ2ZXJDaGF0c1Jlc3VsdC5kYXRhICYmIHNlcnZlckNoYXRzUmVzdWx0LmRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBNZXJnZSDRgSDQu9C+0LrQsNC70YzQvdGL0LzQuCDRh9Cw0YLQsNC80LhcbiAgICAgICAgY29uc3QgbWVyZ2VkQ2hhdHMgPSBtZXJnZUNoYXRzV2l0aFNlcnZlcihjaGF0cywgc2VydmVyQ2hhdHNSZXN1bHQuZGF0YSk7XG4gICAgICAgIHNldENoYXRzKG1lcmdlZENoYXRzKTtcbiAgICAgIH1cblxuICAgICAgLy8gMy4g0KHQuNC90YXRgNC+0L3QuNC30LDRhtC40Y8g0LDQu9C10YDRgtC+0LIgLSDQvtGC0L/RgNCw0LLQu9GP0LXQvCDQu9C+0LrQsNC70YzQvdGL0LUg0LTQsNC90L3Ri9C1XG4gICAgICBjb25zdCBhbGVydHNSZXN1bHQgPSBhd2FpdCBhbGVydFN5bmNTZXJ2aWNlLnN5bmNBbGVydHMoYWxlcnRzKTtcbiAgICAgIGlmIChhbGVydHNSZXN1bHQuc3VjY2VzcyAmJiBhbGVydHNSZXN1bHQuZGF0YSAmJiBhbGVydHNSZXN1bHQuZGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vINCe0LHRitC10LTQuNC90Y/QtdC8INGBINC70L7QutCw0LvRjNC90YvQvNC4INCw0LvQtdGA0YLQsNC80LhcbiAgICAgICAgY29uc3QgbWVyZ2VkQWxlcnRzID0gbWVyZ2VBbGVydHNXaXRoU2VydmVyKGFsZXJ0cywgYWxlcnRzUmVzdWx0LmRhdGEpO1xuICAgICAgICBzZXRBbGVydHMobWVyZ2VkQWxlcnRzKTtcbiAgICAgIH1cblxuICAgICAgLy8gNC4g0J/QvtC70YPRh9C10L3QuNC1INC40LfQvNC10L3QtdC90LjQuSDQsNC70LXRgNGC0L7QsiDRgSDRgdC10YDQstC10YDQsFxuICAgICAgY29uc3Qgc2VydmVyQWxlcnRzUmVzdWx0ID0gYXdhaXQgYWxlcnRTeW5jU2VydmljZS5nZXRBbGVydHMoKTtcbiAgICAgIGlmIChzZXJ2ZXJBbGVydHNSZXN1bHQuc3VjY2VzcyAmJiBzZXJ2ZXJBbGVydHNSZXN1bHQuZGF0YSAmJiBzZXJ2ZXJBbGVydHNSZXN1bHQuZGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIE1lcmdlINGBINC70L7QutCw0LvRjNC90YvQvNC4INCw0LvQtdGA0YLQsNC80LhcbiAgICAgICAgY29uc3QgbWVyZ2VkQWxlcnRzID0gbWVyZ2VBbGVydHNXaXRoU2VydmVyKGFsZXJ0cywgc2VydmVyQWxlcnRzUmVzdWx0LmRhdGEpO1xuICAgICAgICBzZXRBbGVydHMobWVyZ2VkQWxlcnRzKTtcbiAgICAgIH1cblxuICAgICAgc2V0TGFzdFN5bmNUaW1lc3RhbXAoRGF0ZS5ub3coKSk7XG4gICAgICBsb2dnZXIuaW5mbygnU3luYyBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5JywgeyBjb250ZXh0OiAnTW9uaXRvcmluZ0NvbnRleHQnIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ1N5bmMgZXJyb3Igb2NjdXJyZWQnLCBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoU3RyaW5nKGVycm9yKSksIHsgY29udGV4dDogJ01vbml0b3JpbmdDb250ZXh0JywgYWN0aW9uOiAnc3luY0RhdGEnIH0pO1xuICAgICAgY29uc3Qgc3luY0VyciA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IG5ldyBFcnJvcignU3luYyBmYWlsZWQnKTtcbiAgICAgIHNldFN5bmNFcnJvcihzeW5jRXJyKTtcbiAgICAgIGlmICghc2lsZW50KSB7XG4gICAgICAgIHRyYWNrRXZlbnQoJ3N5bmNfZmFpbGVkJywgeyBlcnJvcjogc3luY0Vyci5tZXNzYWdlIH0pO1xuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoIXNpbGVudCkge1xuICAgICAgICBzZXRJc1N5bmNpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW2NoYXRzLCBhbGVydHMsIGlzU3luY2luZywgdHJhY2tFdmVudF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8g0J3QsNGB0YLRgNC+0LnQutCwINC60LDQvdCw0LvQvtCyINGD0LLQtdC00L7QvNC70LXQvdC40Lkg0LTQu9GPIEFuZHJvaWQg0L/RgNC4INC40L3QuNGG0LjQsNC70LjQt9Cw0YbQuNC4XG4gICAgaWYgKFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCcpIHtcbiAgICAgIHNldHVwTm90aWZpY2F0aW9uQ2hhbm5lbHMoKS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgbG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gc2V0dXAgbm90aWZpY2F0aW9uIGNoYW5uZWxzJywgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogbmV3IEVycm9yKFN0cmluZyhlcnJvcikpLCB7IGNvbnRleHQ6ICdNb25pdG9yaW5nQ29udGV4dCcsIGFjdGlvbjogJ3NldHVwTm90aWZpY2F0aW9uQ2hhbm5lbHMnIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8g0J/QtdGA0LLQsNGPINGB0LjQvdGF0YDQvtC90LjQt9Cw0YbQuNGPINC/0YDQuCDQt9Cw0LPRgNGD0LfQutC1XG4gICAgY29uc3QgaW5pdGlhbFN5bmMgPSBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBzeW5jRGF0YSh0cnVlKTsgLy8gU2lsZW50IHN5bmMg0L/RgNC4INC30LDQs9GA0YPQt9C60LVcbiAgICB9O1xuXG4gICAgaWYgKGlzTW91bnRlZFJlZi5jdXJyZW50KSB7XG4gICAgICBpbml0aWFsU3luYygpO1xuXG4gICAgICAvLyDQn9C10YDQuNC+0LTQuNGH0LXRgdC60LDRjyDRgdC40L3RhdGA0L7QvdC40LfQsNGG0LjRjyDQutCw0LbQtNGL0LUgMzAg0YHQtdC60YPQvdC0XG4gICAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgaWYgKGlzTW91bnRlZFJlZi5jdXJyZW50ICYmICFpc1N5bmNpbmcpIHtcbiAgICAgICAgICBzeW5jRGF0YSh0cnVlKTsgLy8gU2lsZW50INC/0LXRgNC40L7QtNC40YfQtdGB0LrQsNGPINGB0LjQvdGF0YDQvtC90LjQt9Cw0YbQuNGPXG4gICAgICAgIH1cbiAgICAgIH0sIDMwMDAwKTtcblxuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaXNNb3VudGVkUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgIGlmIChzeW5jVGltZW91dFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHN5bmNUaW1lb3V0UmVmLmN1cnJlbnQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfSwgW3N5bmNEYXRhLCBpc1N5bmNpbmddKTtcblxuICBjb25zdCBhbmFseXplTWVzc2FnZSA9IHVzZUNhbGxiYWNrKGFzeW5jIChtZXNzYWdlOiBNZXNzYWdlKTogUHJvbWlzZTxSaXNrQW5hbHlzaXM+ID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgc2ltdWxhdGVMYXRlbmN5KCk7XG4gICAgICAvLyDQmNGB0L/QvtC70YzQt9GD0LXQvCDRgNCw0YHRiNC40YDQtdC90L3Ri9C5IEFJINCw0L3QsNC70LjQt1xuICAgICAgY29uc3QgYWlBbmFseXNpcyA9IGF3YWl0IGFuYWx5emVNZXNzYWdlV2l0aEFJKG1lc3NhZ2UudGV4dCwge1xuICAgICAgICB1c2VBZHZhbmNlZEFJOiB0cnVlLFxuICAgICAgICBjb25maWRlbmNlVGhyZXNob2xkOiAwLjcsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhaUFuYWx5c2lzO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBoYW5kbGVFcnJvclNpbGVudGx5KGVycm9yLCAnTW9uaXRvcmluZ0NvbnRleHQnLCB7IGFjdGlvbjogJ2FuYWx5emVNZXNzYWdlJyB9KTtcbiAgICAgIC8vIEZhbGxiYWNrINC90LAg0LHQsNC30L7QstGL0Lkg0LDQvdCw0LvQuNC3XG4gICAgICByZXR1cm4gZXZhbHVhdGVNZXNzYWdlUmlzayhtZXNzYWdlKTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICBjb25zdCBhbmFseXplSW1hZ2UgPSB1c2VDYWxsYmFjayhhc3luYyAoaW1hZ2VVcmk6IHN0cmluZyk6IFByb21pc2U8eyBibG9ja2VkOiBib29sZWFuOyByZWFzb25zOiBzdHJpbmdbXSB9PiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHNpbXVsYXRlTGF0ZW5jeSgpO1xuICAgICAgLy8g0JjRgdC/0L7Qu9GM0LfRg9C10Lwg0YDQsNGB0YjQuNGA0LXQvdC90YvQuSBBSSDQsNC90LDQu9C40Lcg0LjQt9C+0LHRgNCw0LbQtdC90LjQuVxuICAgICAgY29uc3QgYWlBbmFseXNpcyA9IGF3YWl0IGFuYWx5emVJbWFnZVdpdGhBSShpbWFnZVVyaSwge1xuICAgICAgICBlbmFibGVJbWFnZUFuYWx5c2lzOiB0cnVlLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBibG9ja2VkOiBhaUFuYWx5c2lzLmJsb2NrZWQsXG4gICAgICAgIHJlYXNvbnM6IGFpQW5hbHlzaXMucmVhc29ucyxcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFuYWx5emluZyBpbWFnZTonLCBlcnJvcik7XG4gICAgICAvLyBGYWxsYmFjayDQvdCwINCx0LDQt9C+0LLRi9C5INCw0L3QsNC70LjQt1xuICAgICAgcmV0dXJuIGV2YWx1YXRlSW1hZ2VSaXNrKGltYWdlVXJpKTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICBjb25zdCBhZGRNZXNzYWdlID0gdXNlQ2FsbGJhY2soYXN5bmMgKGNoYXRJZDogc3RyaW5nLCB0ZXh0OiBzdHJpbmcsIHNlbmRlcklkOiBzdHJpbmcsIHNlbmRlck5hbWU6IHN0cmluZywgaW1hZ2VVcmk/OiBzdHJpbmcpID0+IHtcbiAgICBpZiAoIWlzTW91bnRlZFJlZi5jdXJyZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbmV3TWVzc2FnZTogTWVzc2FnZSA9IHtcbiAgICAgIGlkOiBgbXNnXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpfWAsXG4gICAgICB0ZXh0LFxuICAgICAgc2VuZGVySWQsXG4gICAgICBzZW5kZXJOYW1lLFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgYW5hbHl6ZWQ6IGZhbHNlLFxuICAgICAgaW1hZ2VVcmksXG4gICAgICBpbWFnZUFuYWx5emVkOiBmYWxzZSxcbiAgICAgIGltYWdlQmxvY2tlZDogZmFsc2UsXG4gICAgfTtcblxuICAgIHNldENoYXRzKChwcmV2KSA9PlxuICAgICAgcHJldi5tYXAoKGNoYXQpID0+IHtcbiAgICAgICAgaWYgKGNoYXQuaWQgPT09IGNoYXRJZCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5jaGF0LFxuICAgICAgICAgICAgbWVzc2FnZXM6IFsuLi5jaGF0Lm1lc3NhZ2VzLCBuZXdNZXNzYWdlXSxcbiAgICAgICAgICAgIGxhc3RBY3Rpdml0eTogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIHVwZGF0ZWRBdDogRGF0ZS5ub3coKSwgLy8g0JTQvtCx0LDQstC70Y/QtdC8IHVwZGF0ZWRBdCDQtNC70Y8g0YHQuNC90YXRgNC+0L3QuNC30LDRhtC40LhcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGF0O1xuICAgICAgfSlcbiAgICApO1xuXG4gICAgLy8g0KLRgNC10LrQuNC90LMg0L7RgtC/0YDQsNCy0LrQuCDRgdC+0L7QsdGJ0LXQvdC40Y9cbiAgICB0cmFja0V2ZW50KCdtZXNzYWdlX3NlbnQnLCB7IGNoYXRJZCwgc2VuZGVySWQsIGhhc0ltYWdlOiAhIWltYWdlVXJpIH0pO1xuXG4gICAgLy8g0KHQuNC90YXRgNC+0L3QuNC30LDRhtC40Y8g0L/QvtGB0LvQtSDQtNC+0LHQsNCy0LvQtdC90LjRjyDRgdC+0L7QsdGJ0LXQvdC40Y8gKGRlYm91bmNlIDIg0YHQtdC60YPQvdC00YspXG4gICAgaWYgKHN5bmNUaW1lb3V0UmVmLmN1cnJlbnQpIHtcbiAgICAgIGNsZWFyVGltZW91dChzeW5jVGltZW91dFJlZi5jdXJyZW50KTtcbiAgICB9XG4gICAgc3luY1RpbWVvdXRSZWYuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc3luY0RhdGEodHJ1ZSk7IC8vIFNpbGVudCBzeW5jXG4gICAgfSwgMjAwMCk7XG5cbiAgICBzZXRJc0FuYWx5emluZyh0cnVlKTtcblxuICAgIHRyeSB7XG4gICAgICBsZXQgYW5hbHlzaXMgPSBhd2FpdCBhbmFseXplTWVzc2FnZShuZXdNZXNzYWdlKTtcblxuICAgICAgLy8g0J/RgNC40LzQtdC90Y/QtdC8INC/0LXRgNGB0L7QvdCw0LvQuNC30LjRgNC+0LLQsNC90L3Ri9C5IEFJINC00LvRjyDRgdC90LjQttC10L3QuNGPINC70L7QttC90YvRhSDRgdGA0LDQsdCw0YLRi9Cy0LDQvdC40LlcbiAgICAgIC8vINCY0YHQv9C+0LvRjNC30YPQtdC8IHNlbmRlcklkINC60LDQuiBjaGlsZElkICjQsiDRgNC10LDQu9GM0L3QvtC8INC/0YDQuNC70L7QttC10L3QuNC4INC90YPQttC90LAg0L/RgNCw0LLQuNC70YzQvdCw0Y8g0YHQstGP0LfRjClcbiAgICAgIC8vINCf0YDQuNC80LXQvdGP0LXQvCDQv9C10YDRgdC+0L3QsNC70LjQt9C40YDQvtCy0LDQvdC90YvQuSBBSSDQtNC70Y8g0YHQvdC40LbQtdC90LjRjyDQu9C+0LbQvdGL0YUg0YHRgNCw0LHQsNGC0YvQstCw0L3QuNC5XG4gICAgICBjb25zdCBwZXJzb25hbGl6ZWRBbmFseXNpcyA9IHBlcnNvbmFsaXplQW5hbHlzaXMoc2VuZGVySWQsIGFuYWx5c2lzLCBuZXdNZXNzYWdlLnRleHQpO1xuICAgICAgYW5hbHlzaXMgPSBwZXJzb25hbGl6ZWRBbmFseXNpcztcblxuICAgICAgaWYgKCFpc01vdW50ZWRSZWYuY3VycmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGxldCBpbWFnZUFuYWx5c2lzID0geyBibG9ja2VkOiBmYWxzZSwgcmVhc29uczogW10gYXMgc3RyaW5nW10gfTtcbiAgICAgIGlmIChpbWFnZVVyaSkge1xuICAgICAgICBpbWFnZUFuYWx5c2lzID0gYXdhaXQgYW5hbHl6ZUltYWdlKGltYWdlVXJpKTtcbiAgICAgICAgaWYgKCFpc01vdW50ZWRSZWYuY3VycmVudCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIWlzTW91bnRlZFJlZi5jdXJyZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGFuYWx5c2lzLnJpc2tMZXZlbCA9PT0gJ2NyaXRpY2FsJykge1xuICAgICAgICBIYXB0aWNGZWVkYmFjay5lcnJvcigpO1xuICAgICAgfSBlbHNlIGlmIChhbmFseXNpcy5yaXNrTGV2ZWwgPT09ICdoaWdoJyB8fCBhbmFseXNpcy5yaXNrTGV2ZWwgPT09ICdtZWRpdW0nKSB7XG4gICAgICAgIEhhcHRpY0ZlZWRiYWNrLndhcm5pbmcoKTtcbiAgICAgIH0gZWxzZSBpZiAoYW5hbHlzaXMucmlza0xldmVsID09PSAnc2FmZScpIHtcbiAgICAgICAgSGFwdGljRmVlZGJhY2suc3VjY2VzcygpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzTW91bnRlZFJlZi5jdXJyZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc2V0Q2hhdHMoKHByZXYpID0+XG4gICAgICAgIHByZXYubWFwKChjaGF0KSA9PiB7XG4gICAgICAgICAgaWYgKGNoYXQuaWQgPT09IGNoYXRJZCkge1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlZE1lc3NhZ2VzID0gY2hhdC5tZXNzYWdlcy5tYXAoKG1zZykgPT5cbiAgICAgICAgICAgICAgbXNnLmlkID09PSBuZXdNZXNzYWdlLmlkXG4gICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgIC4uLm1zZyxcbiAgICAgICAgICAgICAgICAgICAgcmlza0xldmVsOiBhbmFseXNpcy5yaXNrTGV2ZWwsXG4gICAgICAgICAgICAgICAgICAgIHJpc2tSZWFzb25zOiBhbmFseXNpcy5yZWFzb25zLFxuICAgICAgICAgICAgICAgICAgICBhbmFseXplZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VBbmFseXplZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VCbG9ja2VkOiBpbWFnZUFuYWx5c2lzLmJsb2NrZWQsXG4gICAgICAgICAgICAgICAgICAgIGltYWdlUmlza1JlYXNvbnM6IGltYWdlQW5hbHlzaXMucmVhc29ucyxcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IG1zZ1xuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY29uc3QgbGV2ZWxzOiBSaXNrTGV2ZWxbXSA9IFsnc2FmZScsICdsb3cnLCAnbWVkaXVtJywgJ2hpZ2gnLCAnY3JpdGljYWwnXTtcbiAgICAgICAgICAgIGNvbnN0IGhpZ2hlc3RSaXNrID0gdXBkYXRlZE1lc3NhZ2VzLnJlZHVjZSgobWF4LCBtc2cpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgbXNnTGV2ZWwgPSBtc2cucmlza0xldmVsIHx8ICdzYWZlJztcbiAgICAgICAgICAgICAgcmV0dXJuIGxldmVscy5pbmRleE9mKG1zZ0xldmVsKSA+IGxldmVscy5pbmRleE9mKG1heCkgPyBtc2dMZXZlbCA6IG1heDtcbiAgICAgICAgICAgIH0sICdzYWZlJyBhcyBSaXNrTGV2ZWwpO1xuXG4gICAgICAgICAgICBjb25zdCBzaG91bGRBbGVydCA9IGFuYWx5c2lzLnJpc2tMZXZlbCAhPT0gJ3NhZmUnICYmIGFuYWx5c2lzLnJpc2tMZXZlbCAhPT0gJ2xvdyc7XG4gICAgICAgICAgICBjb25zdCBpbWFnZVJpc2sgPSBpbWFnZUFuYWx5c2lzLmJsb2NrZWQ7XG5cbiAgICAgICAgICAgIGlmICgoc2hvdWxkQWxlcnQgfHwgaW1hZ2VSaXNrKSAmJiBpc01vdW50ZWRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICBjb25zdCBuZXdBbGVydDogQWxlcnQgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IGBhbGVydF8ke0RhdGUubm93KCl9YCxcbiAgICAgICAgICAgICAgICBjaGF0SWQsXG4gICAgICAgICAgICAgICAgbWVzc2FnZUlkOiBuZXdNZXNzYWdlLmlkLFxuICAgICAgICAgICAgICAgIHJpc2tMZXZlbDogYW5hbHlzaXMucmlza0xldmVsLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgICAgICByZWFzb25zOiBhbmFseXNpcy5yZWFzb25zLFxuICAgICAgICAgICAgICAgIHJlc29sdmVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgc2V0QWxlcnRzKChwcmV2QWxlcnRzKSA9PiBbbmV3QWxlcnQsIC4uLnByZXZBbGVydHNdKTtcblxuICAgICAgICAgICAgICAvLyDQotGA0LXQutC40L3QsyDRgdC+0LfQtNCw0L3QuNGPINCw0LvQtdGA0YLQsFxuICAgICAgICAgICAgICB0cmFja0V2ZW50KCdhbGVydF9jcmVhdGVkJywge1xuICAgICAgICAgICAgICAgIGFsZXJ0SWQ6IG5ld0FsZXJ0LmlkLFxuICAgICAgICAgICAgICAgIGNoYXRJZCxcbiAgICAgICAgICAgICAgICByaXNrTGV2ZWw6IGFuYWx5c2lzLnJpc2tMZXZlbCxcbiAgICAgICAgICAgICAgICByZWFzb25zOiBhbmFseXNpcy5yZWFzb25zLFxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAvLyDQntGC0L/RgNCw0LLQutCwIHB1c2gg0YPQstC10LTQvtC80LvQtdC90LjRjyDRgNC+0LTQuNGC0LXQu9GP0LxcbiAgICAgICAgICAgICAgKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgY29uc3Qgcmlza0xldmVsTGFiZWxzOiBSZWNvcmQ8Umlza0xldmVsLCBzdHJpbmc+ID0ge1xuICAgICAgICAgICAgICAgICAgICBzYWZlOiAn0JHQtdC30L7Qv9Cw0YHQvdC+JyxcbiAgICAgICAgICAgICAgICAgICAgbG93OiAn0J3QuNC30LrQuNC5JyxcbiAgICAgICAgICAgICAgICAgICAgbWVkaXVtOiAn0KHRgNC10LTQvdC40LknLFxuICAgICAgICAgICAgICAgICAgICBoaWdoOiAn0JLRi9GB0L7QutC40LknLFxuICAgICAgICAgICAgICAgICAgICBjcml0aWNhbDogJ9Ca0KDQmNCi0JjQp9CV0KHQmtCY0JknLFxuICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgY29uc3QgdGl0bGUgPSBhbmFseXNpcy5yaXNrTGV2ZWwgPT09ICdjcml0aWNhbCcgXG4gICAgICAgICAgICAgICAgICAgID8gJ/Cfmqgg0JrQoNCY0KLQmNCn0JXQodCa0JjQmSDQoNCY0KHQmiDQvtCx0L3QsNGA0YPQttC10L0hJ1xuICAgICAgICAgICAgICAgICAgICA6IGDimqDvuI8g0J7QsdC90LDRgNGD0LbQtdC9ICR7cmlza0xldmVsTGFiZWxzW2FuYWx5c2lzLnJpc2tMZXZlbF19INGA0LjRgdC6YDtcblxuICAgICAgICAgICAgICAgICAgY29uc3QgY2hhdE5hbWUgPSBjaGF0LmlzR3JvdXAgPyBjaGF0Lmdyb3VwTmFtZSA6IGNoYXQucGFydGljaXBhbnROYW1lcy5qb2luKCcg0LggJyk7XG4gICAgICAgICAgICAgICAgICBjb25zdCBib2R5ID0gYNCSINGH0LDRgtC1IFwiJHtjaGF0TmFtZX1cIjogJHthbmFseXNpcy5yZWFzb25zWzBdIHx8ICfQntCx0L3QsNGA0YPQttC10L3QsCDRg9Cz0YDQvtC30LAnfWA7XG5cbiAgICAgICAgICAgICAgICAgIC8vINCb0L7QutCw0LvRjNC90L7QtSDRg9Cy0LXQtNC+0LzQu9C10L3QuNC1INC00LvRjyDRgtC10LrRg9GJ0LXQs9C+INGD0YHRgtGA0L7QudGB0YLQstCwXG4gICAgICAgICAgICAgICAgICBpZiAoUGxhdGZvcm0uT1MgIT09ICd3ZWInKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNvdW5kID0gZ2V0U291bmRGb3JSaXNrTGV2ZWwoYW5hbHlzaXMucmlza0xldmVsKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhbm5lbElkID0gZ2V0Q2hhbm5lbElkRm9yUmlza0xldmVsKGFuYWx5c2lzLnJpc2tMZXZlbCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByaW9yaXR5ID0gZ2V0QW5kcm9pZFByaW9yaXR5Rm9yUmlza0xldmVsKGFuYWx5c2lzLnJpc2tMZXZlbCk7XG5cbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgTm90aWZpY2F0aW9ucy5zY2hlZHVsZU5vdGlmaWNhdGlvbkFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdyaXNrX2FsZXJ0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnRJZDogbmV3QWxlcnQuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmlza0xldmVsOiBhbmFseXNpcy5yaXNrTGV2ZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc291bmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi4oUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJyAmJiBjaGFubmVsSWQgPyB7IGNoYW5uZWxJZCB9IDoge30pLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJpb3JpdHksXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgLy8gQmFja2VuZCDQvtGC0L/RgNCw0LLQutCwIHB1c2gg0YPQstC10LTQvtC80LvQtdC90LjQuSDQvdCwINCy0YHQtSDRg9GB0YLRgNC+0LnRgdGC0LLQsCDRgNC+0LTQuNGC0LXQu9C10LlcbiAgICAgICAgICAgICAgICAgIGlmICh1c2VyPy5pZCAmJiBhbmFseXNpcy5yaXNrTGV2ZWwgIT09ICdzYWZlJykge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRycGNWYW5pbGxhQ2xpZW50Lm5vdGlmaWNhdGlvbnMuc2VuZFJpc2tBbGVydFB1c2gubXV0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJJZDogdXNlci5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJZDogbmV3TWVzc2FnZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpc2tMZXZlbDogYW5hbHlzaXMucmlza0xldmVsIGFzICdsb3cnIHwgJ21lZGl1bScgfCAnaGlnaCcgfCAnY3JpdGljYWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uczogYW5hbHlzaXMucmVhc29ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXROYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci5pbmZvKCdQdXNoIG5vdGlmaWNhdGlvbiBzZW50IHRvIHBhcmVudHMgdmlhIGJhY2tlbmQnLCB7IGNvbnRleHQ6ICdNb25pdG9yaW5nQ29udGV4dCcsIGFjdGlvbjogJ3NlbmRSaXNrQWxlcnRQdXNoJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoYmFja2VuZEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gc2VuZCBwdXNoIHZpYSBiYWNrZW5kIChub24tY3JpdGljYWwpJywgYmFja2VuZEVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBiYWNrZW5kRXJyb3IgOiBuZXcgRXJyb3IoU3RyaW5nKGJhY2tlbmRFcnJvcikpLCB7IGNvbnRleHQ6ICdNb25pdG9yaW5nQ29udGV4dCcsIGFjdGlvbjogJ3NlbmRSaXNrQWxlcnRQdXNoJywgY3JpdGljYWw6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIC8vINCd0LUg0LrRgNC40YLQuNGH0L3QviAtINC70L7QutCw0LvRjNC90L7QtSDRg9Cy0LXQtNC+0LzQu9C10L3QuNC1INGD0LbQtSDQvtGC0L/RgNCw0LLQu9C10L3QvlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIud2FybignQ2Fubm90IHNlbmQgcHVzaCB2aWEgYmFja2VuZDogdXNlci5pZCBpcyBtaXNzaW5nJywgeyBjb250ZXh0OiAnTW9uaXRvcmluZ0NvbnRleHQnLCBhY3Rpb246ICdzZW5kUmlza0FsZXJ0UHVzaCcgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIHNlbmQgcHVzaCBub3RpZmljYXRpb24nLCBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoU3RyaW5nKGVycm9yKSksIHsgY29udGV4dDogJ01vbml0b3JpbmdDb250ZXh0JywgYWN0aW9uOiAnc2VuZFJpc2tBbGVydFB1c2gnIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8g0KLRgNC10LrQuNC90LMg0LDQvdCw0LvQuNC30LAg0YHQvtC+0LHRidC10L3QuNGPXG4gICAgICAgICAgICB0cmFja0V2ZW50KCdtZXNzYWdlX2FuYWx5emVkJywge1xuICAgICAgICAgICAgICBtZXNzYWdlSWQ6IG5ld01lc3NhZ2UuaWQsXG4gICAgICAgICAgICAgIGNoYXRJZCxcbiAgICAgICAgICAgICAgcmlza0xldmVsOiBhbmFseXNpcy5yaXNrTGV2ZWwsXG4gICAgICAgICAgICAgIGhhc0ltYWdlOiAhIWltYWdlVXJpLFxuICAgICAgICAgICAgICBpbWFnZUJsb2NrZWQ6IGltYWdlQW5hbHlzaXMuYmxvY2tlZCxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5jaGF0LFxuICAgICAgICAgICAgICBtZXNzYWdlczogdXBkYXRlZE1lc3NhZ2VzLFxuICAgICAgICAgICAgICBvdmVyYWxsUmlzazogaGlnaGVzdFJpc2ssXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gY2hhdDtcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChpc01vdW50ZWRSZWYuY3VycmVudCkge1xuICAgICAgICBzZXRJc0FuYWx5emluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbYW5hbHl6ZU1lc3NhZ2UsIGFuYWx5emVJbWFnZSwgdHJhY2tFdmVudCwgcGVyc29uYWxpemVBbmFseXNpc10pO1xuXG4gIGNvbnN0IGluaXRpYWxpemVDaGF0TWVzc2FnZXMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKCFpc01vdW50ZWRSZWYuY3VycmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRDaGF0cygocHJldikgPT5cbiAgICAgIHByZXYubWFwKChjaGF0KSA9PiAoe1xuICAgICAgICAuLi5jaGF0LFxuICAgICAgICBtZXNzYWdlczogSU5JVElBTF9NRVNTQUdFU1tjaGF0LmlkXSB8fCBbXSxcbiAgICAgIH0pKVxuICAgICk7XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc01vdW50ZWRSZWYuY3VycmVudCkge1xuICAgICAgaW5pdGlhbGl6ZUNoYXRNZXNzYWdlcygpO1xuICAgIH1cbiAgfSwgW2luaXRpYWxpemVDaGF0TWVzc2FnZXNdKTtcblxuICBjb25zdCByZXNvbHZlQWxlcnQgPSB1c2VDYWxsYmFjaygoYWxlcnRJZDogc3RyaW5nKSA9PiB7XG4gICAgc2V0QWxlcnRzKChwcmV2KSA9PiB7XG4gICAgICBjb25zdCB1cGRhdGVkID0gcHJldi5tYXAoKGFsZXJ0KSA9PlxuICAgICAgICBhbGVydC5pZCA9PT0gYWxlcnRJZCA/IHsgLi4uYWxlcnQsIHJlc29sdmVkOiB0cnVlIH0gOiBhbGVydFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHJlc29sdmVkQWxlcnQgPSBwcmV2LmZpbmQoKGEpID0+IGEuaWQgPT09IGFsZXJ0SWQpO1xuICAgICAgaWYgKHJlc29sdmVkQWxlcnQpIHtcbiAgICAgICAgdHJhY2tFdmVudCgnYWxlcnRfcmVzb2x2ZWQnLCB7XG4gICAgICAgICAgYWxlcnRJZCxcbiAgICAgICAgICBjaGF0SWQ6IHJlc29sdmVkQWxlcnQuY2hhdElkLFxuICAgICAgICAgIHJpc2tMZXZlbDogcmVzb2x2ZWRBbGVydC5yaXNrTGV2ZWwsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVwZGF0ZWQ7XG4gICAgfSk7XG5cbiAgICAvLyDQodC40L3RhdGA0L7QvdC40LfQsNGG0LjRjyDQv9C+0YHQu9C1INGA0LDQt9GA0LXRiNC10L3QuNGPINCw0LvQtdGA0YLQsCAoZGVib3VuY2UgMiDRgdC10LrRg9C90LTRiylcbiAgICBpZiAoc3luY1RpbWVvdXRSZWYuY3VycmVudCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHN5bmNUaW1lb3V0UmVmLmN1cnJlbnQpO1xuICAgIH1cbiAgICBzeW5jVGltZW91dFJlZi5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzeW5jRGF0YSh0cnVlKTsgLy8gU2lsZW50IHN5bmNcbiAgICB9LCAyMDAwKTtcbiAgfSwgW3RyYWNrRXZlbnQsIHN5bmNEYXRhXSk7XG5cbiAgY29uc3QgdW5yZXNvbHZlZEFsZXJ0cyA9IHVzZU1lbW8oXG4gICAgKCkgPT4gYWxlcnRzLmZpbHRlcigoYWxlcnQpID0+ICFhbGVydC5yZXNvbHZlZCksXG4gICAgW2FsZXJ0c11cbiAgKTtcblxuICBjb25zdCBjcml0aWNhbEFsZXJ0cyA9IHVzZU1lbW8oXG4gICAgKCkgPT4gdW5yZXNvbHZlZEFsZXJ0cy5maWx0ZXIoKGFsZXJ0KSA9PiBhbGVydC5yaXNrTGV2ZWwgPT09ICdjcml0aWNhbCcpLFxuICAgIFt1bnJlc29sdmVkQWxlcnRzXVxuICApO1xuXG4gIHJldHVybiB1c2VNZW1vKFxuICAgICgpID0+ICh7XG4gICAgICBjaGF0cyxcbiAgICAgIGFsZXJ0cyxcbiAgICAgIHVucmVzb2x2ZWRBbGVydHMsXG4gICAgICBjcml0aWNhbEFsZXJ0cyxcbiAgICAgIGlzQW5hbHl6aW5nLFxuICAgICAgaXNTeW5jaW5nLFxuICAgICAgbGFzdFN5bmNUaW1lc3RhbXAsXG4gICAgICBzeW5jRXJyb3IsXG4gICAgICBhZGRNZXNzYWdlLFxuICAgICAgaW5pdGlhbGl6ZUNoYXRNZXNzYWdlcyxcbiAgICAgIHJlc29sdmVBbGVydCxcbiAgICAgIHN5bmNEYXRhLCAvLyDQpNGD0L3QutGG0LjRjyDQtNC70Y8g0YDRg9GH0L3QvtC5INGB0LjQvdGF0YDQvtC90LjQt9Cw0YbQuNC4XG4gICAgfSksXG4gICAgW1xuICAgICAgY2hhdHMsXG4gICAgICBhbGVydHMsXG4gICAgICB1bnJlc29sdmVkQWxlcnRzLFxuICAgICAgY3JpdGljYWxBbGVydHMsXG4gICAgICBpc0FuYWx5emluZyxcbiAgICAgIGlzU3luY2luZyxcbiAgICAgIGxhc3RTeW5jVGltZXN0YW1wLFxuICAgICAgc3luY0Vycm9yLFxuICAgICAgYWRkTWVzc2FnZSxcbiAgICAgIGluaXRpYWxpemVDaGF0TWVzc2FnZXMsXG4gICAgICByZXNvbHZlQWxlcnQsXG4gICAgICBzeW5jRGF0YSxcbiAgICBdXG4gICk7XG59KTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsSUFBQUEsbUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLE1BQUEsR0FBQUQsT0FBQTtBQUVBLElBQUFFLFNBQUEsR0FBQUYsT0FBQTtBQUNBLElBQUFHLFFBQUEsR0FBQUgsT0FBQTtBQUNBLElBQUFJLGFBQUEsR0FBQUMsdUJBQUEsQ0FBQUwsT0FBQTtBQUNBLElBQUFNLFlBQUEsR0FBQU4sT0FBQTtBQUNBLElBQUFPLGlCQUFBLEdBQUFQLE9BQUE7QUFDQSxJQUFBUSxtQkFBQSxHQUFBUixPQUFBO0FBTUEsSUFBQVMsb0JBQUEsR0FBQVQsT0FBQTtBQUNBLElBQUFVLHNCQUFBLEdBQUFWLE9BQUE7QUFDQSxJQUFBVyxlQUFBLEdBQUFYLE9BQUE7QUFDQSxJQUFBWSxZQUFBLEdBQUFaLE9BQUE7QUFDQSxJQUFBYSxLQUFBLEdBQUFiLE9BQUE7QUFDQSxJQUFBYyxZQUFBLEdBQUFkLE9BQUE7QUFDQSxJQUFBZSxPQUFBLEdBQUFmLE9BQUE7QUFDQSxJQUFBZ0IsYUFBQSxHQUFBaEIsT0FBQTtBQUVBLElBQU1pQixXQUF3QixHQUFHLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLFVBQVUsQ0FBQztBQUU5RSxJQUFNQyxrQkFBa0IsR0FBRyxHQUFHO0FBRTlCLElBQU1DLGVBQWUsR0FBRyxTQUFsQkEsZUFBZUEsQ0FBQTtFQUFBLE9BQVMsSUFBSUMsT0FBTyxDQUFPLFVBQUNDLE9BQU87SUFBQSxPQUFLQyxVQUFVLENBQUNELE9BQU8sRUFBRUgsa0JBQWtCLENBQUM7RUFBQSxFQUFDO0FBQUE7QUFHckcsSUFBTUssb0JBQW9CLEdBQUcsU0FBdkJBLG9CQUFvQkEsQ0FBSUMsVUFBa0IsRUFBRUMsV0FBbUIsRUFBYTtFQUNoRixJQUFNQyxPQUFPLEdBQUcsSUFB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