{"version":3,"names":["createContextHook","useState","useCallback","useMemo","useEffect","AsyncStorage","useUser","AB_ASSIGNMENTS_KEY","cov_1kpvqprwam","s","DEFAULT_EXPERIMENTS","name","variants","trafficSplit","A","B","C","control","enabled","startDate","Date","now","_ref","f","_ref3","user","_ref4","_ref5","_slicedToArray","experiments","_ref6","_ref7","assignments","setAssignments","loadAssignments","_ref8","_asyncToGenerator","stored","getItem","b","JSON","parse","error","console","apply","arguments","saveAssignments","_ref9","setItem","stringify","length","getVariant","experimentName","existing","find","a","userId","id","variant","experiment","e","endDate","seed","hash","simpleHash","random","cumulative","_loop","assignment","assignedAt","prev","concat","_toConsumableArray","v","_ret","trackExperimentView","log","trackExperimentConversion","conversion","_ref2","ABTestingProvider","useABTesting","str","i","char","charCodeAt","Math","abs"],"sources":["ABTestingContext.tsx"],"sourcesContent":["import createContextHook from '@nkzw/create-context-hook';\nimport { useState, useCallback, useMemo, useEffect } from 'react';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { useUser } from './UserContext';\n\nconst AB_ASSIGNMENTS_KEY = '@ab_assignments';\n\nexport type ExperimentName = \n  | 'ui_layout_variant'\n  | 'notification_timing'\n  | 'risk_display_style'\n  | 'onboarding_flow'\n  | 'recommendation_algorithm';\n\nexport type Variant = 'A' | 'B' | 'C' | 'control';\n\nexport interface Experiment {\n  name: ExperimentName;\n  variants: Variant[];\n  trafficSplit: Record<Variant, number>; // Процент трафика для каждого варианта\n  enabled: boolean;\n  startDate: number;\n  endDate?: number;\n}\n\nexport interface ExperimentAssignment {\n  experimentName: ExperimentName;\n  variant: Variant;\n  assignedAt: number;\n  userId?: string;\n}\n\nexport interface ABTestingContextValue {\n  getVariant: (experimentName: ExperimentName) => Variant;\n  trackExperimentView: (experimentName: ExperimentName, variant: Variant) => void;\n  trackExperimentConversion: (experimentName: ExperimentName, variant: Variant, conversion: string) => void;\n  experiments: Experiment[];\n  assignments: ExperimentAssignment[];\n}\n\n// Определенные эксперименты\nconst DEFAULT_EXPERIMENTS: Experiment[] = [\n  {\n    name: 'ui_layout_variant',\n    variants: ['A', 'B'],\n    trafficSplit: { A: 50, B: 50, C: 0, control: 0 },\n    enabled: true,\n    startDate: Date.now(),\n  },\n  {\n    name: 'notification_timing',\n    variants: ['A', 'B'],\n    trafficSplit: { A: 50, B: 50, C: 0, control: 0 },\n    enabled: true,\n    startDate: Date.now(),\n  },\n  {\n    name: 'risk_display_style',\n    variants: ['A', 'B', 'C'],\n    trafficSplit: { A: 33, B: 33, C: 34, control: 0 },\n    enabled: true,\n    startDate: Date.now(),\n  },\n];\n\nexport const [ABTestingProvider, useABTesting] = createContextHook<ABTestingContextValue>(() => {\n  const { user } = useUser();\n  const [experiments] = useState<Experiment[]>(DEFAULT_EXPERIMENTS);\n  const [assignments, setAssignments] = useState<ExperimentAssignment[]>([]);\n\n  // Загрузка назначений при инициализации\n  useEffect(() => {\n    const loadAssignments = async () => {\n      try {\n        const stored = await AsyncStorage.getItem(AB_ASSIGNMENTS_KEY);\n        if (stored) {\n          setAssignments(JSON.parse(stored));\n        }\n      } catch (error) {\n        console.error('[ABTesting] Failed to load assignments:', error);\n      }\n    };\n    loadAssignments();\n  }, []);\n\n  // Сохранение назначений\n  useEffect(() => {\n    const saveAssignments = async () => {\n      try {\n        await AsyncStorage.setItem(AB_ASSIGNMENTS_KEY, JSON.stringify(assignments));\n      } catch (error) {\n        console.error('[ABTesting] Failed to save assignments:', error);\n      }\n    };\n    if (assignments.length > 0) {\n      saveAssignments();\n    }\n  }, [assignments]);\n\n  /**\n   * Получить вариант для эксперимента\n   * Использует детерминированное назначение на основе userId или deviceId\n   */\n  const getVariant = useCallback((experimentName: ExperimentName): Variant => {\n    // Проверяем, есть ли уже назначение\n    const existing = assignments.find(\n      (a) => a.experimentName === experimentName && a.userId === user?.id\n    );\n    if (existing) {\n      return existing.variant;\n    }\n\n    // Находим эксперимент\n    const experiment = experiments.find((e) => e.name === experimentName);\n    if (!experiment || !experiment.enabled) {\n      return 'control';\n    }\n\n    // Проверяем даты эксперимента\n    const now = Date.now();\n    if (now < experiment.startDate || (experiment.endDate && now > experiment.endDate)) {\n      return 'control';\n    }\n\n    // Детерминированное назначение на основе userId или случайного seed\n    const seed = user?.id || `device_${Date.now()}`;\n    const hash = simpleHash(seed + experimentName);\n    const random = hash % 100;\n\n    // Назначаем вариант на основе trafficSplit\n    let cumulative = 0;\n    for (const variant of experiment.variants) {\n      cumulative += experiment.trafficSplit[variant];\n      if (random < cumulative) {\n        const assignment: ExperimentAssignment = {\n          experimentName,\n          variant,\n          assignedAt: Date.now(),\n          userId: user?.id,\n        };\n        setAssignments((prev) => [...prev, assignment]);\n        return variant;\n      }\n    }\n\n    return 'control';\n  }, [experiments, assignments, user?.id]);\n\n  /**\n   * Трекинг просмотра эксперимента\n   */\n  const trackExperimentView = useCallback(\n    (experimentName: ExperimentName, variant: Variant) => {\n      console.log('[ABTesting] View tracked:', { experimentName, variant, userId: user?.id });\n      // Здесь можно отправить событие в аналитику\n    },\n    [user?.id]\n  );\n\n  /**\n   * Трекинг конверсии в эксперименте\n   */\n  const trackExperimentConversion = useCallback(\n    (experimentName: ExperimentName, variant: Variant, conversion: string) => {\n      console.log('[ABTesting] Conversion tracked:', {\n        experimentName,\n        variant,\n        conversion,\n        userId: user?.id,\n      });\n      // Здесь можно отправить событие в аналитику\n    },\n    [user?.id]\n  );\n\n  return useMemo(\n    () => ({\n      getVariant,\n      trackExperimentView,\n      trackExperimentConversion,\n      experiments,\n      assignments,\n    }),\n    [getVariant, trackExperimentView, trackExperimentConversion, experiments, assignments]\n  );\n});\n\n/**\n * Простая хеш-функция для детерминированного назначения\n */\nfunction simpleHash(str: string): number {\n  let hash = 0;\n  for (let i = 0; i < str.length; i++) {\n    const char = str.charCodeAt(i);\n    hash = (hash << 5) - hash + char;\n    hash = hash & hash; // Convert to 32bit integer\n  }\n  return Math.abs(hash);\n}\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}