812c7f31f0e6b1d854f8f04d72fcfdfe
import _asyncToGenerator from "@babel/runtime/helpers/asyncToGenerator";
function cov_2ev48tpd5g() {
  var path = "/Users/mac/Desktop/rork-kiku/backend/trpc/routes/auth/register-parent.ts";
  var hash = "fb1bac93fc8c784ed589f6d386bc6aa72f40ff46";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/mac/Desktop/rork-kiku/backend/trpc/routes/auth/register-parent.ts",
    statementMap: {
      "0": {
        start: {
          line: 12,
          column: 16
        },
        end: {
          line: 12,
          column: 50
        }
      },
      "1": {
        start: {
          line: 13,
          column: 13
        },
        end: {
          line: 13,
          column: 15
        }
      },
      "2": {
        start: {
          line: 14,
          column: 2
        },
        end: {
          line: 16,
          column: 3
        }
      },
      "3": {
        start: {
          line: 14,
          column: 15
        },
        end: {
          line: 14,
          column: 16
        }
      },
      "4": {
        start: {
          line: 15,
          column: 4
        },
        end: {
          line: 15,
          column: 67
        }
      },
      "5": {
        start: {
          line: 17,
          column: 2
        },
        end: {
          line: 17,
          column: 24
        }
      },
      "6": {
        start: {
          line: 24,
          column: 2
        },
        end: {
          line: 24,
          column: 30
        }
      },
      "7": {
        start: {
          line: 24,
          column: 17
        },
        end: {
          line: 24,
          column: 30
        }
      },
      "8": {
        start: {
          line: 26,
          column: 19
        },
        end: {
          line: 30,
          column: 13
        }
      },
      "9": {
        start: {
          line: 32,
          column: 2
        },
        end: {
          line: 32,
          column: 15
        }
      },
      "10": {
        start: {
          line: 39,
          column: 13
        },
        end: {
          line: 39,
          column: 33
        }
      },
      "11": {
        start: {
          line: 40,
          column: 17
        },
        end: {
          line: 40,
          column: 18
        }
      },
      "12": {
        start: {
          line: 41,
          column: 22
        },
        end: {
          line: 41,
          column: 24
        }
      },
      "13": {
        start: {
          line: 43,
          column: 2
        },
        end: {
          line: 46,
          column: 3
        }
      },
      "14": {
        start: {
          line: 44,
          column: 4
        },
        end: {
          line: 44,
          column: 32
        }
      },
      "15": {
        start: {
          line: 45,
          column: 4
        },
        end: {
          line: 45,
          column: 15
        }
      },
      "16": {
        start: {
          line: 48,
          column: 2
        },
        end: {
          line: 50,
          column: 3
        }
      },
      "17": {
        start: {
          line: 49,
          column: 4
        },
        end: {
          line: 49,
          column: 76
        }
      },
      "18": {
        start: {
          line: 52,
          column: 2
        },
        end: {
          line: 52,
          column: 14
        }
      },
      "19": {
        start: {
          line: 55,
          column: 39
        },
        end: {
          line: 197,
          column: 4
        }
      },
      "20": {
        start: {
          line: 64,
          column: 46
        },
        end: {
          line: 64,
          column: 58
        }
      },
      "21": {
        start: {
          line: 67,
          column: 55
        },
        end: {
          line: 67,
          column: 67
        }
      },
      "22": {
        start: {
          line: 73,
          column: 4
        },
        end: {
          line: 75,
          column: 5
        }
      },
      "23": {
        start: {
          line: 74,
          column: 6
        },
        end: {
          line: 74,
          column: 60
        }
      },
      "24": {
        start: {
          line: 77,
          column: 22
        },
        end: {
          line: 77,
          column: 32
        }
      },
      "25": {
        start: {
          line: 78,
          column: 21
        },
        end: {
          line: 78,
          column: 85
        }
      },
      "26": {
        start: {
          line: 80,
          column: 4
        },
        end: {
          line: 196,
          column: 5
        }
      },
      "27": {
        start: {
          line: 82,
          column: 29
        },
        end: {
          line: 82,
          column: 55
        }
      },
      "28": {
        start: {
          line: 85,
          column: 33
        },
        end: {
          line: 89,
          column: 17
        }
      },
      "29": {
        start: {
          line: 91,
          column: 6
        },
        end: {
          line: 96,
          column: 7
        }
      },
      "30": {
        start: {
          line: 92,
          column: 8
        },
        end: {
          line: 95,
          column: 10
        }
      },
      "31": {
        start: {
          line: 99,
          column: 55
        },
        end: {
          line: 118,
          column: 17
        }
      },
      "32": {
        start: {
          line: 120,
          column: 6
        },
        end: {
          line: 136,
          column: 7
        }
      },
      "33": {
        start: {
          line: 121,
          column: 8
        },
        end: {
          line: 121,
          column: 105
        }
      },
      "34": {
        start: {
          line: 122,
          column: 8
        },
        end: {
          line: 122,
          column: 81
        }
      },
      "35": {
        start: {
          line: 123,
          column: 8
        },
        end: {
          line: 123,
          column: 87
        }
      },
      "36": {
        start: {
          line: 124,
          column: 8
        },
        end: {
          line: 124,
          column: 87
        }
      },
      "37": {
        start: {
          line: 125,
          column: 8
        },
        end: {
          line: 125,
          column: 81
        }
      },
      "38": {
        start: {
          line: 128,
          column: 8
        },
        end: {
          line: 135,
          column: 10
        }
      },
      "39": {
        start: {
          line: 139,
          column: 19
        },
        end: {
          line: 139,
          column: 43
        }
      },
      "40": {
        start: {
          line: 142,
          column: 35
        },
        end: {
          line: 152,
          column: 10
        }
      },
      "41": {
        start: {
          line: 154,
          column: 6
        },
        end: {
          line: 163,
          column: 7
        }
      },
      "42": {
        start: {
          line: 155,
          column: 8
        },
        end: {
          line: 155,
          column: 83
        }
      },
      "43": {
        start: {
          line: 156,
          column: 8
        },
        end: {
          line: 162,
          column: 10
        }
      },
      "44": {
        start: {
          line: 165,
          column: 6
        },
        end: {
          line: 170,
          column: 8
        }
      },
      "45": {
        start: {
          line: 172,
          column: 6
        },
        end: {
          line: 172,
          column: 63
        }
      },
      "46": {
        start: {
          line: 175,
          column: 6
        },
        end: {
          line: 189,
          column: 7
        }
      },
      "47": {
        start: {
          line: 176,
          column: 29
        },
        end: {
          line: 176,
          column: 52
        }
      },
      "48": {
        start: {
          line: 177,
          column: 26
        },
        end: {
          line: 177,
          column: 78
        }
      },
      "49": {
        start: {
          line: 178,
          column: 29
        },
        end: {
          line: 178,
          column: 87
        }
      },
      "50": {
        start: {
          line: 179,
          column: 26
        },
        end: {
          line: 179,
          column: 78
        }
      },
      "51": {
        start: {
          line: 181,
          column: 8
        },
        end: {
          line: 188,
          column: 10
        }
      },
      "52": {
        start: {
          line: 191,
          column: 6
        },
        end: {
          line: 195,
          column: 8
        }
      }
    },
    fnMap: {
      "0": {
        name: "generateParentCode",
        decl: {
          start: {
            line: 11,
            column: 9
          },
          end: {
            line: 11,
            column: 27
          }
        },
        loc: {
          start: {
            line: 11,
            column: 38
          },
          end: {
            line: 18,
            column: 1
          }
        },
        line: 11
      },
      "1": {
        name: "isCodeUnique",
        decl: {
          start: {
            line: 23,
            column: 15
          },
          end: {
            line: 23,
            column: 27
          }
        },
        loc: {
          start: {
            line: 23,
            column: 60
          },
          end: {
            line: 33,
            column: 1
          }
        },
        line: 23
      },
      "2": {
        name: "createUniqueCode",
        decl: {
          start: {
            line: 38,
            column: 15
          },
          end: {
            line: 38,
            column: 31
          }
        },
        loc: {
          start: {
            line: 38,
            column: 51
          },
          end: {
            line: 53,
            column: 1
          }
        },
        line: 38
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 64,
            column: 39
          },
          end: {
            line: 64,
            column: 40
          }
        },
        loc: {
          start: {
            line: 64,
            column: 46
          },
          end: {
            line: 64,
            column: 58
          }
        },
        line: 64
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 67,
            column: 48
          },
          end: {
            line: 67,
            column: 49
          }
        },
        loc: {
          start: {
            line: 67,
            column: 55
          },
          end: {
            line: 67,
            column: 67
          }
        },
        line: 67
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 72,
            column: 12
          },
          end: {
            line: 72,
            column: 13
          }
        },
        loc: {
          start: {
            line: 72,
            column: 33
          },
          end: {
            line: 197,
            column: 3
          }
        },
        line: 72
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 24,
            column: 2
          },
          end: {
            line: 24,
            column: 30
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 24,
            column: 2
          },
          end: {
            line: 24,
            column: 30
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 24
      },
      "1": {
        loc: {
          start: {
            line: 43,
            column: 9
          },
          end: {
            line: 43,
            column: 62
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 43,
            column: 9
          },
          end: {
            line: 43,
            column: 36
          }
        }, {
          start: {
            line: 43,
            column: 40
          },
          end: {
            line: 43,
            column: 62
          }
        }],
        line: 43
      },
      "2": {
        loc: {
          start: {
            line: 48,
            column: 2
          },
          end: {
            line: 50,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 48,
            column: 2
          },
          end: {
            line: 50,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 48
      },
      "3": {
        loc: {
          start: {
            line: 73,
            column: 4
          },
          end: {
            line: 75,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 73,
            column: 4
          },
          end: {
            line: 75,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 73
      },
      "4": {
        loc: {
          start: {
            line: 91,
            column: 6
          },
          end: {
            line: 96,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 91,
            column: 6
          },
          end: {
            line: 96,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 91
      },
      "5": {
        loc: {
          start: {
            line: 106,
            column: 17
          },
          end: {
            line: 106,
            column: 36
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 106,
            column: 17
          },
          end: {
            line: 106,
            column: 28
          }
        }, {
          start: {
            line: 106,
            column: 32
          },
          end: {
            line: 106,
            column: 36
          }
        }],
        line: 106
      },
      "6": {
        loc: {
          start: {
            line: 110,
            column: 19
          },
          end: {
            line: 110,
            column: 40
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 110,
            column: 19
          },
          end: {
            line: 110,
            column: 32
          }
        }, {
          start: {
            line: 110,
            column: 36
          },
          end: {
            line: 110,
            column: 40
          }
        }],
        line: 110
      },
      "7": {
        loc: {
          start: {
            line: 111,
            column: 17
          },
          end: {
            line: 111,
            column: 36
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 111,
            column: 17
          },
          end: {
            line: 111,
            column: 28
          }
        }, {
          start: {
            line: 111,
            column: 32
          },
          end: {
            line: 111,
            column: 36
          }
        }],
        line: 111
      },
      "8": {
        loc: {
          start: {
            line: 113,
            column: 30
          },
          end: {
            line: 113,
            column: 67
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 113,
            column: 51
          },
          end: {
            line: 113,
            column: 60
          }
        }, {
          start: {
            line: 113,
            column: 63
          },
          end: {
            line: 113,
            column: 67
          }
        }],
        line: 113
      },
      "9": {
        loc: {
          start: {
            line: 115,
            column: 31
          },
          end: {
            line: 115,
            column: 77
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 115,
            column: 61
          },
          end: {
            line: 115,
            column: 70
          }
        }, {
          start: {
            line: 115,
            column: 73
          },
          end: {
            line: 115,
            column: 77
          }
        }],
        line: 115
      },
      "10": {
        loc: {
          start: {
            line: 120,
            column: 6
          },
          end: {
            line: 136,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 120,
            column: 6
          },
          end: {
            line: 136,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 120
      },
      "11": {
        loc: {
          start: {
            line: 130,
            column: 59
          },
          end: {
            line: 130,
            column: 122
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 130,
            column: 59
          },
          end: {
            line: 130,
            column: 78
          }
        }, {
          start: {
            line: 130,
            column: 82
          },
          end: {
            line: 130,
            column: 98
          }
        }, {
          start: {
            line: 130,
            column: 102
          },
          end: {
            line: 130,
            column: 122
          }
        }],
        line: 130
      },
      "12": {
        loc: {
          start: {
            line: 134,
            column: 21
          },
          end: {
            line: 134,
            column: 110
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 134,
            column: 62
          },
          end: {
            line: 134,
            column: 98
          }
        }, {
          start: {
            line: 134,
            column: 101
          },
          end: {
            line: 134,
            column: 110
          }
        }],
        line: 134
      },
      "13": {
        loc: {
          start: {
            line: 154,
            column: 6
          },
          end: {
            line: 163,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 154,
            column: 6
          },
          end: {
            line: 163,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 154
      },
      "14": {
        loc: {
          start: {
            line: 158,
            column: 46
          },
          end: {
            line: 158,
            column: 105
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 158,
            column: 46
          },
          end: {
            line: 158,
            column: 63
          }
        }, {
          start: {
            line: 158,
            column: 67
          },
          end: {
            line: 158,
            column: 81
          }
        }, {
          start: {
            line: 158,
            column: 85
          },
          end: {
            line: 158,
            column: 105
          }
        }],
        line: 158
      },
      "15": {
        loc: {
          start: {
            line: 175,
            column: 6
          },
          end: {
            line: 189,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 175,
            column: 6
          },
          end: {
            line: 189,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 175
      },
      "16": {
        loc: {
          start: {
            line: 175,
            column: 10
          },
          end: {
            line: 175,
            column: 66
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 175,
            column: 10
          },
          end: {
            line: 175,
            column: 15
          }
        }, {
          start: {
            line: 175,
            column: 19
          },
          end: {
            line: 175,
            column: 44
          }
        }, {
          start: {
            line: 175,
            column: 48
          },
          end: {
            line: 175,
            column: 66
          }
        }],
        line: 175
      },
      "17": {
        loc: {
          start: {
            line: 177,
            column: 26
          },
          end: {
            line: 177,
            column: 78
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 177,
            column: 45
          },
          end: {
            line: 177,
            column: 65
          }
        }, {
          start: {
            line: 177,
            column: 69
          },
          end: {
            line: 177,
            column: 78
          }
        }],
        line: 177
      },
      "18": {
        loc: {
          start: {
            line: 178,
            column: 29
          },
          end: {
            line: 178,
            column: 87
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 178,
            column: 51
          },
          end: {
            line: 178,
            column: 74
          }
        }, {
          start: {
            line: 178,
            column: 78
          },
          end: {
            line: 178,
            column: 87
          }
        }],
        line: 178
      },
      "19": {
        loc: {
          start: {
            line: 179,
            column: 26
          },
          end: {
            line: 179,
            column: 78
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 179,
            column: 45
          },
          end: {
            line: 179,
            column: 65
          }
        }, {
          start: {
            line: 179,
            column: 69
          },
          end: {
            line: 179,
            column: 78
          }
        }],
        line: 179
      },
      "20": {
        loc: {
          start: {
            line: 187,
            column: 21
          },
          end: {
            line: 187,
            column: 104
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 187,
            column: 62
          },
          end: {
            line: 187,
            column: 92
          }
        }, {
          start: {
            line: 187,
            column: 95
          },
          end: {
            line: 187,
            column: 104
          }
        }],
        line: 187
      },
      "21": {
        loc: {
          start: {
            line: 193,
            column: 15
          },
          end: {
            line: 193,
            column: 76
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 193,
            column: 40
          },
          end: {
            line: 193,
            column: 53
          }
        }, {
          start: {
            line: 193,
            column: 56
          },
          end: {
            line: 193,
            column: 76
          }
        }],
        line: 193
      },
      "22": {
        loc: {
          start: {
            line: 194,
            column: 19
          },
          end: {
            line: 194,
            column: 85
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 194,
            column: 60
          },
          end: {
            line: 194,
            column: 73
          }
        }, {
          start: {
            line: 194,
            column: 76
          },
          end: {
            line: 194,
            column: 85
          }
        }],
        line: 194
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0, 0],
      "15": [0, 0],
      "16": [0, 0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "fb1bac93fc8c784ed589f6d386bc6aa72f40ff46"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    cov_2ev48tpd5g = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_2ev48tpd5g();
import { z } from "zod";
import { publicProcedure } from "../../create-context.js";
import { supabase } from "../../../utils/supabase.js";
import { sanitizeEmail } from "../../../utils/security.js";
import { rateLimiters } from "../../middleware/rateLimit.js";
function generateParentCode() {
  cov_2ev48tpd5g().f[0]++;
  var chars = (cov_2ev48tpd5g().s[0]++, 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789');
  var code = (cov_2ev48tpd5g().s[1]++, '');
  cov_2ev48tpd5g().s[2]++;
  for (var i = (cov_2ev48tpd5g().s[3]++, 0); i < 6; i++) {
    cov_2ev48tpd5g().s[4]++;
    code += chars.charAt(Math.floor(Math.random() * chars.length));
  }
  cov_2ev48tpd5g().s[5]++;
  return `KIKU-${code}`;
}
function isCodeUnique(_x) {
  return _isCodeUnique.apply(this, arguments);
}
function _isCodeUnique() {
  _isCodeUnique = _asyncToGenerator(function* (code) {
    cov_2ev48tpd5g().f[1]++;
    cov_2ev48tpd5g().s[6]++;
    if (!supabase) {
      cov_2ev48tpd5g().b[0][0]++;
      cov_2ev48tpd5g().s[7]++;
      return false;
    } else {
      cov_2ev48tpd5g().b[0][1]++;
    }
    var _ref6 = (cov_2ev48tpd5g().s[8]++, yield supabase.from('parent_codes').select('code').eq('code', code).single()),
      data = _ref6.data;
    cov_2ev48tpd5g().s[9]++;
    return !data;
  });
  return _isCodeUnique.apply(this, arguments);
}
function createUniqueCode() {
  return _createUniqueCode.apply(this, arguments);
}
function _createUniqueCode() {
  _createUniqueCode = _asyncToGenerator(function* () {
    cov_2ev48tpd5g().f[2]++;
    var code = (cov_2ev48tpd5g().s[10]++, generateParentCode());
    var attempts = (cov_2ev48tpd5g().s[11]++, 0);
    var maxAttempts = (cov_2ev48tpd5g().s[12]++, 10);
    cov_2ev48tpd5g().s[13]++;
    while ((cov_2ev48tpd5g().b[1][0]++, !(yield isCodeUnique(code))) && (cov_2ev48tpd5g().b[1][1]++, attempts < maxAttempts)) {
      cov_2ev48tpd5g().s[14]++;
      code = generateParentCode();
      cov_2ev48tpd5g().s[15]++;
      attempts++;
    }
    cov_2ev48tpd5g().s[16]++;
    if (attempts >= maxAttempts) {
      cov_2ev48tpd5g().b[2][0]++;
      cov_2ev48tpd5g().s[17]++;
      throw new Error('Не удалось создать уникальный код. Попробуйте позже.');
    } else {
      cov_2ev48tpd5g().b[2][1]++;
    }
    cov_2ev48tpd5g().s[18]++;
    return code;
  });
  return _createUniqueCode.apply(this, arguments);
}
export var registerParentProcedure = (cov_2ev48tpd5g().s[19]++, publicProcedure.use(rateLimiters.general).input(z.object({
  name: z.string().min(1).max(100),
  email: z.string().email(),
  phone: z.string().optional(),
  country: z.string().default('US'),
  state: z.string().optional(),
  coppaConsent: z.boolean().refine(function (val) {
    cov_2ev48tpd5g().f[3]++;
    cov_2ev48tpd5g().s[20]++;
    return val === true;
  }, {
    message: 'Необходимо согласие с COPPA'
  }),
  privacyPolicyAccepted: z.boolean().refine(function (val) {
    cov_2ev48tpd5g().f[4]++;
    cov_2ev48tpd5g().s[21]++;
    return val === true;
  }, {
    message: 'Необходимо принять политику конфиденциальности'
  })
})).mutation(function () {
  var _ref2 = _asyncToGenerator(function* (_ref) {
    var input = _ref.input;
    cov_2ev48tpd5g().f[5]++;
    cov_2ev48tpd5g().s[22]++;
    if (!supabase) {
      cov_2ev48tpd5g().b[3][0]++;
      cov_2ev48tpd5g().s[23]++;
      throw new Error("Supabase клиент не инициализирован");
    } else {
      cov_2ev48tpd5g().b[3][1]++;
    }
    var timestamp = (cov_2ev48tpd5g().s[24]++, Date.now());
    var parentId = (cov_2ev48tpd5g().s[25]++, `parent_${timestamp}_${Math.random().toString(36).substr(2, 9)}`);
    cov_2ev48tpd5g().s[26]++;
    try {
      var sanitizedEmail = (cov_2ev48tpd5g().s[27]++, sanitizeEmail(input.email));
      var _ref3 = (cov_2ev48tpd5g().s[28]++, yield supabase.from('parents').select('id').eq('email', sanitizedEmail).single()),
        existing = _ref3.data;
      cov_2ev48tpd5g().s[29]++;
      if (existing) {
        cov_2ev48tpd5g().b[4][0]++;
        cov_2ev48tpd5g().s[30]++;
        return {
          success: false,
          error: 'Родитель с таким email уже зарегистрирован'
        };
      } else {
        cov_2ev48tpd5g().b[4][1]++;
      }
      var _ref4 = (cov_2ev48tpd5g().s[31]++, yield supabase.from('parents').insert({
          id: parentId,
          email: sanitizedEmail,
          email_verified: false,
          name: input.name,
          phone: (cov_2ev48tpd5g().b[5][0]++, input.phone) || (cov_2ev48tpd5g().b[5][1]++, null),
          pin_hash: '',
          created_at: timestamp,
          updated_at: timestamp,
          country: (cov_2ev48tpd5g().b[6][0]++, input.country) || (cov_2ev48tpd5g().b[6][1]++, 'US'),
          state: (cov_2ev48tpd5g().b[7][0]++, input.state) || (cov_2ev48tpd5g().b[7][1]++, null),
          coppa_consent: input.coppaConsent,
          coppa_consent_date: input.coppaConsent ? (cov_2ev48tpd5g().b[8][0]++, timestamp) : (cov_2ev48tpd5g().b[8][1]++, null),
          privacy_policy_accepted: input.privacyPolicyAccepted,
          privacy_policy_date: input.privacyPolicyAccepted ? (cov_2ev48tpd5g().b[9][0]++, timestamp) : (cov_2ev48tpd5g().b[9][1]++, null)
        }).select().single()),
        parentData = _ref4.data,
        parentError = _ref4.error;
      cov_2ev48tpd5g().s[32]++;
      if (parentError) {
        cov_2ev48tpd5g().b[10][0]++;
        cov_2ev48tpd5g().s[33]++;
        console.error('[registerParentProcedure] Supabase Error:', JSON.stringify(parentError, null, 2));
        cov_2ev48tpd5g().s[34]++;
        console.error('[registerParentProcedure] Error Code:', parentError.code);
        cov_2ev48tpd5g().s[35]++;
        console.error('[registerParentProcedure] Error Message:', parentError.message);
        cov_2ev48tpd5g().s[36]++;
        console.error('[registerParentProcedure] Error Details:', parentError.details);
        cov_2ev48tpd5g().s[37]++;
        console.error('[registerParentProcedure] Error Hint:', parentError.hint);
        cov_2ev48tpd5g().s[38]++;
        return {
          success: false,
          error: `Ошибка при создании аккаунта родителя: ${(cov_2ev48tpd5g().b[11][0]++, parentError.message) || (cov_2ev48tpd5g().b[11][1]++, parentError.code) || (cov_2ev48tpd5g().b[11][2]++, 'Неизвестная ошибка')}`,
          errorCode: parentError.code,
          errorDetails: parentError.details,
          errorHint: parentError.hint,
          fullError: process.env.NODE_ENV === 'development' ? (cov_2ev48tpd5g().b[12][0]++, JSON.stringify(parentError, null, 2)) : (cov_2ev48tpd5g().b[12][1]++, undefined)
        };
      } else {
        cov_2ev48tpd5g().b[10][1]++;
      }
      var code = (cov_2ev48tpd5g().s[39]++, yield createUniqueCode());
      var _ref5 = (cov_2ev48tpd5g().s[40]++, yield supabase.from('parent_codes').insert({
          code: code,
          parent_id: parentId,
          created_at: timestamp,
          expires_at: null,
          used_count: 0,
          max_uses: 10,
          is_active: true
        })),
        codeError = _ref5.error;
      cov_2ev48tpd5g().s[41]++;
      if (codeError) {
        cov_2ev48tpd5g().b[13][0]++;
        cov_2ev48tpd5g().s[42]++;
        console.error('[registerParentProcedure] Code creation error:', codeError);
        cov_2ev48tpd5g().s[43]++;
        return {
          success: false,
          error: `Ошибка при создании кода: ${(cov_2ev48tpd5g().b[14][0]++, codeError.message) || (cov_2ev48tpd5g().b[14][1]++, codeError.code) || (cov_2ev48tpd5g().b[14][2]++, 'Неизвестная ошибка')}`,
          errorCode: codeError.code,
          errorDetails: codeError.details,
          errorHint: codeError.hint
        };
      } else {
        cov_2ev48tpd5g().b[13][1]++;
      }
      cov_2ev48tpd5g().s[44]++;
      return {
        success: true,
        parentId: parentId,
        code: code,
        message: 'Регистрация успешна! Сохраните код для регистрации ребенка.'
      };
    } catch (error) {
      cov_2ev48tpd5g().s[45]++;
      console.error('[registerParentProcedure] Error:', error);
      cov_2ev48tpd5g().s[46]++;
      if ((cov_2ev48tpd5g().b[16][0]++, error) && (cov_2ev48tpd5g().b[16][1]++, typeof error === 'object') && (cov_2ev48tpd5g().b[16][2]++, 'message' in error)) {
        cov_2ev48tpd5g().b[15][0]++;
        var errorMessage = (cov_2ev48tpd5g().s[47]++, error.message);
        var errorCode = (cov_2ev48tpd5g().s[48]++, 'code' in error ? (cov_2ev48tpd5g().b[17][0]++, error.code) : (cov_2ev48tpd5g().b[17][1]++, undefined));
        var errorDetails = (cov_2ev48tpd5g().s[49]++, 'details' in error ? (cov_2ev48tpd5g().b[18][0]++, error.details) : (cov_2ev48tpd5g().b[18][1]++, undefined));
        var errorHint = (cov_2ev48tpd5g().s[50]++, 'hint' in error ? (cov_2ev48tpd5g().b[19][0]++, error.hint) : (cov_2ev48tpd5g().b[19][1]++, undefined));
        cov_2ev48tpd5g().s[51]++;
        return {
          success: false,
          error: errorMessage,
          errorCode: errorCode,
          errorDetails: errorDetails,
          errorHint: errorHint,
          fullError: process.env.NODE_ENV === 'development' ? (cov_2ev48tpd5g().b[20][0]++, JSON.stringify(error, null, 2)) : (cov_2ev48tpd5g().b[20][1]++, undefined)
        };
      } else {
        cov_2ev48tpd5g().b[15][1]++;
      }
      cov_2ev48tpd5g().s[52]++;
      return {
        success: false,
        error: error instanceof Error ? (cov_2ev48tpd5g().b[21][0]++, error.message) : (cov_2ev48tpd5g().b[21][1]++, 'Неизвестная ошибка'),
        fullError: process.env.NODE_ENV === 'development' ? (cov_2ev48tpd5g().b[22][0]++, String(error)) : (cov_2ev48tpd5g().b[22][1]++, undefined)
      };
    }
  });
  return function (_x2) {
    return _ref2.apply(this, arguments);
  };
}()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ6IiwicHVibGljUHJvY2VkdXJlIiwic3VwYWJhc2UiLCJzYW5pdGl6ZUVtYWlsIiwicmF0ZUxpbWl0ZXJzIiwiZ2VuZXJhdGVQYXJlbnRDb2RlIiwiY292XzJldjQ4dHBkNWciLCJmIiwiY2hhcnMiLCJzIiwiY29kZSIsImkiLCJjaGFyQXQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJsZW5ndGgiLCJpc0NvZGVVbmlxdWUiLCJfeCIsIl9pc0NvZGVVbmlxdWUiLCJhcHBseSIsImFyZ3VtZW50cyIsIl9hc3luY1RvR2VuZXJhdG9yIiwiYiIsIl9yZWY2IiwiZnJvbSIsInNlbGVjdCIsImVxIiwic2luZ2xlIiwiZGF0YSIsImNyZWF0ZVVuaXF1ZUNvZGUiLCJfY3JlYXRlVW5pcXVlQ29kZSIsImF0dGVtcHRzIiwibWF4QXR0ZW1wdHMiLCJFcnJvciIsInJlZ2lzdGVyUGFyZW50UHJvY2VkdXJlIiwidXNlIiwiZ2VuZXJhbCIsImlucHV0Iiwib2JqZWN0IiwibmFtZSIsInN0cmluZyIsIm1pbiIsIm1heCIsImVtYWlsIiwicGhvbmUiLCJvcHRpb25hbCIsImNvdW50cnkiLCJkZWZhdWx0Iiwic3RhdGUiLCJjb3BwYUNvbnNlbnQiLCJib29sZWFuIiwicmVmaW5lIiwidmFsIiwibWVzc2FnZSIsInByaXZhY3lQb2xpY3lBY2NlcHRlZCIsIm11dGF0aW9uIiwiX3JlZjIiLCJfcmVmIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsInBhcmVudElkIiwidG9TdHJpbmciLCJzdWJzdHIiLCJzYW5pdGl6ZWRFbWFpbCIsIl9yZWYzIiwiZXhpc3RpbmciLCJzdWNjZXNzIiwiZXJyb3IiLCJfcmVmNCIsImluc2VydCIsImlkIiwiZW1haWxfdmVyaWZpZWQiLCJwaW5faGFzaCIsImNyZWF0ZWRfYXQiLCJ1cGRhdGVkX2F0IiwiY29wcGFfY29uc2VudCIsImNvcHBhX2NvbnNlbnRfZGF0ZSIsInByaXZhY3lfcG9saWN5X2FjY2VwdGVkIiwicHJpdmFjeV9wb2xpY3lfZGF0ZSIsInBhcmVudERhdGEiLCJwYXJlbnRFcnJvciIsImNvbnNvbGUiLCJKU09OIiwic3RyaW5naWZ5IiwiZGV0YWlscyIsImhpbnQiLCJlcnJvckNvZGUiLCJlcnJvckRldGFpbHMiLCJlcnJvckhpbnQiLCJmdWxsRXJyb3IiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJ1bmRlZmluZWQiLCJfcmVmNSIsInBhcmVudF9pZCIsImV4cGlyZXNfYXQiLCJ1c2VkX2NvdW50IiwibWF4X3VzZXMiLCJpc19hY3RpdmUiLCJjb2RlRXJyb3IiLCJlcnJvck1lc3NhZ2UiLCJTdHJpbmciLCJfeDIiXSwic291cmNlcyI6WyJyZWdpc3Rlci1wYXJlbnQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2RcIjtcbmltcG9ydCB7IHB1YmxpY1Byb2NlZHVyZSB9IGZyb20gXCIuLi8uLi9jcmVhdGUtY29udGV4dC5qc1wiO1xuaW1wb3J0IHsgc3VwYWJhc2UgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvc3VwYWJhc2UuanNcIjtcbmltcG9ydCB7IHNhbml0aXplRW1haWwgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvc2VjdXJpdHkuanNcIjtcbmltcG9ydCB7IHJhdGVMaW1pdGVycyB9IGZyb20gXCIuLi8uLi9taWRkbGV3YXJlL3JhdGVMaW1pdC5qc1wiO1xuXG4vKipcbiAqINCT0LXQvdC10YDQsNGG0LjRjyDRg9C90LjQutCw0LvRjNC90L7Qs9C+INC60L7QtNCwINGA0L7QtNC40YLQtdC70Y9cbiAqINCk0L7RgNC80LDRgjogS0lLVS1YWFhYWFggKDYg0YHQuNC80LLQvtC70L7QsilcbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVQYXJlbnRDb2RlKCk6IHN0cmluZyB7XG4gIGNvbnN0IGNoYXJzID0gJ0FCQ0RFRkdISktMTU5QUVJTVFVWV1hZWjIzNDU2Nzg5JzsgLy8g0JjRgdC60LvRjtGH0LDQtdC8INC/0L7RhdC+0LbQuNC1INGB0LjQvNCy0L7Qu9GLICgwLCBPLCBJLCAxKVxuICBsZXQgY29kZSA9ICcnO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IDY7IGkrKykge1xuICAgIGNvZGUgKz0gY2hhcnMuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJzLmxlbmd0aCkpO1xuICB9XG4gIHJldHVybiBgS0lLVS0ke2NvZGV9YDtcbn1cblxuLyoqXG4gKiDQn9GA0L7QstC10YDQutCwINGD0L3QuNC60LDQu9GM0L3QvtGB0YLQuCDQutC+0LTQsFxuICovXG5hc3luYyBmdW5jdGlvbiBpc0NvZGVVbmlxdWUoY29kZTogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIGlmICghc3VwYWJhc2UpIHJldHVybiBmYWxzZTtcbiAgXG4gIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgncGFyZW50X2NvZGVzJylcbiAgICAuc2VsZWN0KCdjb2RlJylcbiAgICAuZXEoJ2NvZGUnLCBjb2RlKVxuICAgIC5zaW5nbGUoKTtcbiAgXG4gIHJldHVybiAhZGF0YTtcbn1cblxuLyoqXG4gKiDQodC+0LfQtNCw0L3QuNC1INGD0L3QuNC60LDQu9GM0L3QvtCz0L4g0LrQvtC00LBcbiAqL1xuYXN5bmMgZnVuY3Rpb24gY3JlYXRlVW5pcXVlQ29kZSgpOiBQcm9taXNlPHN0cmluZz4ge1xuICBsZXQgY29kZSA9IGdlbmVyYXRlUGFyZW50Q29kZSgpO1xuICBsZXQgYXR0ZW1wdHMgPSAwO1xuICBjb25zdCBtYXhBdHRlbXB0cyA9IDEwO1xuICBcbiAgd2hpbGUgKCEoYXdhaXQgaXNDb2RlVW5pcXVlKGNvZGUpKSAmJiBhdHRlbXB0cyA8IG1heEF0dGVtcHRzKSB7XG4gICAgY29kZSA9IGdlbmVyYXRlUGFyZW50Q29kZSgpO1xuICAgIGF0dGVtcHRzKys7XG4gIH1cbiAgXG4gIGlmIChhdHRlbXB0cyA+PSBtYXhBdHRlbXB0cykge1xuICAgIHRocm93IG5ldyBFcnJvcign0J3QtSDRg9C00LDQu9C+0YHRjCDRgdC+0LfQtNCw0YLRjCDRg9C90LjQutCw0LvRjNC90YvQuSDQutC+0LQuINCf0L7Qv9GA0L7QsdGD0LnRgtC1INC/0L7Qt9C20LUuJyk7XG4gIH1cbiAgXG4gIHJldHVybiBjb2RlO1xufVxuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJQYXJlbnRQcm9jZWR1cmUgPSBwdWJsaWNQcm9jZWR1cmVcbiAgLnVzZShyYXRlTGltaXRlcnMuZ2VuZXJhbClcbiAgLmlucHV0KFxuICAgIHoub2JqZWN0KHtcbiAgICAgIG5hbWU6IHouc3RyaW5nKCkubWluKDEpLm1heCgxMDApLFxuICAgICAgZW1haWw6IHouc3RyaW5nKCkuZW1haWwoKSxcbiAgICAgIHBob25lOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICBjb3VudHJ5OiB6LnN0cmluZygpLmRlZmF1bHQoJ1VTJyksXG4gICAgICBzdGF0ZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgY29wcGFDb25zZW50OiB6LmJvb2xlYW4oKS5yZWZpbmUodmFsID0+IHZhbCA9PT0gdHJ1ZSwge1xuICAgICAgICBtZXNzYWdlOiAn0J3QtdC+0LHRhdC+0LTQuNC80L4g0YHQvtCz0LvQsNGB0LjQtSDRgSBDT1BQQScsXG4gICAgICB9KSxcbiAgICAgIHByaXZhY3lQb2xpY3lBY2NlcHRlZDogei5ib29sZWFuKCkucmVmaW5lKHZhbCA9PiB2YWwgPT09IHRydWUsIHtcbiAgICAgICAgbWVzc2FnZTogJ9Cd0LXQvtCx0YXQvtC00LjQvNC+INC/0YDQuNC90Y/RgtGMINC/0L7Qu9C40YLQuNC60YMg0LrQvtC90YTQuNC00LXQvdGG0LjQsNC70YzQvdC+0YHRgtC4JyxcbiAgICAgIH0pLFxuICAgIH0pXG4gIClcbiAgLm11dGF0aW9uKGFzeW5jICh7IGlucHV0IH0pID0+IHtcbiAgICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTdXBhYmFzZSDQutC70LjQtdC90YIg0L3QtSDQuNC90LjRhtC40LDQu9C40LfQuNGA0L7QstCw0L1cIik7XG4gICAgfVxuXG4gICAgY29uc3QgdGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAgICBjb25zdCBwYXJlbnRJZCA9IGBwYXJlbnRfJHt0aW1lc3RhbXB9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XG5cbiAgICB0cnkge1xuICAgICAgLy8gU2FuaXRpemUgZW1haWxcbiAgICAgIGNvbnN0IHNhbml0aXplZEVtYWlsID0gc2FuaXRpemVFbWFpbChpbnB1dC5lbWFpbCk7XG5cbiAgICAgIC8vINCf0YDQvtCy0LXRgNGP0LXQvCwg0L3QtSDRgdGD0YnQtdGB0YLQstGD0LXRgiDQu9C4INGD0LbQtSDRgNC+0LTQuNGC0LXQu9GMINGBINGC0LDQutC40LwgZW1haWxcbiAgICAgIGNvbnN0IHsgZGF0YTogZXhpc3RpbmcgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdwYXJlbnRzJylcbiAgICAgICAgLnNlbGVjdCgnaWQnKVxuICAgICAgICAuZXEoJ2VtYWlsJywgc2FuaXRpemVkRW1haWwpXG4gICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6ICfQoNC+0LTQuNGC0LXQu9GMINGBINGC0LDQutC40LwgZW1haWwg0YPQttC1INC30LDRgNC10LPQuNGB0YLRgNC40YDQvtCy0LDQvScsXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIC8vINCh0L7Qt9C00LDQtdC8INGA0L7QtNC40YLQtdC70Y9cbiAgICAgIGNvbnN0IHsgZGF0YTogcGFyZW50RGF0YSwgZXJyb3I6IHBhcmVudEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgncGFyZW50cycpXG4gICAgICAgIC5pbnNlcnQoe1xuICAgICAgICAgIGlkOiBwYXJlbnRJZCxcbiAgICAgICAgICBlbWFpbDogc2FuaXRpemVkRW1haWwsXG4gICAgICAgICAgZW1haWxfdmVyaWZpZWQ6IGZhbHNlLCAvLyDQkdGD0LTQtdGCINCy0LXRgNC40YTQuNGG0LjRgNC+0LLQsNC9INC/0L4gZW1haWxcbiAgICAgICAgICBuYW1lOiBpbnB1dC5uYW1lLFxuICAgICAgICAgIHBob25lOiBpbnB1dC5waG9uZSB8fCBudWxsLFxuICAgICAgICAgIHBpbl9oYXNoOiAnJywgLy8g0JHRg9C00LXRgiDRg9GB0YLQsNC90L7QstC70LXQvSDQv9C+0LfQttC1XG4gICAgICAgICAgY3JlYXRlZF9hdDogdGltZXN0YW1wLFxuICAgICAgICAgIHVwZGF0ZWRfYXQ6IHRpbWVzdGFtcCxcbiAgICAgICAgICBjb3VudHJ5OiBpbnB1dC5jb3VudHJ5IHx8ICdVUycsXG4gICAgICAgICAgc3RhdGU6IGlucHV0LnN0YXRlIHx8IG51bGwsXG4gICAgICAgICAgY29wcGFfY29uc2VudDogaW5wdXQuY29wcGFDb25zZW50LFxuICAgICAgICAgIGNvcHBhX2NvbnNlbnRfZGF0ZTogaW5wdXQuY29wcGFDb25zZW50ID8gdGltZXN0YW1wIDogbnVsbCxcbiAgICAgICAgICBwcml2YWN5X3BvbGljeV9hY2NlcHRlZDogaW5wdXQucHJpdmFjeVBvbGljeUFjY2VwdGVkLFxuICAgICAgICAgIHByaXZhY3lfcG9saWN5X2RhdGU6IGlucHV0LnByaXZhY3lQb2xpY3lBY2NlcHRlZCA/IHRpbWVzdGFtcCA6IG51bGwsXG4gICAgICAgIH0pXG4gICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgIGlmIChwYXJlbnRFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbcmVnaXN0ZXJQYXJlbnRQcm9jZWR1cmVdIFN1cGFiYXNlIEVycm9yOicsIEpTT04uc3RyaW5naWZ5KHBhcmVudEVycm9yLCBudWxsLCAyKSk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tyZWdpc3RlclBhcmVudFByb2NlZHVyZV0gRXJyb3IgQ29kZTonLCBwYXJlbnRFcnJvci5jb2RlKTtcbiAgICAgICAgY29uc29sZS5lcnJvcignW3JlZ2lzdGVyUGFyZW50UHJvY2VkdXJlXSBFcnJvciBNZXNzYWdlOicsIHBhcmVudEVycm9yLm1lc3NhZ2UpO1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbcmVnaXN0ZXJQYXJlbnRQcm9jZWR1cmVdIEVycm9yIERldGFpbHM6JywgcGFyZW50RXJyb3IuZGV0YWlscyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tyZWdpc3RlclBhcmVudFByb2NlZHVyZV0gRXJyb3IgSGludDonLCBwYXJlbnRFcnJvci5oaW50KTtcbiAgICAgICAgXG4gICAgICAgIC8vINCS0L7Qt9Cy0YDQsNGJ0LDQtdC8INC00LXRgtCw0LvQuCDQvtGI0LjQsdC60Lgg0LLQvNC10YHRgtC+IHRocm93XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IGDQntGI0LjQsdC60LAg0L/RgNC4INGB0L7Qt9C00LDQvdC40Lgg0LDQutC60LDRg9C90YLQsCDRgNC+0LTQuNGC0LXQu9GPOiAke3BhcmVudEVycm9yLm1lc3NhZ2UgfHwgcGFyZW50RXJyb3IuY29kZSB8fCAn0J3QtdC40LfQstC10YHRgtC90LDRjyDQvtGI0LjQsdC60LAnfWAsXG4gICAgICAgICAgZXJyb3JDb2RlOiBwYXJlbnRFcnJvci5jb2RlLFxuICAgICAgICAgIGVycm9yRGV0YWlsczogcGFyZW50RXJyb3IuZGV0YWlscyxcbiAgICAgICAgICBlcnJvckhpbnQ6IHBhcmVudEVycm9yLmhpbnQsXG4gICAgICAgICAgZnVsbEVycm9yOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IEpTT04uc3RyaW5naWZ5KHBhcmVudEVycm9yLCBudWxsLCAyKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgLy8g0JPQtdC90LXRgNC40YDRg9C10Lwg0YPQvdC40LrQsNC70YzQvdGL0Lkg0LrQvtC0XG4gICAgICBjb25zdCBjb2RlID0gYXdhaXQgY3JlYXRlVW5pcXVlQ29kZSgpO1xuXG4gICAgICAvLyDQodC+0LfQtNCw0LXQvCDQutC+0LQg0YDQvtC00LjRgtC10LvRjyAo0LHQtdGB0YHRgNC+0YfQvdGL0LksINC80LDQutGB0LjQvNGD0LwgMTAg0LTQtdGC0LXQuSlcbiAgICAgIGNvbnN0IHsgZXJyb3I6IGNvZGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3BhcmVudF9jb2RlcycpXG4gICAgICAgIC5pbnNlcnQoe1xuICAgICAgICAgIGNvZGUsXG4gICAgICAgICAgcGFyZW50X2lkOiBwYXJlbnRJZCxcbiAgICAgICAgICBjcmVhdGVkX2F0OiB0aW1lc3RhbXAsXG4gICAgICAgICAgZXhwaXJlc19hdDogbnVsbCwgLy8g0JHQtdGB0YHRgNC+0YfQvdC+XG4gICAgICAgICAgdXNlZF9jb3VudDogMCxcbiAgICAgICAgICBtYXhfdXNlczogMTAsXG4gICAgICAgICAgaXNfYWN0aXZlOiB0cnVlLFxuICAgICAgICB9KTtcblxuICAgICAgaWYgKGNvZGVFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbcmVnaXN0ZXJQYXJlbnRQcm9jZWR1cmVdIENvZGUgY3JlYXRpb24gZXJyb3I6JywgY29kZUVycm9yKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogYNCe0YjQuNCx0LrQsCDQv9GA0Lgg0YHQvtC30LTQsNC90LjQuCDQutC+0LTQsDogJHtjb2RlRXJyb3IubWVzc2FnZSB8fCBjb2RlRXJyb3IuY29kZSB8fCAn0J3QtdC40LfQstC10YHRgtC90LDRjyDQvtGI0LjQsdC60LAnfWAsXG4gICAgICAgICAgZXJyb3JDb2RlOiBjb2RlRXJyb3IuY29kZSxcbiAgICAgICAgICBlcnJvckRldGFpbHM6IGNvZGVFcnJvci5kZXRhaWxzLFxuICAgICAgICAgIGVycm9ySGludDogY29kZUVycm9yLmhpbnQsXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIHBhcmVudElkLFxuICAgICAgICBjb2RlLFxuICAgICAgICBtZXNzYWdlOiAn0KDQtdCz0LjRgdGC0YDQsNGG0LjRjyDRg9GB0L/QtdGI0L3QsCEg0KHQvtGF0YDQsNC90LjRgtC1INC60L7QtCDQtNC70Y8g0YDQtdCz0LjRgdGC0YDQsNGG0LjQuCDRgNC10LHQtdC90LrQsC4nLFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignW3JlZ2lzdGVyUGFyZW50UHJvY2VkdXJlXSBFcnJvcjonLCBlcnJvcik7XG4gICAgICBcbiAgICAgIC8vINCV0YHQu9C4INGN0YLQviDQvtGI0LjQsdC60LAgU3VwYWJhc2UsINC/0LXRgNC10LTQsNC10Lwg0LTQtdGC0LDQu9C4XG4gICAgICBpZiAoZXJyb3IgJiYgdHlwZW9mIGVycm9yID09PSAnb2JqZWN0JyAmJiAnbWVzc2FnZScgaW4gZXJyb3IpIHtcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZSBhcyBzdHJpbmc7XG4gICAgICAgIGNvbnN0IGVycm9yQ29kZSA9ICdjb2RlJyBpbiBlcnJvciA/IChlcnJvci5jb2RlIGFzIHN0cmluZykgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IGVycm9yRGV0YWlscyA9ICdkZXRhaWxzJyBpbiBlcnJvciA/IChlcnJvci5kZXRhaWxzIGFzIHN0cmluZykgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IGVycm9ySGludCA9ICdoaW50JyBpbiBlcnJvciA/IChlcnJvci5oaW50IGFzIHN0cmluZykgOiB1bmRlZmluZWQ7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgIGVycm9yRGV0YWlscyxcbiAgICAgICAgICBlcnJvckhpbnQsXG4gICAgICAgICAgZnVsbEVycm9yOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IEpTT04uc3RyaW5naWZ5KGVycm9yLCBudWxsLCAyKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICfQndC10LjQt9Cy0LXRgdGC0L3QsNGPINC+0YjQuNCx0LrQsCcsXG4gICAgICAgIGZ1bGxFcnJvcjogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgPyBTdHJpbmcoZXJyb3IpIDogdW5kZWZpbmVkLFxuICAgICAgfTtcbiAgICB9XG4gIH0pO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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