9029ee526ae4a46602b3b1a0fb4695de
import _classCallCheck from "@babel/runtime/helpers/classCallCheck";
import _createClass from "@babel/runtime/helpers/createClass";
var Logger = function () {
  function Logger() {
    _classCallCheck(this, Logger);
    this.buffer = [];
    this.maxBufferSize = 100;
  }
  return _createClass(Logger, [{
    key: "log",
    value: function log(level, message, error, context) {
      var entry = {
        level: level,
        message: message,
        timestamp: Date.now(),
        context: context,
        error: error
      };
      this.buffer.push(entry);
      if (this.buffer.length > this.maxBufferSize) {
        this.buffer.shift();
      }
      var logMessage = `[${level.toUpperCase()}] ${message}`;
      var logData = context ? Object.assign({}, context, error && {
        error: error.message,
        stack: error.stack
      }) : undefined;
      switch (level) {
        case 'debug':
          if (__DEV__) {
            console.debug(logMessage, logData || '');
          }
          break;
        case 'info':
          console.log(logMessage, logData || '');
          break;
        case 'warn':
          console.warn(logMessage, logData || '');
          break;
        case 'error':
        case 'critical':
          console.error(logMessage, logData || '', error || '');
          break;
      }
    }
  }, {
    key: "debug",
    value: function debug(message, context) {
      this.log('debug', message, undefined, context);
    }
  }, {
    key: "info",
    value: function info(message, context) {
      this.log('info', message, undefined, context);
    }
  }, {
    key: "warn",
    value: function warn(message, context) {
      this.log('warn', message, undefined, context);
    }
  }, {
    key: "error",
    value: function error(message, _error, context) {
      this.log('error', message, _error, context);
    }
  }, {
    key: "critical",
    value: function critical(message, error, context) {
      this.log('critical', message, error, context);
    }
  }, {
    key: "getRecentLogs",
    value: function getRecentLogs() {
      var count = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 10;
      return this.buffer.slice(-count);
    }
  }, {
    key: "clearBuffer",
    value: function clearBuffer() {
      this.buffer = [];
    }
  }]);
}();
export var logger = new Logger();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJMb2dnZXIiLCJfY2xhc3NDYWxsQ2hlY2siLCJidWZmZXIiLCJtYXhCdWZmZXJTaXplIiwiX2NyZWF0ZUNsYXNzIiwia2V5IiwidmFsdWUiLCJsb2ciLCJsZXZlbCIsIm1lc3NhZ2UiLCJlcnJvciIsImNvbnRleHQiLCJlbnRyeSIsInRpbWVzdGFtcCIsIkRhdGUiLCJub3ciLCJwdXNoIiwibGVuZ3RoIiwic2hpZnQiLCJsb2dNZXNzYWdlIiwidG9VcHBlckNhc2UiLCJsb2dEYXRhIiwiT2JqZWN0IiwiYXNzaWduIiwic3RhY2siLCJ1bmRlZmluZWQiLCJfX0RFVl9fIiwiY29uc29sZSIsImRlYnVnIiwid2FybiIsImluZm8iLCJjcml0aWNhbCIsImdldFJlY2VudExvZ3MiLCJjb3VudCIsImFyZ3VtZW50cyIsInNsaWNlIiwiY2xlYXJCdWZmZXIiLCJsb2dnZXIiXSwic291cmNlcyI6WyJsb2dnZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBQcm9kdWN0aW9uLXJlYWR5IGxvZ2dlciB1dGlsaXR5XG4gKiBQcm92aWRlcyBzdHJ1Y3R1cmVkIGxvZ2dpbmcgd2l0aCBsZXZlbHMgYW5kIGNvbnRleHRcbiAqIElNUFJPVkVNRU5UOiBCZXR0ZXIgbG9nZ2luZyB3aXRob3V0IGNoYW5naW5nIGZ1bmN0aW9uYWxpdHlcbiAqL1xuXG50eXBlIExvZ0xldmVsID0gJ2RlYnVnJyB8ICdpbmZvJyB8ICd3YXJuJyB8ICdlcnJvcicgfCAnY3JpdGljYWwnO1xuXG5pbnRlcmZhY2UgTG9nQ29udGV4dCB7XG4gIFtrZXk6IHN0cmluZ106IHVua25vd247XG59XG5cbmludGVyZmFjZSBMb2dFbnRyeSB7XG4gIGxldmVsOiBMb2dMZXZlbDtcbiAgbWVzc2FnZTogc3RyaW5nO1xuICB0aW1lc3RhbXA6IG51bWJlcjtcbiAgY29udGV4dD86IExvZ0NvbnRleHQ7XG4gIGVycm9yPzogRXJyb3I7XG59XG5cbmNsYXNzIExvZ2dlciB7XG4gIHByaXZhdGUgYnVmZmVyOiBMb2dFbnRyeVtdID0gW107XG4gIHByaXZhdGUgcmVhZG9ubHkgbWF4QnVmZmVyU2l6ZSA9IDEwMDtcblxuICBwcml2YXRlIGxvZyhsZXZlbDogTG9nTGV2ZWwsIG1lc3NhZ2U6IHN0cmluZywgZXJyb3I/OiBFcnJvciwgY29udGV4dD86IExvZ0NvbnRleHQpOiB2b2lkIHtcbiAgICBjb25zdCBlbnRyeTogTG9nRW50cnkgPSB7XG4gICAgICBsZXZlbCxcbiAgICAgIG1lc3NhZ2UsXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICBjb250ZXh0LFxuICAgICAgZXJyb3IsXG4gICAgfTtcblxuICAgIC8vIEFkZCB0byBidWZmZXJcbiAgICB0aGlzLmJ1ZmZlci5wdXNoKGVudHJ5KTtcbiAgICBpZiAodGhpcy5idWZmZXIubGVuZ3RoID4gdGhpcy5tYXhCdWZmZXJTaXplKSB7XG4gICAgICB0aGlzLmJ1ZmZlci5zaGlmdCgpO1xuICAgIH1cblxuICAgIC8vIE91dHB1dCB0byBjb25zb2xlIChpbiBwcm9kdWN0aW9uLCB0aGlzIHdvdWxkIGdvIHRvIGEgbG9nZ2luZyBzZXJ2aWNlKVxuICAgIGNvbnN0IGxvZ01lc3NhZ2UgPSBgWyR7bGV2ZWwudG9VcHBlckNhc2UoKX1dICR7bWVzc2FnZX1gO1xuICAgIGNvbnN0IGxvZ0RhdGEgPSBjb250ZXh0ID8geyAuLi5jb250ZXh0LCAuLi4oZXJyb3IgJiYgeyBlcnJvcjogZXJyb3IubWVzc2FnZSwgc3RhY2s6IGVycm9yLnN0YWNrIH0pIH0gOiB1bmRlZmluZWQ7XG5cbiAgICBzd2l0Y2ggKGxldmVsKSB7XG4gICAgICBjYXNlICdkZWJ1Zyc6XG4gICAgICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICAgICAgY29uc29sZS5kZWJ1Zyhsb2dNZXNzYWdlLCBsb2dEYXRhIHx8ICcnKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2luZm8nOlxuICAgICAgICBjb25zb2xlLmxvZyhsb2dNZXNzYWdlLCBsb2dEYXRhIHx8ICcnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd3YXJuJzpcbiAgICAgICAgY29uc29sZS53YXJuKGxvZ01lc3NhZ2UsIGxvZ0RhdGEgfHwgJycpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgIGNhc2UgJ2NyaXRpY2FsJzpcbiAgICAgICAgY29uc29sZS5lcnJvcihsb2dNZXNzYWdlLCBsb2dEYXRhIHx8ICcnLCBlcnJvciB8fCAnJyk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGRlYnVnKG1lc3NhZ2U6IHN0cmluZywgY29udGV4dD86IExvZ0NvbnRleHQpOiB2b2lkIHtcbiAgICB0aGlzLmxvZygnZGVidWcnLCBtZXNzYWdlLCB1bmRlZmluZWQsIGNvbnRleHQpO1xuICB9XG5cbiAgaW5mbyhtZXNzYWdlOiBzdHJpbmcsIGNvbnRleHQ/OiBMb2dDb250ZXh0KTogdm9pZCB7XG4gICAgdGhpcy5sb2coJ2luZm8nLCBtZXNzYWdlLCB1bmRlZmluZWQsIGNvbnRleHQpO1xuICB9XG5cbiAgd2FybihtZXNzYWdlOiBzdHJpbmcsIGNvbnRleHQ/OiBMb2dDb250ZXh0KTogdm9pZCB7XG4gICAgdGhpcy5sb2coJ3dhcm4nLCBtZXNzYWdlLCB1bmRlZmluZWQsIGNvbnRleHQpO1xuICB9XG5cbiAgZXJyb3IobWVzc2FnZTogc3RyaW5nLCBlcnJvcj86IEVycm9yLCBjb250ZXh0PzogTG9nQ29udGV4dCk6IHZvaWQge1xuICAgIHRoaXMubG9nKCdlcnJvcicsIG1lc3NhZ2UsIGVycm9yLCBjb250ZXh0KTtcbiAgfVxuXG4gIGNyaXRpY2FsKG1lc3NhZ2U6IHN0cmluZywgZXJyb3I/OiBFcnJvciwgY29udGV4dD86IExvZ0NvbnRleHQpOiB2b2lkIHtcbiAgICB0aGlzLmxvZygnY3JpdGljYWwnLCBtZXNzYWdlLCBlcnJvciwgY29udGV4dCk7XG4gIH1cblxuICBnZXRSZWNlbnRMb2dzKGNvdW50OiBudW1iZXIgPSAxMCk6IExvZ0VudHJ5W10ge1xuICAgIHJldHVybiB0aGlzLmJ1ZmZlci5zbGljZSgtY291bnQpO1xuICB9XG5cbiAgY2xlYXJCdWZmZXIoKTogdm9pZCB7XG4gICAgdGhpcy5idWZmZXIgPSBbXTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcigpO1xuIl0sIm1hcHBpbmdzIjoiOztJQW9CTUEsTUFBTTtFQUFBLFNBQUFBLE9BQUE7SUFBQUMsZUFBQSxPQUFBRCxNQUFBO0lBQUEsS0FDRkUsTUFBTSxHQUFlLEVBQUU7SUFBQSxLQUNkQyxhQUFhLEdBQUcsR0FBRztFQUFBO0VBQUEsT0FBQUMsWUFBQSxDQUFBSixNQUFBO0lBQUFLLEdBQUE7SUFBQUMsS0FBQSxFQUVwQyxTQUFRQyxHQUFHQSxDQUFDQyxLQUFlLEVBQUVDLE9BQWUsRUFBRUMsS0FBYSxFQUFFQyxPQUFvQixFQUFRO01BQ3ZGLElBQU1DLEtBQWUsR0FBRztRQUN0QkosS0FBSyxFQUFMQSxLQUFLO1FBQ0xDLE9BQU8sRUFBUEEsT0FBTztRQUNQSSxTQUFTLEVBQUVDLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUM7UUFDckJKLE9BQU8sRUFBUEEsT0FBTztRQUNQRCxLQUFLLEVBQUxBO01BQ0YsQ0FBQztNQUdELElBQUksQ0FBQ1IsTUFBTSxDQUFDYyxJQUFJLENBQUNKLEtBQUssQ0FBQztNQUN2QixJQUFJLElBQUksQ0FBQ1YsTUFBTSxDQUFDZSxNQUFNLEdBQUcsSUFBSSxDQUFDZCxhQUFhLEVBQUU7UUFDM0MsSUFBSSxDQUFDRCxNQUFNLENBQUNnQixLQUFLLENBQUMsQ0FBQztNQUNyQjtNQUdBLElBQU1DLFVBQVUsR0FBRyxJQUFJWCxLQUFLLENBQUNZLFdBQVcsQ0FBQyxDQUFDLEtBQUtYLE9BQU8sRUFBRTtNQUN4RCxJQUFNWSxPQUFPLEdBQUdWLE9BQU8sR0FBQVcsTUFBQSxDQUFBQyxNQUFBLEtBQVFaLE9BQU8sRUFBTUQsS0FBSyxJQUFJO1FBQUVBLEtBQUssRUFBRUEsS0FBSyxDQUFDRCxPQUFPO1FBQUVlLEtBQUssRUFBRWQs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