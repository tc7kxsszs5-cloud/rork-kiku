94298f8e9d43dc4b42b9a262c3585b1f
import { calculateMetrics } from '@/utils/analyticsMetrics';
describe('calculateMetrics', function () {
  it('должен возвращать дефолтные метрики для пустого массива событий', function () {
    var metrics = calculateMetrics([]);
    expect(metrics.totalMessages).toBe(0);
    expect(metrics.totalAlerts).toBe(0);
    expect(metrics.totalSOS).toBe(0);
    expect(metrics.messagesAnalyzed).toBe(0);
    expect(metrics.averageRiskLevel).toBe(0);
    expect(metrics.mostActiveChat).toBeNull();
  });
  it('должен правильно подсчитывать общее количество сообщений', function () {
    var events = [{
      event: 'message_sent',
      timestamp: Date.now()
    }, {
      event: 'message_sent',
      timestamp: Date.now()
    }, {
      event: 'message_sent',
      timestamp: Date.now()
    }];
    var metrics = calculateMetrics(events);
    expect(metrics.totalMessages).toBe(3);
    expect(metrics.eventsByType['message_sent']).toBe(3);
  });
  it('должен правильно подсчитывать проанализированные сообщения', function () {
    var events = [{
      event: 'message_analyzed',
      timestamp: Date.now(),
      properties: {
        riskLevel: 'low'
      }
    }, {
      event: 'message_analyzed',
      timestamp: Date.now(),
      properties: {
        riskLevel: 'medium'
      }
    }];
    var metrics = calculateMetrics(events);
    expect(metrics.messagesAnalyzed).toBe(2);
    expect(metrics.riskDistribution.low).toBe(1);
    expect(metrics.riskDistribution.medium).toBe(1);
  });
  it('должен правильно вычислять средний уровень риска', function () {
    var events = [{
      event: 'message_analyzed',
      timestamp: Date.now(),
      properties: {
        riskLevel: 'safe'
      }
    }, {
      event: 'message_analyzed',
      timestamp: Date.now(),
      properties: {
        riskLevel: 'low'
      }
    }, {
      event: 'message_analyzed',
      timestamp: Date.now(),
      properties: {
        riskLevel: 'medium'
      }
    }, {
      event: 'message_analyzed',
      timestamp: Date.now(),
      properties: {
        riskLevel: 'high'
      }
    }];
    var metrics = calculateMetrics(events);
    expect(metrics.averageRiskLevel).toBe(1.5);
  });
  it('должен правильно определять самый активный чат', function () {
    var events = [{
      event: 'message_analyzed',
      timestamp: Date.now(),
      properties: {
        chatId: 'chat1',
        riskLevel: 'safe'
      }
    }, {
      event: 'message_analyzed',
      timestamp: Date.now(),
      properties: {
        chatId: 'chat1',
        riskLevel: 'safe'
      }
    }, {
      event: 'message_analyzed',
      timestamp: Date.now(),
      properties: {
        chatId: 'chat2',
        riskLevel: 'safe'
      }
    }];
    var metrics = calculateMetrics(events);
    expect(metrics.mostActiveChat).toBe('chat1');
  });
  it('должен правильно подсчитывать alerts и SOS', function () {
    var events = [{
      event: 'alert_created',
      timestamp: Date.now()
    }, {
      event: 'alert_created',
      timestamp: Date.now()
    }, {
      event: 'alert_resolved',
      timestamp: Date.now()
    }, {
      event: 'sos_triggered',
      timestamp: Date.now()
    }];
    var metrics = calculateMetrics(events);
    expect(metrics.totalAlerts).toBe(2);
    expect(metrics.alertsResolved).toBe(1);
    expect(metrics.totalSOS).toBe(1);
  });
  it('должен правильно группировать события по дням', function () {
    var baseTime = new Date('2024-01-15T10:00:00Z').getTime();
    var events = [{
      event: 'message_sent',
      timestamp: baseTime
    }, {
      event: 'message_sent',
      timestamp: baseTime + 3600000
    }, {
      event: 'message_sent',
      timestamp: baseTime + 86400000
    }];
    var metrics = calculateMetrics(events);
    expect(metrics.dailyActivity.length).toBeGreaterThan(0);
    var day1 = metrics.dailyActivity.find(function (d) {
      return d.date === '2024-01-15';
    });
    expect(day1 == null ? void 0 : day1.events).toBe(2);
  });
  it('должен правильно обрабатывать все уровни риска', function () {
    var riskLevels = ['safe', 'low', 'medium', 'high', 'critical'];
    var events = riskLevels.map(function (level) {
      return {
        event: 'message_analyzed',
        timestamp: Date.now(),
        properties: {
          riskLevel: level
        }
      };
    });
    var metrics = calculateMetrics(events);
    expect(metrics.riskDistribution.safe).toBe(1);
    expect(metrics.riskDistribution.low).toBe(1);
    expect(metrics.riskDistribution.medium).toBe(1);
    expect(metrics.riskDistribution.high).toBe(1);
    expect(metrics.riskDistribution.critical).toBe(1);
  });
  it('должен возвращать 0 для averageRiskLevel если нет проанализированных сообщений', function () {
    var events = [{
      event: 'message_sent',
      timestamp: Date.now()
    }, {
      event: 'alert_created',
      timestamp: Date.now()
    }];
    var metrics = calculateMetrics(events);
    expect(metrics.averageRiskLevel).toBe(0);
    expect(metrics.messagesAnalyzed).toBe(0);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYWxjdWxhdGVNZXRyaWNzIiwiZGVzY3JpYmUiLCJpdCIsIm1ldHJpY3MiLCJleHBlY3QiLCJ0b3RhbE1lc3NhZ2VzIiwidG9CZSIsInRvdGFsQWxlcnRzIiwidG90YWxTT1MiLCJtZXNzYWdlc0FuYWx5emVkIiwiYXZlcmFnZVJpc2tMZXZlbCIsIm1vc3RBY3RpdmVDaGF0IiwidG9CZU51bGwiLCJldmVudHMiLCJldmVudCIsInRpbWVzdGFtcCIsIkRhdGUiLCJub3ciLCJldmVudHNCeVR5cGUiLCJwcm9wZXJ0aWVzIiwicmlza0xldmVsIiwicmlza0Rpc3RyaWJ1dGlvbiIsImxvdyIsIm1lZGl1bSIsImNoYXRJZCIsImFsZXJ0c1Jlc29sdmVkIiwiYmFzZVRpbWUiLCJnZXRUaW1lIiwiZGFpbHlBY3Rpdml0eSIsImxlbmd0aCIsInRvQmVHcmVhdGVyVGhhbiIsImRheTEiLCJmaW5kIiwiZCIsImRhdGUiLCJyaXNrTGV2ZWxzIiwibWFwIiwibGV2ZWwiLCJzYWZlIiwiaGlnaCIsImNyaXRpY2FsIl0sInNvdXJjZXMiOlsiYW5hbHl0aWNzTWV0cmljcy50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICog0JzQvtC00YPQu9GM0L3Ri9C1INGC0LXRgdGC0Ysg0LTQu9GPINCy0YvRh9C40YHQu9C10L3QuNGPINCw0L3QsNC70LjRgtC40YfQtdGB0LrQuNGFINC80LXRgtGA0LjQulxuICog0KLQvtC70YzQutC+INC00LXRgtC10YDQvNC40L3QuNGA0L7QstCw0L3QvdGL0LUg0YLQtdGB0YLRiyAtINC90LjQutCw0LrQuNGFINC40L3RgtC10LPRgNCw0YbQuNC5L9Cw0YHQuNC90YXRgNC+0L3QvdC+0YHRgtC4XG4gKi9cblxuaW1wb3J0IHsgY2FsY3VsYXRlTWV0cmljcyB9IGZyb20gJ0AvdXRpbHMvYW5hbHl0aWNzTWV0cmljcyc7XG5pbXBvcnQgeyBBbmFseXRpY3NFdmVudERhdGEgfSBmcm9tICdAL2NvbnN0YW50cy9BbmFseXRpY3NDb250ZXh0JztcblxuZGVzY3JpYmUoJ2NhbGN1bGF0ZU1ldHJpY3MnLCAoKSA9PiB7XG4gIGl0KCfQtNC+0LvQttC10L0g0LLQvtC30LLRgNCw0YnQsNGC0Ywg0LTQtdGE0L7Qu9GC0L3Ri9C1INC80LXRgtGA0LjQutC4INC00LvRjyDQv9GD0YHRgtC+0LPQviDQvNCw0YHRgdC40LLQsCDRgdC+0LHRi9GC0LjQuScsICgpID0+IHtcbiAgICBjb25zdCBtZXRyaWNzID0gY2FsY3VsYXRlTWV0cmljcyhbXSk7XG5cbiAgICBleHBlY3QobWV0cmljcy50b3RhbE1lc3NhZ2VzKS50b0JlKDApO1xuICAgIGV4cGVjdChtZXRyaWNzLnRvdGFsQWxlcnRzKS50b0JlKDApO1xuICAgIGV4cGVjdChtZXRyaWNzLnRvdGFsU09TKS50b0JlKDApO1xuICAgIGV4cGVjdChtZXRyaWNzLm1lc3NhZ2VzQW5hbHl6ZWQpLnRvQmUoMCk7XG4gICAgZXhwZWN0KG1ldHJpY3MuYXZlcmFnZVJpc2tMZXZlbCkudG9CZSgwKTtcbiAgICBleHBlY3QobWV0cmljcy5tb3N0QWN0aXZlQ2hhdCkudG9CZU51bGwoKTtcbiAgfSk7XG5cbiAgaXQoJ9C00L7Qu9C20LXQvSDQv9GA0LDQstC40LvRjNC90L4g0L/QvtC00YHRh9C40YLRi9Cy0LDRgtGMINC+0LHRidC10LUg0LrQvtC70LjRh9C10YHRgtCy0L4g0YHQvtC+0LHRidC10L3QuNC5JywgKCkgPT4ge1xuICAgIGNvbnN0IGV2ZW50czogQW5hbHl0aWNzRXZlbnREYXRhW10gPSBbXG4gICAgICB7IGV2ZW50OiAnbWVzc2FnZV9zZW50JywgdGltZXN0YW1wOiBEYXRlLm5vdygpIH0sXG4gICAgICB7IGV2ZW50OiAnbWVzc2FnZV9zZW50JywgdGltZXN0YW1wOiBEYXRlLm5vdygpIH0sXG4gICAgICB7IGV2ZW50OiAnbWVzc2FnZV9zZW50JywgdGltZXN0YW1wOiBEYXRlLm5vdygpIH0sXG4gICAgXTtcblxuICAgIGNvbnN0IG1ldHJpY3MgPSBjYWxjdWxhdGVNZXRyaWNzKGV2ZW50cyk7XG5cbiAgICBleHBlY3QobWV0cmljcy50b3RhbE1lc3NhZ2VzKS50b0JlKDMpO1xuICAgIGV4cGVjdChtZXRyaWNzLmV2ZW50c0J5VHlwZVsnbWVzc2FnZV9zZW50J10pLnRvQmUoMyk7XG4gIH0pO1xuXG4gIGl0KCfQtNC+0LvQttC10L0g0L/RgNCw0LLQuNC70YzQvdC+INC/0L7QtNGB0YfQuNGC0YvQstCw0YLRjCDQv9GA0L7QsNC90LDQu9C40LfQuNGA0L7QstCw0L3QvdGL0LUg0YHQvtC+0LHRidC10L3QuNGPJywgKCkgPT4ge1xuICAgIGNvbnN0IGV2ZW50czogQW5hbHl0aWNzRXZlbnREYXRhW10gPSBbXG4gICAgICB7XG4gICAgICAgIGV2ZW50OiAnbWVzc2FnZV9hbmFseXplZCcsXG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgcHJvcGVydGllczogeyByaXNrTGV2ZWw6ICdsb3cnIH0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBldmVudDogJ21lc3NhZ2VfYW5hbHl6ZWQnLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgIHByb3BlcnRpZXM6IHsgcmlza0xldmVsOiAnbWVkaXVtJyB9LFxuICAgICAgfSxcbiAgICBdO1xuXG4gICAgY29uc3QgbWV0cmljcyA9IGNhbGN1bGF0ZU1ldHJpY3MoZXZlbnRzKTtcblxuICAgIGV4cGVjdChtZXRyaWNzLm1lc3NhZ2VzQW5hbHl6ZWQpLnRvQmUoMik7XG4gICAgZXhwZWN0KG1ldHJpY3Mucmlza0Rpc3RyaWJ1dGlvbi5sb3cpLnRvQmUoMSk7XG4gICAgZXhwZWN0KG1ldHJpY3Mucmlza0Rpc3RyaWJ1dGlvbi5tZWRpdW0pLnRvQmUoMSk7XG4gIH0pO1xuXG4gIGl0KCfQtNC+0LvQttC10L0g0L/RgNCw0LLQuNC70YzQvdC+INCy0YvRh9C40YHQu9GP0YLRjCDRgdGA0LXQtNC90LjQuSDRg9GA0L7QstC10L3RjCDRgNC40YHQutCwJywgKCkgPT4ge1xuICAgIGNvbnN0IGV2ZW50czogQW5hbHl0aWNzRXZlbnREYXRhW10gPSBbXG4gICAgICB7XG4gICAgICAgIGV2ZW50OiAnbWVzc2FnZV9hbmFseXplZCcsXG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgcHJvcGVydGllczogeyByaXNrTGV2ZWw6ICdzYWZlJyB9LCAvLyAwXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBldmVudDogJ21lc3NhZ2VfYW5hbHl6ZWQnLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgIHByb3BlcnRpZXM6IHsgcmlza0xldmVsOiAnbG93JyB9LCAvLyAxXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBldmVudDogJ21lc3NhZ2VfYW5hbHl6ZWQnLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgIHByb3BlcnRpZXM6IHsgcmlza0xldmVsOiAnbWVkaXVtJyB9LCAvLyAyXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBldmVudDogJ21lc3NhZ2VfYW5hbHl6ZWQnLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgIHByb3BlcnRpZXM6IHsgcmlza0xldmVsOiAnaGlnaCcgfSwgLy8gM1xuICAgICAgfSxcbiAgICBdO1xuXG4gICAgY29uc3QgbWV0cmljcyA9IGNhbGN1bGF0ZU1ldHJpY3MoZXZlbnRzKTtcblxuICAgIC8vICgwICsgMSArIDIgKyAzKSAvIDQgPSAxLjVcbiAgICBleHBlY3QobWV0cmljcy5hdmVyYWdlUmlza0xldmVsKS50b0JlKDEuNSk7XG4gIH0pO1xuXG4gIGl0KCfQtNC+0LvQttC10L0g0L/RgNCw0LLQuNC70YzQvdC+INC+0L/RgNC10LTQtdC70Y/RgtGMINGB0LDQvNGL0Lkg0LDQutGC0LjQstC90YvQuSDRh9Cw0YInLCAoKSA9PiB7XG4gICAgY29uc3QgZXZlbnRzOiBBbmFseXRpY3NFdmVudERhdGFbXSA9IFtcbiAgICAgIHtcbiAgICAgICAgZXZlbnQ6ICdtZXNzYWdlX2FuYWx5emVkJyxcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7IGNoYXRJZDogJ2NoYXQxJywgcmlza0xldmVsOiAnc2FmZScgfSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGV2ZW50OiAnbWVzc2FnZV9hbmFseXplZCcsXG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgcHJvcGVydGllczogeyBjaGF0SWQ6ICdjaGF0MScsIHJpc2tMZXZlbDogJ3NhZmUnIH0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBldmVudDogJ21lc3NhZ2VfYW5hbHl6ZWQnLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgIHByb3BlcnRpZXM6IHsgY2hhdElkOiAnY2hhdDInLCByaXNrTGV2ZWw6ICdzYWZlJyB9LFxuICAgICAgfSxcbiAgICBdO1xuXG4gICAgY29uc3QgbWV0cmljcyA9IGNhbGN1bGF0ZU1ldHJpY3MoZXZlbnRzKTtcblxuICAgIGV4cGVjdChtZXRyaWNzLm1vc3RBY3RpdmVDaGF0KS50b0JlKCdjaGF0MScpO1xuICB9KTtcblxuICBpdCgn0LTQvtC70LbQtdC9INC/0YDQsNCy0LjQu9GM0L3QviDQv9C+0LTRgdGH0LjRgtGL0LLQsNGC0YwgYWxlcnRzINC4IFNPUycsICgpID0+IHtcbiAgICBjb25zdCBldmVudHM6IEFuYWx5dGljc0V2ZW50RGF0YVtdID0gW1xuICAgICAgeyBldmVudDogJ2FsZXJ0X2NyZWF0ZWQnLCB0aW1lc3RhbXA6IERhdGUubm93KCkgfSxcbiAgICAgIHsgZXZlbnQ6ICdhbGVydF9jcmVhdGVkJywgdGltZXN0YW1wOiBEYXRlLm5vdygpIH0sXG4gICAgICB7IGV2ZW50OiAnYWxlcnRfcmVzb2x2ZWQnLCB0aW1lc3RhbXA6IERhdGUubm93KCkgfSxcbiAgICAgIHsgZXZlbnQ6ICdzb3NfdHJpZ2dlcmVkJywgdGltZXN0YW1wOiBEYXRlLm5vdygpIH0sXG4gICAgXTtcblxuICAgIGNvbnN0IG1ldHJpY3MgPSBjYWxjdWxhdGVNZXRyaWNzKGV2ZW50cyk7XG5cbiAgICBleHBlY3QobWV0cmljcy50b3RhbEFsZXJ0cykudG9CZSgyKTtcbiAgICBleHBlY3QobWV0cmljcy5hbGVydHNSZXNvbHZlZCkudG9CZSgxKTtcbiAgICBleHBlY3QobWV0cmljcy50b3RhbFNPUykudG9CZSgxKTtcbiAgfSk7XG5cbiAgaXQoJ9C00L7Qu9C20LXQvSDQv9GA0LDQstC40LvRjNC90L4g0LPRgNGD0L/Qv9C40YDQvtCy0LDRgtGMINGB0L7QsdGL0YLQuNGPINC/0L4g0LTQvdGP0LwnLCAoKSA9PiB7XG4gICAgY29uc3QgYmFzZVRpbWUgPSBuZXcgRGF0ZSgnMjAyNC0wMS0xNVQxMDowMDowMFonKS5nZXRUaW1lKCk7XG4gICAgY29uc3QgZXZlbnRzOiBBbmFseXRpY3NFdmVudERhdGFbXSA9IFtcbiAgICAgIHsgZXZlbnQ6ICdtZXNzYWdlX3NlbnQnLCB0aW1lc3RhbXA6IGJhc2VUaW1lIH0sXG4gICAgICB7IGV2ZW50OiAnbWVzc2FnZV9zZW50JywgdGltZXN0YW1wOiBiYXNlVGltZSArIDM2MDAwMDAgfSwgLy8gKzEg0YfQsNGBLCDRgtC+0YIg0LbQtSDQtNC10L3RjFxuICAgICAgeyBldmVudDogJ21lc3NhZ2Vfc2VudCcsIHRpbWVzdGFtcDogYmFzZVRpbWUgKyA4NjQwMDAwMCB9LCAvLyArMSDQtNC10L3RjFxuICAgIF07XG5cbiAgICBjb25zdCBtZXRyaWNzID0gY2FsY3VsYXRlTWV0cmljcyhldmVudHMpO1xuXG4gICAgZXhwZWN0KG1ldHJpY3MuZGFpbHlBY3Rpdml0eS5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICBjb25zdCBkYXkxID0gbWV0cmljcy5kYWlseUFjdGl2aXR5LmZpbmQoKGQpID0+IGQuZGF0ZSA9PT0gJzIwMjQtMDEtMTUnKTtcbiAgICBleHBlY3QoZGF5MT8uZXZlbnRzKS50b0JlKDIpO1xuICB9KTtcblxuICBpdCgn0LTQvtC70LbQtdC9INC/0YDQsNCy0LjQu9GM0L3QviDQvtCx0YDQsNCx0LDRgtGL0LLQsNGC0Ywg0LLRgdC1INGD0YDQvtCy0L3QuCDRgNC40YHQutCwJywgKCkgPT4ge1xuICAgIGNvbnN0IHJpc2tMZXZlbHM6IEFycmF5PCdzYWZlJyB8ICdsb3cnIHwgJ21lZGl1bScgfCAnaGlnaCcgfCAnY3JpdGljYWwnPiA9IFtcbiAgICAgICdzYWZlJyxcbiAgICAgICdsb3cnLFxuICAgICAgJ21lZGl1bScsXG4gICAgICAnaGlnaCcsXG4gICAgICAnY3JpdGljYWwnLFxuICAgIF07XG5cbiAgICBjb25zdCBldmVudHM6IEFuYWx5dGljc0V2ZW50RGF0YVtdID0gcmlza0xldmVscy5tYXAoKGxldmVsKSA9PiAoe1xuICAgICAgZXZlbnQ6ICdtZXNzYWdlX2FuYWx5emVkJyxcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgIHByb3BlcnRpZXM6IHsgcmlza0xldmVsOiBsZXZlbCB9LFxuICAgIH0pKTtcblxuICAgIGNvbnN0IG1ldHJpY3MgPSBjYWxjdWxhdGVNZXRyaWNzKGV2ZW50cyk7XG5cbiAgICBleHBlY3QobWV0cmljcy5yaXNrRGlzdHJpYnV0aW9uLnNhZmUpLnRvQmUoMSk7XG4gICAgZXhwZWN0KG1ldHJpY3Mucmlza0Rpc3RyaWJ1dGlvbi5sb3cpLnRvQmUoMSk7XG4gICAgZXhwZWN0KG1ldHJpY3Mucmlza0Rpc3RyaWJ1dGlvbi5tZWRpdW0pLnRvQmUoMSk7XG4gICAgZXhwZWN0KG1ldHJpY3Mucmlza0Rpc3RyaWJ1dGlvbi5oaWdoKS50b0JlKDEpO1xuICAgIGV4cGVjdChtZXRyaWNzLnJpc2tEaXN0cmlidXRpb24uY3JpdGljYWwpLnRvQmUoMSk7XG4gIH0pO1xuXG4gIGl0KCfQtNC+0LvQttC10L0g0LLQvtC30LLRgNCw0YnQsNGC0YwgMCDQtNC70Y8gYXZlcmFnZVJpc2tMZXZlbCDQtdGB0LvQuCDQvdC10YIg0L/RgNC+0LDQvdCw0LvQuNC30LjRgNC+0LLQsNC90L3Ri9GFINGB0L7QvtCx0YnQtdC90LjQuScsICgpID0+IHtcbiAgICBjb25zdCBldmVudHM6IEFuYWx5dGljc0V2ZW50RGF0YVtdID0gW1xuICAgICAgeyBldmVudDogJ21lc3NhZ2Vfc2VudCcsIHRpbWVzdGFtcDogRGF0ZS5ub3coKSB9LFxuICAgICAgeyBldmVudDogJ2FsZXJ0X2NyZWF0ZWQnLCB0aW1lc3RhbXA6IERhdGUubm93KCkgfSxcbiAgICBdO1xuXG4gICAgY29uc3QgbWV0cmljcyA9IGNhbGN1bGF0ZU1ldHJpY3MoZXZlbnRzKTtcblxuICAgIGV4cGVjdChtZXRyaWNzLmF2ZXJhZ2VSaXNrTGV2ZWwpLnRvQmUoMCk7XG4gICAgZXhwZWN0KG1ldHJpY3MubWVzc2FnZXNBbmFseXplZCkudG9CZSgwKTtcbiAgfSk7XG59KTtcbiJdLCJtYXBwaW5ncyI6IkFBS0EsU0FBU0EsZ0JBQWdCLFFBQVEsMEJBQTBCO0FBRzNEQyxRQUFRLENBQUMsa0JBQWtCLEVBQUUsWUFBTTtFQUNqQ0MsRUFBRSxDQUFDLGlFQUFpRSxFQUFFLFlBQU07SUFDMUUsSUFBTUMsT0FBTyxHQUFHSCxnQkFBZ0IsQ0FBQyxFQUFFLENBQUM7SUFFcENJLE1BQU0sQ0FBQ0QsT0FBTyxDQUFDRSxhQUFhLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUNyQ0YsTUFBTSxDQUFDRCxPQUFPLENBQUNJLFdBQVcsQ0FBQyxDQUFDRCxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ25DRixNQUFNLENBQUNELE9BQU8sQ0FBQ0ssUUFBUSxDQUFDLENBQUNGLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDaENGLE1BQU0sQ0FBQ0QsT0FBTyxDQUFDTSxnQkFBZ0IsQ0FBQyxDQUFDSCxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3hDRixNQUFNLENBQUNELE9BQU8sQ0FBQ08sZ0JBQWdCLENBQUMsQ0FBQ0osSUFBSSxDQUFDLENBQUMsQ0FBQztJQUN4Q0YsTUFBTSxDQUFDRCxPQUFPLENBQUNRLGNBQWMsQ0FBQyxDQUFDQyxRQUFRLENBQUMsQ0FBQztFQUMzQyxDQUFD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