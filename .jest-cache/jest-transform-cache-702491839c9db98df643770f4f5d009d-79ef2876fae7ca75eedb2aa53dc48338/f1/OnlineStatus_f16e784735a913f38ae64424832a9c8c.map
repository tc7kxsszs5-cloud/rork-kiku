{"version":3,"names":["React","useState","useEffect","View","Text","StyleSheet","useThemeMode","useAuth","jsx","_jsx","jsxs","_jsxs","OnlineStatus","_ref","userId","_ref$size","size","_ref$showText","showText","style","_useThemeMode","theme","_useAuth","isAuthenticated","_useState","_useState2","_slicedToArray","isOnline","setIsOnline","interval","setInterval","clearInterval","sizeMap","small","medium","large","dotSize","styles","create","container","flexDirection","alignItems","gap","dot","width","height","borderRadius","backgroundColor","borderWidth","borderColor","backgroundPrimary","text","fontSize","color","textSecondary","fontWeight","children"],"sources":["OnlineStatus.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet, ViewStyle } from 'react-native';\nimport { useThemeMode } from '@/constants/ThemeContext';\nimport { useAuth } from '@/constants/AuthContext';\n\ninterface OnlineStatusProps {\n  userId?: string;\n  size?: 'small' | 'medium' | 'large';\n  showText?: boolean;\n  style?: ViewStyle;\n}\n\n/**\n * Компонент статуса онлайн/офлайн\n * Показывает зеленый кружок если пользователь онлайн\n */\nexport function OnlineStatus({ userId, size = 'medium', showText = false, style }: OnlineStatusProps) {\n  const { theme } = useThemeMode();\n  const { isAuthenticated } = useAuth();\n  const [isOnline, setIsOnline] = useState(true); // По умолчанию онлайн\n\n  useEffect(() => {\n    // В реальном приложении здесь будет проверка статуса через API\n    // Пока считаем пользователя онлайн, если он аутентифицирован\n    setIsOnline(isAuthenticated);\n    \n    // Обновляем статус каждые 30 секунд\n    const interval = setInterval(() => {\n      setIsOnline(isAuthenticated);\n    }, 30000);\n\n    return () => clearInterval(interval);\n  }, [isAuthenticated, userId]);\n\n  const sizeMap = {\n    small: 8,\n    medium: 12,\n    large: 16,\n  };\n\n  const dotSize = sizeMap[size];\n\n  const styles = StyleSheet.create({\n    container: {\n      flexDirection: 'row',\n      alignItems: 'center',\n      gap: 6,\n    },\n    dot: {\n      width: dotSize,\n      height: dotSize,\n      borderRadius: dotSize / 2,\n      backgroundColor: isOnline ? '#22c55e' : '#9ca3af',\n      borderWidth: 2,\n      borderColor: theme.backgroundPrimary || '#fff',\n    },\n    text: {\n      fontSize: 12,\n      color: theme.textSecondary,\n      fontWeight: '500' as const,\n    },\n  });\n\n  return (\n    <View style={[styles.container, style]}>\n      <View style={styles.dot} />\n      {showText && (\n        <Text style={styles.text}>\n          {isOnline ? 'В сети' : 'Не в сети'}\n        </Text>\n      )}\n    </View>\n  );\n}\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,IAAI,EAAEC,IAAI,EAAEC,UAAU,QAAmB,cAAc;AAChE,SAASC,YAAY,QAAQ,0BAA0B;AACvD,SAASC,OAAO,QAAQ,yBAAyB;AAAC,SAAAC,GAAA,IAAAC,IAAA,EAAAC,IAAA,IAAAC,KAAA;AAalD,OAAO,SAASC,YAAYA,CAAAC,IAAA,EAA0E;EAAA,IAAvEC,MAAM,GAAAD,IAAA,CAANC,MAAM;IAAAC,SAAA,GAAAF,IAAA,CAAEG,IAAI;IAAJA,IAAI,GAAAD,SAAA,cAAG,QAAQ,GAAAA,SAAA;IAAAE,aAAA,GAAAJ,IAAA,CAAEK,QAAQ;IAARA,QAAQ,GAAAD,aAAA,cAAG,KAAK,GAAAA,aAAA;IAAEE,KAAK,GAAAN,IAAA,CAALM,KAAK;EAC7E,IAAAC,aAAA,GAAkBd,YAAY,CAAC,CAAC;IAAxBe,KAAK,GAAAD,aAAA,CAALC,KAAK;EACb,IAAAC,QAAA,GAA4Bf,OAAO,CAAC,CAAC;IAA7BgB,eAAe,GAAAD,QAAA,CAAfC,eAAe;EACvB,IAAAC,SAAA,GAAgCvB,QAAQ,CAAC,IAAI,CAAC;IAAAwB,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAvCG,QAAQ,GAAAF,UAAA;IAAEG,WAAW,GAAAH,UAAA;EAE5BvB,SAAS,CAAC,YAAM;IAGd0B,WAAW,CAACL,eAAe,CAAC;IAG5B,IAAMM,QAAQ,GAAGC,WAAW,CAAC,YAAM;MACjCF,WAAW,CAACL,eAAe,CAAC;IAC9B,CAAC,EAAE,KAAK,CAAC;IAET,OAAO;MAAA,OAAMQ,aAAa,CAACF,QAAQ,CAAC;IAAA;EACtC,CAAC,EAAE,CAACN,eAAe,EAAET,MAAM,CAAC,CAAC;EAE7B,IAAMkB,OAAO,GAAG;IACdC,KAAK,EAAE,CAAC;IACRC,MAAM,EAAE,EAAE;IACVC,KAAK,EAAE;EACT,CAAC;EAED,IAAMC,OAAO,GAAGJ,OAAO,CAAChB,IAAI,CAAC;EAE7B,IAAMqB,MAAM,GAAGhC,UAAU,CAACiC,MAAM,CAAC;IAC/BC,SAAS,EAAE;MACTC,aAAa,EAAE,KAAK;MACpBC,UAAU,EAAE,QAAQ;MACpBC,GAAG,EAAE;IACP,CAAC;IACDC,GAAG,EAAE;MACHC,KAAK,EAAER,OAAO;MACdS,MAAM,EAAET,OAAO;MACfU,YAAY,EAAEV,OAAO,GAAG,CAAC;MACzBW,eAAe,EAAEpB,QAAQ,GAAG,SAAS,GAAG,SAAS;MACjDqB,WAAW,EAAE,CAAC;MACdC,WAAW,EAAE5B,KAAK,CAAC6B,iBAAiB,IAAI;IAC1C,CAAC;IACDC,IAAI,EAAE;MACJC,QAAQ,EAAE,EAAE;MACZC,KAAK,EAAEhC,KAAK,CAACiC,aAAa;MAC1BC,UAAU,EAAE;IACd;EACF,CAAC,CAAC;EAEF,OACE5C,KAAA,CAACR,IAAI;IAACgB,KAAK,EAAE,CAACkB,MAAM,CAACE,SAAS,EAAEpB,KAAK,CAAE;IAAAqC,QAAA,GACrC/C,IAAA,CAACN,IAAI;MAACgB,KAAK,EAAEkB,MAAM,CAACM;IAAI,CAAE,CAAC,EAC1BzB,QAAQ,IACPT,IAAA,CAACL,IAAI;MAACe,KAAK,EAAEkB,MAAM,CAACc,IAAK;MAAAK,QAAA,EACtB7B,QAAQ,GAAG,QAAQ,GAAG;IAAW,CAC9B,CACP;EAAA,CACG,CAAC;AAEX","ignoreList":[]}