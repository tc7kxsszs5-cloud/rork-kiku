b2dba294fafd2277af2591b6eae55a29
var _premiumStatus = require("@/utils/premiumStatus");
describe('isTrialExpired', function () {
  it('должен возвращать false для free статуса', function () {
    var status = {
      tier: 'free',
      features: {
        advancedAnalytics: false,
        extendedHistory: false,
        multipleChildren: false,
        prioritySupport: false,
        customAlerts: false,
        exportData: false,
        aiRecommendations: false
      }
    };
    expect((0, _premiumStatus.isTrialExpired)(status, Date.now())).toBe(false);
  });
  it('должен возвращать false если trial еще не истек', function () {
    var futureTime = Date.now() + 7 * 24 * 60 * 60 * 1000;
    var status = {
      tier: 'trial',
      trialEndDate: futureTime,
      features: {
        advancedAnalytics: true,
        extendedHistory: true,
        multipleChildren: true,
        prioritySupport: true,
        customAlerts: true,
        exportData: true,
        aiRecommendations: true
      }
    };
    expect((0, _premiumStatus.isTrialExpired)(status, Date.now())).toBe(false);
  });
  it('должен возвращать true если trial истек', function () {
    var pastTime = Date.now() - 1000;
    var status = {
      tier: 'trial',
      trialEndDate: pastTime,
      features: {
        advancedAnalytics: true,
        extendedHistory: true,
        multipleChildren: true,
        prioritySupport: true,
        customAlerts: true,
        exportData: true,
        aiRecommendations: true
      }
    };
    expect((0, _premiumStatus.isTrialExpired)(status, Date.now())).toBe(true);
  });
  it('должен возвращать false если trialEndDate отсутствует', function () {
    var status = {
      tier: 'trial',
      features: {
        advancedAnalytics: true,
        extendedHistory: true,
        multipleChildren: true,
        prioritySupport: true,
        customAlerts: true,
        exportData: true,
        aiRecommendations: true
      }
    };
    expect((0, _premiumStatus.isTrialExpired)(status, Date.now())).toBe(false);
  });
});
describe('isSubscriptionExpired', function () {
  it('должен возвращать false для free статуса', function () {
    var status = {
      tier: 'free',
      features: {
        advancedAnalytics: false,
        extendedHistory: false,
        multipleChildren: false,
        prioritySupport: false,
        customAlerts: false,
        exportData: false,
        aiRecommendations: false
      }
    };
    expect((0, _premiumStatus.isSubscriptionExpired)(status, Date.now())).toBe(false);
  });
  it('должен возвращать false если подписка еще не истекла', function () {
    var futureTime = Date.now() + 30 * 24 * 60 * 60 * 1000;
    var status = {
      tier: 'premium',
      subscriptionId: 'sub_123',
      subscriptionStartDate: Date.now(),
      subscriptionEndDate: futureTime,
      features: {
        advancedAnalytics: true,
        extendedHistory: true,
        multipleChildren: true,
        prioritySupport: true,
        customAlerts: true,
        exportData: true,
        aiRecommendations: true
      }
    };
    expect((0, _premiumStatus.isSubscriptionExpired)(status, Date.now())).toBe(false);
  });
  it('должен возвращать true если подписка истекла', function () {
    var pastTime = Date.now() - 1000;
    var status = {
      tier: 'premium',
      subscriptionId: 'sub_123',
      subscriptionStartDate: pastTime - 30 * 24 * 60 * 60 * 1000,
      subscriptionEndDate: pastTime,
      features: {
        advancedAnalytics: true,
        extendedHistory: true,
        multipleChildren: true,
        prioritySupport: true,
        customAlerts: true,
        exportData: true,
        aiRecommendations: true
      }
    };
    expect((0, _premiumStatus.isSubscriptionExpired)(status, Date.now())).toBe(true);
  });
});
describe('checkSubscriptionStatus', function () {
  it('должен возвращать updated: false если статус не изменился', function () {
    var futureTime = Date.now() + 7 * 24 * 60 * 60 * 1000;
    var status = {
      tier: 'trial',
      trialEndDate: futureTime,
      features: {
        advancedAnalytics: true,
        extendedHistory: true,
        multipleChildren: true,
        prioritySupport: true,
        customAlerts: true,
        exportData: true,
        aiRecommendations: true
      }
    };
    var result = (0, _premiumStatus.checkSubscriptionStatus)(status, Date.now());
    expect(result.updated).toBe(false);
    expect(result.newStatus.tier).toBe('trial');
  });
  it('должен обновлять статус на free если trial истек', function () {
    var pastTime = Date.now() - 1000;
    var status = {
      tier: 'trial',
      trialEndDate: pastTime,
      features: {
        advancedAnalytics: true,
        extendedHistory: true,
        multipleChildren: true,
        prioritySupport: true,
        customAlerts: true,
        exportData: true,
        aiRecommendations: true
      }
    };
    var result = (0, _premiumStatus.checkSubscriptionStatus)(status, Date.now());
    expect(result.updated).toBe(true);
    expect(result.newStatus.tier).toBe('free');
    expect(result.newStatus.features.advancedAnalytics).toBe(false);
    expect(result.newStatus.trialEndDate).toBeUndefined();
  });
  it('должен обновлять статус на free если подписка истекла', function () {
    var pastTime = Date.now() - 1000;
    var status = {
      tier: 'premium',
      subscriptionId: 'sub_123',
      subscriptionStartDate: pastTime - 30 * 24 * 60 * 60 * 1000,
      subscriptionEndDate: pastTime,
      features: {
        advancedAnalytics: true,
        extendedHistory: true,
        multipleChildren: true,
        prioritySupport: true,
        customAlerts: true,
        exportData: true,
        aiRecommendations: true
      }
    };
    var result = (0, _premiumStatus.checkSubscriptionStatus)(status, Date.now());
    expect(result.updated).toBe(true);
    expect(result.newStatus.tier).toBe('free');
    expect(result.newStatus.features.advancedAnalytics).toBe(false);
    expect(result.newStatus.subscriptionId).toBeUndefined();
    expect(result.newStatus.subscriptionEndDate).toBeUndefined();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcHJlbWl1bVN0YXR1cyIsInJlcXVpcmUiLCJkZXNjcmliZSIsIml0Iiwic3RhdHVzIiwidGllciIsImZlYXR1cmVzIiwiYWR2YW5jZWRBbmFseXRpY3MiLCJleHRlbmRlZEhpc3RvcnkiLCJtdWx0aXBsZUNoaWxkcmVuIiwicHJpb3JpdHlTdXBwb3J0IiwiY3VzdG9tQWxlcnRzIiwiZXhwb3J0RGF0YSIsImFpUmVjb21tZW5kYXRpb25zIiwiZXhwZWN0IiwiaXNUcmlhbEV4cGlyZWQiLCJEYXRlIiwibm93IiwidG9CZSIsImZ1dHVyZVRpbWUiLCJ0cmlhbEVuZERhdGUiLCJwYXN0VGltZSIsImlzU3Vic2NyaXB0aW9uRXhwaXJlZCIsInN1YnNjcmlwdGlvbklkIiwic3Vic2NyaXB0aW9uU3RhcnREYXRlIiwic3Vic2NyaXB0aW9uRW5kRGF0ZSIsInJlc3VsdCIsImNoZWNrU3Vic2NyaXB0aW9uU3RhdHVzIiwidXBkYXRlZCIsIm5ld1N0YXR1cyIsInRvQmVVbmRlZmluZWQiXSwic291cmNlcyI6WyJwcmVtaXVtU3RhdHVzLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiDQnNC+0LTRg9C70YzQvdGL0LUg0YLQtdGB0YLRiyDQtNC70Y8g0L/RgNC+0LLQtdGA0LrQuCDRgdGC0LDRgtGD0YHQsCBwcmVtaXVtINC/0L7QtNC/0LjRgdC60LhcbiAqINCi0L7Qu9GM0LrQviDQtNC10YLQtdGA0LzQuNC90LjRgNC+0LLQsNC90L3Ri9C1INGC0LXRgdGC0YsgLSDQvdC40LrQsNC60LjRhSDQuNC90YLQtdCz0YDQsNGG0LjQuS/QsNGB0LjQvdGF0YDQvtC90L3QvtGB0YLQuFxuICovXG5cbmltcG9ydCB7XG4gIGlzVHJpYWxFeHBpcmVkLFxuICBpc1N1YnNjcmlwdGlvbkV4cGlyZWQsXG4gIGNoZWNrU3Vic2NyaXB0aW9uU3RhdHVzLFxufSBmcm9tICdAL3V0aWxzL3ByZW1pdW1TdGF0dXMnO1xuaW1wb3J0IHsgUHJlbWl1bVN0YXR1cyB9IGZyb20gJ0AvY29uc3RhbnRzL1ByZW1pdW1Db250ZXh0JztcblxuZGVzY3JpYmUoJ2lzVHJpYWxFeHBpcmVkJywgKCkgPT4ge1xuICBpdCgn0LTQvtC70LbQtdC9INCy0L7Qt9Cy0YDQsNGJ0LDRgtGMIGZhbHNlINC00LvRjyBmcmVlINGB0YLQsNGC0YPRgdCwJywgKCkgPT4ge1xuICAgIGNvbnN0IHN0YXR1czogUHJlbWl1bVN0YXR1cyA9IHtcbiAgICAgIHRpZXI6ICdmcmVlJyxcbiAgICAgIGZlYXR1cmVzOiB7XG4gICAgICAgIGFkdmFuY2VkQW5hbHl0aWNzOiBmYWxzZSxcbiAgICAgICAgZXh0ZW5kZWRIaXN0b3J5OiBmYWxzZSxcbiAgICAgICAgbXVsdGlwbGVDaGlsZHJlbjogZmFsc2UsXG4gICAgICAgIHByaW9yaXR5U3VwcG9ydDogZmFsc2UsXG4gICAgICAgIGN1c3RvbUFsZXJ0czogZmFsc2UsXG4gICAgICAgIGV4cG9ydERhdGE6IGZhbHNlLFxuICAgICAgICBhaVJlY29tbWVuZGF0aW9uczogZmFsc2UsXG4gICAgICB9LFxuICAgIH07XG5cbiAgICBleHBlY3QoaXNUcmlhbEV4cGlyZWQoc3RhdHVzLCBEYXRlLm5vdygpKSkudG9CZShmYWxzZSk7XG4gIH0pO1xuXG4gIGl0KCfQtNC+0LvQttC10L0g0LLQvtC30LLRgNCw0YnQsNGC0YwgZmFsc2Ug0LXRgdC70LggdHJpYWwg0LXRidC1INC90LUg0LjRgdGC0LXQuicsICgpID0+IHtcbiAgICBjb25zdCBmdXR1cmVUaW1lID0gRGF0ZS5ub3coKSArIDcgKiAyNCAqIDYwICogNjAgKiAxMDAwOyAvLyArNyDQtNC90LXQuVxuICAgIGNvbnN0IHN0YXR1czogUHJlbWl1bVN0YXR1cyA9IHtcbiAgICAgIHRpZXI6ICd0cmlhbCcsXG4gICAgICB0cmlhbEVuZERhdGU6IGZ1dHVyZVRpbWUsXG4gICAgICBmZWF0dXJlczoge1xuICAgICAgICBhZHZhbmNlZEFuYWx5dGljczogdHJ1ZSxcbiAgICAgICAgZXh0ZW5kZWRIaXN0b3J5OiB0cnVlLFxuICAgICAgICBtdWx0aXBsZUNoaWxkcmVuOiB0cnVlLFxuICAgICAgICBwcmlvcml0eVN1cHBvcnQ6IHRydWUsXG4gICAgICAgIGN1c3RvbUFsZXJ0czogdHJ1ZSxcbiAgICAgICAgZXhwb3J0RGF0YTogdHJ1ZSxcbiAgICAgICAgYWlSZWNvbW1lbmRhdGlvbnM6IHRydWUsXG4gICAgICB9LFxuICAgIH07XG5cbiAgICBleHBlY3QoaXNUcmlhbEV4cGlyZWQoc3RhdHVzLCBEYXRlLm5vdygpKSkudG9CZShmYWxzZSk7XG4gIH0pO1xuXG4gIGl0KCfQtNC+0LvQttC10L0g0LLQvtC30LLRgNCw0YnQsNGC0YwgdHJ1ZSDQtdGB0LvQuCB0cmlhbCDQuNGB0YLQtdC6JywgKCkgPT4ge1xuICAgIGNvbnN0IHBhc3RUaW1lID0gRGF0ZS5ub3coKSAtIDEwMDA7IC8vIC0xINGB0LXQutGD0L3QtNCwXG4gICAgY29uc3Qgc3RhdHVzOiBQcmVtaXVtU3RhdHVzID0ge1xuICAgICAgdGllcjogJ3RyaWFsJyxcbiAgICAgIHRyaWFsRW5kRGF0ZTogcGFzdFRpbWUsXG4gICAgICBmZWF0dXJlczoge1xuICAgICAgICBhZHZhbmNlZEFuYWx5dGljczogdHJ1ZSxcbiAgICAgICAgZXh0ZW5kZWRIaXN0b3J5OiB0cnVlLFxuICAgICAgICBtdWx0aXBsZUNoaWxkcmVuOiB0cnVlLFxuICAgICAgICBwcmlvcml0eVN1cHBvcnQ6IHRydWUsXG4gICAgICAgIGN1c3RvbUFsZXJ0czogdHJ1ZSxcbiAgICAgICAgZXhwb3J0RGF0YTogdHJ1ZSxcbiAgICAgICAgYWlSZWNvbW1lbmRhdGlvbnM6IHRydWUsXG4gICAgICB9LFxuICAgIH07XG5cbiAgICBleHBlY3QoaXNUcmlhbEV4cGlyZWQoc3RhdHVzLCBEYXRlLm5vdygpKSkudG9CZSh0cnVlKTtcbiAgfSk7XG5cbiAgaXQoJ9C00L7Qu9C20LXQvSDQstC+0LfQstGA0LDRidCw0YLRjCBmYWxzZSDQtdGB0LvQuCB0cmlhbEVuZERhdGUg0L7RgtGB0YPRgtGB0YLQstGD0LXRgicsICgpID0+IHtcbiAgICBjb25zdCBzdGF0dXM6IFByZW1pdW1TdGF0dXMgPSB7XG4gICAgICB0aWVyOiAndHJpYWwnLFxuICAgICAgZmVhdHVyZXM6IHtcbiAgICAgICAgYWR2YW5jZWRBbmFseXRpY3M6IHRydWUsXG4gICAgICAgIGV4dGVuZGVkSGlzdG9yeTogdHJ1ZSxcbiAgICAgICAgbXVsdGlwbGVDaGlsZHJlbjogdHJ1ZSxcbiAgICAgICAgcHJpb3JpdHlTdXBwb3J0OiB0cnVlLFxuICAgICAgICBjdXN0b21BbGVydHM6IHRydWUsXG4gICAgICAgIGV4cG9ydERhdGE6IHRydWUsXG4gICAgICAgIGFpUmVjb21tZW5kYXRpb25zOiB0cnVlLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgZXhwZWN0KGlzVHJpYWxFeHBpcmVkKHN0YXR1cywgRGF0ZS5ub3coKSkpLnRvQmUoZmFsc2UpO1xuICB9KTtcbn0pO1xuXG5kZXNjcmliZSgnaXNTdWJzY3JpcHRpb25FeHBpcmVkJywgKCkgPT4ge1xuICBpdCgn0LTQvtC70LbQtdC9INCy0L7Qt9Cy0YDQsNGJ0LDRgtGMIGZhbHNlINC00LvRjyBmcmVlINGB0YLQsNGC0YPRgdCwJywgKCkgPT4ge1xuICAgIGNvbnN0IHN0YXR1czogUHJlbWl1bVN0YXR1cyA9IHtcbiAgICAgIHRpZXI6ICdmcmVlJyxcbiAgICAgIGZlYXR1cmVzOiB7XG4gICAgICAgIGFkdmFuY2VkQW5hbHl0aWNzOiBmYWxzZSxcbiAgICAgICAgZXh0ZW5kZWRIaXN0b3J5OiBmYWxzZSxcbiAgICAgICAgbXVsdGlwbGVDaGlsZHJlbjogZmFsc2UsXG4gICAgICAgIHByaW9yaXR5U3VwcG9ydDogZmFsc2UsXG4gICAgICAgIGN1c3RvbUFsZXJ0czogZmFsc2UsXG4gICAgICAgIGV4cG9ydERhdGE6IGZhbHNlLFxuICAgICAgICBhaVJlY29tbWVuZGF0aW9uczogZmFsc2UsXG4gICAgICB9LFxuICAgIH07XG5cbiAgICBleHBlY3QoaXNTdWJzY3JpcHRpb25FeHBpcmVkKHN0YXR1cywgRGF0ZS5ub3coKSkpLnRvQmUoZmFsc2UpO1xuICB9KTtcblxuICBpdCgn0LTQvtC70LbQtdC9INCy0L7Qt9Cy0YDQsNGJ0LDRgtGMIGZhbHNlINC10YHQu9C4INC/0L7QtNC/0LjRgdC60LAg0LXRidC1INC90LUg0LjRgdGC0LXQutC70LAnLCAoKSA9PiB7XG4gICAgY29uc3QgZnV0dXJlVGltZSA9IERhdGUubm93KCkgKyAzMCAqIDI0ICogNjAgKiA2MCAqIDEwMDA7IC8vICszMCDQtNC90LXQuVxuICAgIGNvbnN0IHN0YXR1czogUHJlbWl1bVN0YXR1cyA9IHtcbiAgICAgIHRpZXI6ICdwcmVtaXVtJyxcbiAgICAgIHN1YnNjcmlwdGlvbklkOiAnc3ViXzEyMycsXG4gICAgICBzdWJzY3JpcHRpb25TdGFydERhdGU6IERhdGUubm93KCksXG4gICAgICBzdWJzY3JpcHRpb25FbmREYXRlOiBmdXR1cmVUaW1lLFxuICAgICAgZmVhdHVyZXM6IHtcbiAgICAgICAgYWR2YW5jZWRBbmFseXRpY3M6IHRydWUsXG4gICAgICAgIGV4dGVuZGVkSGlzdG9yeTogdHJ1ZSxcbiAgICAgICAgbXVsdGlwbGVDaGlsZHJlbjogdHJ1ZSxcbiAgICAgICAgcHJpb3JpdHlTdXBwb3J0OiB0cnVlLFxuICAgICAgICBjdXN0b21BbGVydHM6IHRydWUsXG4gICAgICAgIGV4cG9ydERhdGE6IHRydWUsXG4gICAgICAgIGFpUmVjb21tZW5kYXRpb25zOiB0cnVlLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgZXhwZWN0KGlzU3Vic2NyaXB0aW9uRXhwaXJlZChzdGF0dXMsIERhdGUubm93KCkpKS50b0JlKGZhbHNlKTtcbiAgfSk7XG5cbiAgaXQoJ9C00L7Qu9C20LXQvSDQstC+0LfQstGA0LDRidCw0YLRjCB0cnVlINC10YHQu9C4INC/0L7QtNC/0LjRgdC60LAg0LjRgdGC0LXQutC70LAnLCAoKSA9PiB7XG4gICAgY29uc3QgcGFzdFRpbWUgPSBEYXRlLm5vdygpIC0gMTAwMDsgLy8gLTEg0YHQtdC60YPQvdC00LBcbiAgICBjb25zdCBzdGF0dXM6IFByZW1pdW1TdGF0dXMgPSB7XG4gICAgICB0aWVyOiAncHJlbWl1bScsXG4gICAgICBzdWJzY3JpcHRpb25JZDogJ3N1Yl8xMjMnLFxuICAgICAgc3Vic2NyaXB0aW9uU3RhcnREYXRlOiBwYXN0VGltZSAtIDMwICogMjQgKiA2MCAqIDYwICogMTAwMCxcbiAgICAgIHN1YnNjcmlwdGlvbkVuZERhdGU6IHBhc3RUaW1lLFxuICAgICAgZmVhdHVyZXM6IHtcbiAgICAgICAgYWR2YW5jZWRBbmFseXRpY3M6IHRydWUsXG4gICAgICAgIGV4dGVuZGVkSGlzdG9yeTogdHJ1ZSxcbiAgICAgICAgbXVsdGlwbGVDaGlsZHJlbjogdHJ1ZSxcbiAgICAgICAgcHJpb3JpdHlTdXBwb3J0OiB0cnVlLFxuICAgICAgICBjdXN0b21BbGVydHM6IHRydWUsXG4gICAgICAgIGV4cG9ydERhdGE6IHRydWUsXG4gICAgICAgIGFpUmVjb21tZW5kYXRpb25zOiB0cnVlLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgZXhwZWN0KGlzU3Vic2NyaXB0aW9uRXhwaXJlZChzdGF0dXMsIERhdGUubm93KCkpKS50b0JlKHRydWUpO1xuICB9KTtcbn0pO1xuXG5kZXNjcmliZSgnY2hlY2tTdWJzY3JpcHRpb25TdGF0dXMnLCAoKSA9PiB7XG4gIGl0KCfQtNC+0LvQttC10L0g0LLQvtC30LLRgNCw0YnQsNGC0YwgdXBkYXRlZDogZmFsc2Ug0LXRgdC70Lgg0YHRgtCw0YLRg9GBINC90LUg0LjQt9C80LXQvdC40LvRgdGPJywgKCkgPT4ge1xuICAgIGNvbnN0IGZ1dHVyZVRpbWUgPSBEYXRlLm5vdygpICsgNyAqIDI0ICogNjAgKiA2MCAqIDEwMDA7XG4gICAgY29uc3Qgc3RhdHVzOiBQcmVtaXVtU3RhdHVzID0ge1xuICAgICAgdGllcjogJ3RyaWFsJyxcbiAgICAgIHRyaWFsRW5kRGF0ZTogZnV0dXJlVGltZSxcbiAgICAgIGZlYXR1cmVzOiB7XG4gICAgICAgIGFkdmFuY2VkQW5hbHl0aWNzOiB0cnVlLFxuICAgICAgICBleHRlbmRlZEhpc3Rvcnk6IHRydWUsXG4gICAgICAgIG11bHRpcGxlQ2hpbGRyZW46IHRydWUsXG4gICAgICAgIHByaW9yaXR5U3VwcG9ydDogdHJ1ZSxcbiAgICAgICAgY3VzdG9tQWxlcnRzOiB0cnVlLFxuICAgICAgICBleHBvcnREYXRhOiB0cnVlLFxuICAgICAgICBhaVJlY29tbWVuZGF0aW9uczogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IGNoZWNrU3Vic2NyaXB0aW9uU3RhdHVzKHN0YXR1cywgRGF0ZS5ub3coKSk7XG5cbiAgICBleHBlY3QocmVzdWx0LnVwZGF0ZWQpLnRvQmUoZmFsc2UpO1xuICAgIGV4cGVjdChyZXN1bHQubmV3U3RhdHVzLnRpZXIpLnRvQmUoJ3RyaWFsJyk7XG4gIH0pO1xuXG4gIGl0KCfQtNC+0LvQttC10L0g0L7QsdC90L7QstC70Y/RgtGMINGB0YLQsNGC0YPRgSDQvdCwIGZyZWUg0LXRgdC70LggdHJpYWwg0LjRgdGC0LXQuicsICgpID0+IHtcbiAgICBjb25zdCBwYXN0VGltZSA9IERhdGUubm93KCkgLSAxMDAwO1xuICAgIGNvbnN0IHN0YXR1czogUHJlbWl1bVN0YXR1cyA9IHtcbiAgICAgIHRpZXI6ICd0cmlhbCcsXG4gICAgICB0cmlhbEVuZERhdGU6IHBhc3RUaW1lLFxuICAgICAgZmVhdHVyZXM6IHtcbiAgICAgICAgYWR2YW5jZWRBbmFseXRpY3M6IHRydWUsXG4gICAgICAgIGV4dGVuZGVkSGlzdG9yeTogdHJ1ZSxcbiAgICAgICAgbXVsdGlwbGVDaGlsZHJlbjogdHJ1ZSxcbiAgICAgICAgcHJpb3JpdHlTdXBwb3J0OiB0cnVlLFxuICAgICAgICBjdXN0b21BbGVydHM6IHRydWUsXG4gICAgICAgIGV4cG9ydERhdGE6IHRydWUsXG4gICAgICAgIGFpUmVjb21tZW5kYXRpb25zOiB0cnVlLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgY29uc3QgcmVzdWx0ID0gY2hlY2tTdWJzY3JpcHRpb25TdGF0dXMoc3RhdHVzLCBEYXRlLm5vdygpKTtcblxuICAgIGV4cGVjdChyZXN1bHQudXBkYXRlZCkudG9CZSh0cnVlKTtcbiAgICBleHBlY3QocmVzdWx0Lm5ld1N0YXR1cy50aWVyKS50b0JlKCdmcmVlJyk7XG4gICAgZXhwZWN0KHJlc3VsdC5uZXdTdGF0dXMuZmVhdHVyZXMuYWR2YW5jZWRBbmFseXRpY3MpLnRvQmUoZmFsc2UpO1xuICAgIGV4cGVjdChyZXN1bHQubmV3U3RhdHVzLnRyaWFsRW5kRGF0ZSkudG9CZVVuZGVmaW5lZCgpO1xuICB9KTtcblxuICBpdCgn0LTQvtC70LbQtdC9INC+0LHQvdC+0LLQu9GP0YLRjCDRgdGC0LDRgtGD0YEg0L3QsCBmcmVlINC10YHQu9C4INC/0L7QtNC/0LjRgdC60LAg0LjRgdGC0LXQutC70LAnLCAoKSA9PiB7XG4gICAgY29uc3QgcGFzdFRpbWUgPSBEYXRlLm5vdygpIC0gMTAwMDtcbiAgICBjb25zdCBzdGF0dXM6IFByZW1pdW1TdGF0dXMgPSB7XG4gICAgICB0aWVyOiAncHJlbWl1bScsXG4gICAgICBzdWJzY3JpcHRpb25JZDogJ3N1Yl8xMjMnLFxuICAgICAgc3Vic2NyaXB0aW9uU3RhcnREYXRlOiBwYXN0VGltZSAtIDMwICogMjQgKiA2MCAqIDYwICogMTAwMCxcbiAgICAgIHN1YnNjcmlwdGlvbkVuZERhdGU6IHBhc3RUaW1lLFxuICAgICAgZmVhdHVyZXM6IHtcbiAgICAgICAgYWR2YW5jZWRBbmFseXRpY3M6IHRydWUsXG4gICAgICAgIGV4dGVuZGVkSGlzdG9yeTogdHJ1ZSxcbiAgICAgICAgbXVsdGlwbGVDaGlsZHJlbjogdHJ1ZSxcbiAgICAgICAgcHJpb3JpdHlTdXBwb3J0OiB0cnVlLFxuICAgICAgICBjdXN0b21BbGVydHM6IHRydWUsXG4gICAgICAgIGV4cG9ydERhdGE6IHRydWUsXG4gICAgICAgIGFpUmVjb21tZW5kYXRpb25zOiB0cnVlLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgY29uc3QgcmVzdWx0ID0gY2hlY2tTdWJzY3JpcHRpb25TdGF0dXMoc3RhdHVzLCBEYXRlLm5vdygpKTtcblxuICAgIGV4cGVjdChyZXN1bHQudXBkYXRlZCkudG9CZSh0cnVlKTtcbiAgICBleHBlY3QocmVzdWx0Lm5ld1N0YXR1cy50aWVyKS50b0JlKCdmcmVlJyk7XG4gICAgZXhwZWN0KHJlc3VsdC5uZXdTdGF0dXMuZmVhdHVyZXMuYWR2YW5jZWRBbmFseXRpY3MpLnRvQmUoZmFsc2UpO1xuICAgIGV4cGVjdChyZXN1bHQubmV3U3RhdHVzLnN1YnNjcmlwdGlvbklkKS50b0JlVW5kZWZpbmVkKCk7XG4gICAgZXhwZWN0KHJlc3VsdC5uZXdTdGF0dXMuc3Vic2NyaXB0aW9uRW5kRGF0ZSkudG9CZVVuZGVmaW5lZCgpO1xuICB9KTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFLQSxJQUFBQSxjQUFBLEdBQUFDLE9BQUE7QUFPQUMsUUFBUSxDQUFDLGdCQUFnQixFQUFFLFlBQU07RUFDL0JDLEVBQUUsQ0FBQywwQ0FBMEMsRUFBRSxZQUFNO0lBQ25ELElBQU1DLE1BQXFCLEdBQUc7TUFDNUJDLElBQUksRUFBRSxNQUFNO01BQ1pDLFFBQVEsRUFBRTtRQUNSQyxpQkFBaUIsRUFBRSxLQUFLO1FBQ3hCQyxlQUFlLEVBQUUsS0FBSztRQUN0QkMsZ0JBQWdCLEVBQUUsS0FBSztRQUN2QkMsZUFBZSxFQUFFLEtBQUs7UUFDdEJDLFlBQVksRUFBRSxLQUFLO1FBQ25CQyxVQUFVLEVBQUUsS0FBSztRQUNqQkMsaUJBQWlCLEVBQUU7TUFDckI7SUFDRixDQUFDO0lBRURDLE1BQU0sQ0FBQyxJQUFBQyw2QkFBYyxFQUFDWCxNQUFNLEVBQUVZLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUNDLElBQUksQ0FBQyxLQUFLLENBQUM7RUFDeEQsQ0FBQyxDQUFDO0VBRUZmLEVBQUUsQ0FBQyxpREFBaUQsRUFBRSxZQUFNO0lBQzFELElBQU1nQixVQUFVLEdBQUdILElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsSUFBSTtJQUN2RCxJQUFNYixNQUFxQixHQUFHO01BQzVCQyxJQUFJLEVBQUUsT0FBTztNQUNiZSxZQUFZLEVBQUVELFVBQVU7TUFDeEJiLFFBQVEsRUFBRTtRQUNSQyxpQkFBaUIsRUFBRSxJQUFJO1FBQ3ZCQyxlQUFlLEVBQUUsSUFBSTtRQUNyQkMsZ0JBQWdCLEVBQUUsSUFBSTtRQUN0QkMsZUFBZSxFQUFFLElBQUk7UUFDckJDLFlBQVksRUFBRSxJQUFJO1FBQ2xCQyxVQUFVLEVBQUUsSUFBSTtRQUNoQkMsaUJBQWlCLEVBQUU7TUFDckI7SUFDRixDQUFDO0lBRURDLE1BQU0sQ0FBQyxJQUFBQyw2QkFBYyxFQUFDWCxNQUFNLEVBQUVZLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUNDLElBQUksQ0FBQyxLQUFLLENBQUM7RUFDeEQsQ0FBQyxDQUFDO0VBRUZmLEVBQUUsQ0FBQyx5Q0FBeUMsRUFBRSxZQUFNO0lBQ2xELElBQU1rQixRQUFRLEdBQUdMLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJO0lBQ2xDLElBQU1iLE1BQXFCLEdBQUc7TUFDNUJDLElBQUksRUFBRSxPQUFPO01BQ2JlLFlBQVksRUFBRUMsUUFBUTtNQUN0QmYsUUFBUSxFQUFFO1FBQ1JDLGlCQUFpQixFQUFFLElBQUk7UUFDdkJDLGVBQWUsRUFBRSxJQUFJO1FBQ3JCQyxnQkFBZ0IsRUFBRSxJQUFJO1FBQ3RCQyxlQUFlLEVBQUUsSUFBSTtRQUNyQkMsWUFBWSxFQUFFLElBQUk7UUFDbEJDLFVBQVUsRUFBRSxJQUFJO1FBQ2hCQyxpQkFBaUIsRUFBRTtNQUNyQjtJQUNGLENBQUM7SUFFREMsTUFBTSxDQUFDLElBQUFDLDZCQUFjLEVBQUNYLE1BQU0sRUFBRVksSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLElBQUksQ0FBQztFQUN2RCxDQUFDLENBQUM7RUFFRmYsRUFBRSxDQUFDLHVEQUF1RCxFQUFFLFlBQU07SUFDaEUsSUFBTUMsTUFBcUIsR0FBRztNQUM1QkMsSUFBSSxFQUFFLE9BQU87TUFDYkMsUUFBUSxFQUFFO1FBQ1JDLGlCQUFpQixFQUFFLElBQUk7UUFDdkJDLGVBQWUsRUFBRSxJQUFJO1FBQ3JCQyxnQkFBZ0IsRUFBRSxJQUFJO1FBQ3RCQyxlQUFlLEVBQUUsSUFBSTtRQUNyQkMsWUFBWSxFQUFFLElBQUk7UUFDbEJDLFVBQVUsRUFBRSxJQUFJO1FBQ2hCQyxpQkFBaUIsRUFBRTtNQUNyQjtJQUNGLENBQUM7SUFFREMsTUFBTSxDQUFDLElBQUFDLDZCQUFjLEVBQUNYLE1BQU0sRUFBRVksSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLEtBQUssQ0FBQztFQUN4RCxDQUFDLENBQUM7QUFDSixDQUFDLENBQUM7QUFFRmhCLFFBQVEsQ0FBQyx1QkFBdUIsRUFBRSxZQUFNO0VBQ3RDQyxFQUFFLENBQUMsMENBQTBDLEVBQUUsWUFBTTtJQUNuRCxJQUFNQyxNQUFxQixHQUFHO01BQzVCQyxJQUFJLEVBQUUsTUFBTTtNQUNaQyxRQUFRLEVBQUU7UUFDUkMsaUJBQWlCLEVBQUUsS0FBSztRQUN4QkMsZUFBZSxFQUFFLEtBQUs7UUFDdEJDLGdCQUFnQixFQUFFLEtBQUs7UUFDdkJDLGVBQWUsRUFBRSxLQUFLO1FBQ3RCQyxZQUFZLEVBQUUsS0FBSztRQUNuQkMsVUFBVSxFQUFFLEtBQUs7UUFDakJDLGlCQUFpQixFQUFFO01BQ3JCO0lBQ0YsQ0FBQztJQUVEQyxNQUFNLENBQUMsSUFBQVEsb0NBQXFCLEVBQUNsQixNQUFNLEVBQUVZLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUNDLElBQUksQ0FBQyxLQUFLLENBQUM7RUFDL0QsQ0FBQyxDQUFDO0VBRUZmLEVBQUUsQ0FBQyxzREFBc0QsRUFBRSxZQUFNO0lBQy9ELElBQU1nQixVQUFVLEdBQUdILElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsSUFBSTtJQUN4RCxJQUFNYixNQUFxQixHQUFHO01BQzVCQyxJQUFJLEVBQUUsU0FBUztNQUNma0IsY0FBYyxFQUFFLFNBQVM7TUFDekJDLHFCQUFxQixFQUFFUixJQUFJLENBQUNDLEdBQUcsQ0FBQyxDQUFDO01BQ2pDUSxtQkFBbUIsRUFBRU4sVUFBVTtNQUMvQmIsUUFBUSxFQUFFO1FBQ1JDLGlCQUFpQixFQUFFLElBQUk7UUFDdkJDLGVBQWUsRUFBRSxJQUFJO1FBQ3JCQyxnQkFBZ0IsRUFBRSxJQUFJO1FBQ3RCQyxlQUFlLEVBQUUsSUFBSTtRQUNyQkMsWUFBWSxFQUFFLElBQUk7UUFDbEJDLFVBQVUsRUFBRSxJQUFJO1FBQ2hCQyxpQkFBaUIsRUFBRTtNQUNyQjtJQUNGLENBQUM7SUFFREMsTUFBTSxDQUFDLElBQUFRLG9DQUFxQixFQUFDbEIsTUFBTSxFQUFFWSxJQUFJLENBQUNDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDQyxJQUFJLENBQUMsS0FBSyxDQUFDO0VBQy9ELENBQUMsQ0FBQztFQUVGZixFQUFFLENBQUMsOENBQThDLEVBQUUsWUFBTTtJQUN2RCxJQUFNa0IsUUFBUSxHQUFHTCxJQUFJLENBQUNDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSTtJQUNsQyxJQUFNYixNQUFxQixHQUFHO01BQzVCQyxJQUFJLEVBQUUsU0FBUztNQUNma0IsY0FBYyxFQUFFLFNBQVM7TUFDekJDLHFCQUFxQixFQUFFSCxRQUFRLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLElBQUk7TUFDMURJLG1CQUFtQixFQUFFSixRQUFRO01BQzdCZixRQUFRLEVBQUU7UUFDUkMsaUJBQWlCLEVBQUUsSUFBSTtRQUN2QkMsZUFBZSxFQUFFLElBQUk7UUFDckJDLGdCQUFnQixFQUFFLElBQUk7UUFDdEJDLGVBQWUsRUFBRSxJQUFJO1FBQ3JCQyxZQUFZLEVBQUUsSUFBSTtRQUNsQkMsVUFBVSxFQUFFLElBQUk7UUFDaEJDLGlCQUFpQixFQUFFO01BQ3JCO0lBQ0YsQ0FBQztJQUVEQyxNQUFNLENBQUMsSUFBQVEsb0NBQXFCLEVBQUNsQixNQUFNLEVBQUVZLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUNDLElBQUksQ0FBQyxJQUFJLENBQUM7RUFDOUQsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUZoQixRQUFRLENBQUMseUJBQXlCLEVBQUUsWUFBTTtFQUN4Q0MsRUFBRSxDQUFDLDJEQUEyRCxFQUFFLFlBQU07SUFDcEUsSUFBTWdCLFVBQVUsR0FBR0gsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxJQUFJO0lBQ3ZELElBQU1iLE1BQXFCLEdBQUc7TUFDNUJDLElBQUksRUFBRSxPQUFPO01BQ2JlLFlBQVksRUFBRUQsVUFBVTtNQUN4QmIsUUFBUSxFQUFFO1FBQ1JDLGlCQUFpQixFQUFFLElBQUk7UUFDdkJDLGVBQWUsRUFBRSxJQUFJO1FBQ3JCQyxnQkFBZ0IsRUFBRSxJQUFJO1FBQ3RCQyxlQUFlLEVBQUUsSUFBSTtRQUNyQkMsWUFBWSxFQUFFLElBQUk7UUFDbEJDLFVBQVUsRUFBRSxJQUFJO1FBQ2hCQyxpQkFBaUIsRUFBRTtNQUNyQjtJQUNGLENBQUM7SUFFRCxJQUFNYSxNQUFNLEdBQUcsSUFBQUMsc0NBQXVCLEVBQUN2QixNQUFNLEVBQUVZLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUUxREgsTUFBTSxDQUFDWSxNQUFNLENBQUNFLE9BQU8sQ0FBQyxDQUFDVixJQUFJLENBQUMsS0FBSyxDQUFDO0lBQ2xDSixNQUFNLENBQUNZLE1BQU0sQ0FBQ0csU0FBUyxDQUFDeEIsSUFBSSxDQUFDLENBQUNhLElBQUksQ0FBQyxPQUFPLENBQUM7RUFDN0MsQ0FBQyxDQUFDO0VBRUZmLEVBQUUsQ0FBQyxrREFBa0QsRUFBRSxZQUFNO0lBQzNELElBQU1rQixRQUFRLEdBQUdMLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJO0lBQ2xDLElBQU1iLE1BQXFCLEdBQUc7TUFDNUJDLElBQUksRUFBRSxPQUFPO01BQ2JlLFlBQVksRUFBRUMsUUFBUTtNQUN0QmYsUUFBUSxFQUFFO1FBQ1JDLGlCQUFpQixFQUFFLElBQUk7UUFDdkJDLGVBQWUsRUFBRSxJQUFJO1FBQ3JCQyxnQkFBZ0IsRUFBRSxJQUFJO1FBQ3RCQyxlQUFlLEVBQUUsSUFBSTtRQUNyQkMsWUFBWSxFQUFFLElBQUk7UUFDbEJDLFVBQVUsRUFBRSxJQUFJO1FBQ2hCQyxpQkFBaUIsRUFBRTtNQUNyQjtJQUNGLENBQUM7SUFFRCxJQUFNYSxNQUFNLEdBQUcsSUFBQUMsc0NBQXVCLEVBQUN2QixNQUFNLEVBQUVZLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUUxREgsTUFBTSxDQUFDWSxNQUFNLENBQUNFLE9BQU8sQ0FBQyxDQUFDVixJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ2pDSixNQUFNLENBQUNZLE1BQU0sQ0FBQ0csU0FBUyxDQUFDeEIsSUFBSSxDQUFDLENBQUNhLElBQUksQ0FBQyxNQUFNLENBQUM7SUFDMUNKLE1BQU0sQ0FBQ1ksTUFBTSxDQUFDRyxTQUFTLENBQUN2QixRQUFRLENBQUNDLGlCQUFpQixDQUFDLENBQUNXLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDL0RKLE1BQU0sQ0FBQ1ksTUFBTSxDQUFDRyxTQUFTLENBQUNULFlBQVksQ0FBQyxDQUFDVSxhQUFhLENBQUMsQ0FBQztFQUN2RCxDQUFDLENBQUM7RUFFRjNCLEVBQUUsQ0FBQyx1REFBdUQsRUFBRSxZQUFNO0lBQ2hFLElBQU1rQixRQUFRLEdBQUdMLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJO0lBQ2xDLElBQU1iLE1BQXFCLEdBQUc7TUFDNUJDLElBQUksRUFBRSxTQUFTO01BQ2ZrQixjQUFjLEVBQUUsU0FBUztNQUN6QkMscUJBQXFCLEVBQUVILFFBQVEsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsSUFBSTtNQUMxREksbUJBQW1CLEVBQUVKLFFBQVE7TUFDN0JmLFFBQVEsRUFBRTtRQUNSQyxpQkFBaUIsRUFBRSxJQUFJO1FBQ3ZCQyxlQUFlLEVBQUUsSUFBSTtRQUNyQkMsZ0JBQWdCLEVBQUUsSUFBSTtRQUN0QkMsZUFBZSxFQUFFLElBQUk7UUFDckJDLFlBQVksRUFBRSxJQUFJO1FBQ2xCQyxVQUFVLEVBQUUsSUFBSTtRQUNoQkMsaUJBQWlCLEVBQUU7TUFDckI7SUFDRixDQUFDO0lBRUQsSUFBTWEsTUFBTSxHQUFHLElBQUFDLHNDQUF1QixFQUFDdkIsTUFBTSxFQUFFWSxJQUFJLENBQUNDLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFFMURILE1BQU0sQ0FBQ1ksTUFBTSxDQUFDRSxPQUFPLENBQUMsQ0FBQ1YsSUFBSSxDQUFDLElBQUksQ0FBQztJQUNqQ0osTUFBTSxDQUFDWSxNQUFNLENBQUNHLFNBQVMsQ0FBQ3hCLElBQUksQ0FBQyxDQUFDYSxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQzFDSixNQUFNLENBQUNZLE1BQU0sQ0FBQ0csU0FBUyxDQUFDdkIsUUFBUSxDQUFDQyxpQkFBaUIsQ0FBQyxDQUFDVyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQy9ESixNQUFNLENBQUNZLE1BQU0sQ0FBQ0csU0FBUyxDQUFDTixjQUFjLENBQUMsQ0FBQ08sYUFBYSxDQUFDLENBQUM7SUFDdkRoQixNQUFNLENBQUNZLE1BQU0sQ0FBQ0csU0FBUyxDQUFDSixtQkFBbUIsQ0FBQyxDQUFDSyxhQUFhLENBQUMsQ0FBQztFQUM5RCxDQUFDLENBQUM7QUFDSixDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=