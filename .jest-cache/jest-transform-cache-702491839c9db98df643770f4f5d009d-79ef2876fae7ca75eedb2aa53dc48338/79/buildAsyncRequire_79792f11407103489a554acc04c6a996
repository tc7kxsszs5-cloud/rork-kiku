538c01b81053b28a6de245a9872327f0
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.buildAsyncRequire = buildAsyncRequire;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _loadBundle = require("./loadBundle");
function buildAsyncRequire() {
  var cache = new Map();
  return function () {
    var _universal_loadBundleAsync = (0, _asyncToGenerator2.default)(function* (path) {
      if (cache.has(path)) {
        return cache.get(path);
      }
      var promise = (0, _loadBundle.loadBundleAsync)(path).catch(function (error) {
        cache.delete(path);
        throw error;
      });
      cache.set(path, promise);
      return promise;
    });
    function universal_loadBundleAsync(_x) {
      return _universal_loadBundleAsync.apply(this, arguments);
    }
    return universal_loadBundleAsync;
  }();
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbG9hZEJ1bmRsZSIsInJlcXVpcmUiLCJidWlsZEFzeW5jUmVxdWlyZSIsImNhY2hlIiwiTWFwIiwiX3VuaXZlcnNhbF9sb2FkQnVuZGxlQXN5bmMiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJkZWZhdWx0IiwicGF0aCIsImhhcyIsImdldCIsInByb21pc2UiLCJsb2FkQnVuZGxlQXN5bmMiLCJjYXRjaCIsImVycm9yIiwiZGVsZXRlIiwic2V0IiwidW5pdmVyc2FsX2xvYWRCdW5kbGVBc3luYyIsIl94IiwiYXBwbHkiLCJhcmd1bWVudHMiXSwic291cmNlcyI6WyJidWlsZEFzeW5jUmVxdWlyZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCDCqSAyMDIyIDY1MCBJbmR1c3RyaWVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCB7IGxvYWRCdW5kbGVBc3luYyB9IGZyb20gJy4vbG9hZEJ1bmRsZSc7XG5cbi8qKlxuICogTXVzdCBzYXRpc2Z5IHRoZSByZXF1aXJlbWVudHMgb2YgdGhlIE1ldHJvIGJ1bmRsZXIuXG4gKiBodHRwczovL2dpdGh1Yi5jb20vcmVhY3QtbmF0aXZlLWNvbW11bml0eS9kaXNjdXNzaW9ucy1hbmQtcHJvcG9zYWxzL2Jsb2IvbWFpbi9wcm9wb3NhbHMvMDYwNS1sYXp5LWJ1bmRsaW5nLm1kI19fbG9hZGJ1bmRsZWFzeW5jLWluLW1ldHJvXG4gKi9cbnR5cGUgQXN5bmNSZXF1aXJlID0gKHBhdGg6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPjtcblxuLyoqIENyZWF0ZSBhbiBgbG9hZEJ1bmRsZUFzeW5jYCBmdW5jdGlvbiBpbiB0aGUgZXhwZWN0ZWQgc2hhcGUgZm9yIE1ldHJvIGJ1bmRsZXIuICovXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRBc3luY1JlcXVpcmUoKTogQXN5bmNSZXF1aXJlIHtcbiAgY29uc3QgY2FjaGUgPSBuZXcgTWFwPHN0cmluZywgUHJvbWlzZTx2b2lkPj4oKTtcblxuICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gdW5pdmVyc2FsX2xvYWRCdW5kbGVBc3luYyhwYXRoOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoY2FjaGUuaGFzKHBhdGgpKSB7XG4gICAgICByZXR1cm4gY2FjaGUuZ2V0KHBhdGgpITtcbiAgICB9XG5cbiAgICBjb25zdCBwcm9taXNlID0gbG9hZEJ1bmRsZUFzeW5jKHBhdGgpLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgY2FjaGUuZGVsZXRlKHBhdGgpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfSk7XG5cbiAgICBjYWNoZS5zZXQocGF0aCwgcHJvbWlzZSk7XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBT0EsSUFBQUEsV0FBQSxHQUFBQyxPQUFBO0FBU08sU0FBU0MsaUJBQWlCQSxDQUFBLEVBQWlCO0VBQ2hELElBQU1DLEtBQUssR0FBRyxJQUFJQyxHQUFHLENBQXdCLENBQUM7RUFFOUM7SUFBQSxJQUFBQywwQkFBQSxPQUFBQyxrQkFBQSxDQUFBQyxPQUFBLEVBQU8sV0FBeUNDLElBQVksRUFBaUI7TUFDM0UsSUFBSUwsS0FBSyxDQUFDTSxHQUFHLENBQUNELElBQUksQ0FBQyxFQUFFO1FBQ25CLE9BQU9MLEtBQUssQ0FBQ08sR0FBRyxDQUFDRixJQUFJLENBQUM7TUFDeEI7TUFFQSxJQUFNRyxPQUFPLEdBQUcsSUFBQUMsMkJBQWUsRUFBQ0osSUFBSSxDQUFDLENBQUNLLEtBQUssQ0FBQyxVQUFDQyxLQUFLLEVBQUs7UUFDckRYLEtBQUssQ0FBQ1ksTUFBTSxDQUFDUCxJQUFJLENBQUM7UUFDbEIsTUFBTU0sS0FBSztNQUNiLENBQUMsQ0FBQztNQUVGWCxLQUFLLENBQUNhLEdBQUcsQ0FBQ1IsSUFBSSxFQUFFRyxPQUFPLENBQUM7TUFFeEIsT0FBT0EsT0FBTztJQUNoQixDQUFDO0lBQUEsU0FicUJNLHlCQUF5QkEsQ0FBQUMsRUFBQTtNQUFBLE9BQUFiLDBCQUFBLENBQUFjLEtBQUEsT0FBQUMsU0FBQTtJQUFBO0lBQUEsT0FBekJILHlCQUF5QjtFQUFBO0FBY2pEIiwiaWdub3JlTGlzdCI6W119