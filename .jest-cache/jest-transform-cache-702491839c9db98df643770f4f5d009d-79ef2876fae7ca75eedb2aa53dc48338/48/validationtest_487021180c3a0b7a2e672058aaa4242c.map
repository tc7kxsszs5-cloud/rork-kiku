{"version":3,"names":["isUuid","describe","it","uuid","expect","toBe","validUuids","forEach","undefined","id","notUuid","longString","repeat"],"sources":["validation.test.ts"],"sourcesContent":["/**\n * Детерминированные модульные тесты для validation.ts\n * \n * Только чистые функции:\n * - Нет интеграций\n * - Нет асинхронных операций\n * - Нет сложных моков\n * - Одинаковый вход = одинаковый выход\n */\n\nimport { isUuid } from '@/utils/validation';\n\ndescribe('validation - Детерминированные unit тесты', () => {\n  describe('isUuid', () => {\n    describe('Валидные UUID', () => {\n      it('должен вернуть true для валидного UUID v1', () => {\n        const uuid = '550e8400-e29b-41d4-a716-446655440000';\n        expect(isUuid(uuid)).toBe(true);\n      });\n\n      it('должен вернуть true для валидного UUID v4', () => {\n        const uuid = '550e8400-e29b-41d4-a716-446655440000';\n        expect(isUuid(uuid)).toBe(true);\n      });\n\n      it('должен вернуть true для UUID в верхнем регистре', () => {\n        const uuid = '550E8400-E29B-41D4-A716-446655440000';\n        expect(isUuid(uuid)).toBe(true);\n      });\n\n      it('должен вернуть true для UUID в смешанном регистре', () => {\n        const uuid = '550e8400-E29B-41d4-A716-446655440000';\n        expect(isUuid(uuid)).toBe(true);\n      });\n\n      it('должен вернуть true для реальных UUID примеров', () => {\n        const validUuids = [\n          '123e4567-e89b-12d3-a456-426614174000',\n          '00000000-0000-1000-8000-000000000000', // версия 1\n          'ffffffff-ffff-4fff-bfff-ffffffffffff', // версия 4\n          '01234567-89ab-1def-8123-456789abcdef', // версия 1, вариант 8\n        ];\n        validUuids.forEach((uuid) => {\n          expect(isUuid(uuid)).toBe(true);\n        });\n      });\n    });\n\n    describe('Невалидные UUID', () => {\n      it('должен вернуть false для пустой строки', () => {\n        expect(isUuid('')).toBe(false);\n      });\n\n      it('должен вернуть false для неправильного формата (нет дефисов)', () => {\n        expect(isUuid('550e8400e29b41d4a716446655440000')).toBe(false);\n      });\n\n      it('должен вернуть false для неправильного количества сегментов', () => {\n        expect(isUuid('550e8400-e29b-41d4-a716')).toBe(false);\n        expect(isUuid('550e8400-e29b-41d4-a716-446655440000-extra')).toBe(false);\n      });\n\n      it('должен вернуть false для неправильной длины сегментов', () => {\n        expect(isUuid('550e8400-e29b-41d4-a71-446655440000')).toBe(false);\n        expect(isUuid('550e8400-e29b-41d4-a7161-446655440000')).toBe(false);\n      });\n\n      it('должен вернуть false для неправильной версии (не 1-5)', () => {\n        // Версия указана в третьем сегменте, первый символ должен быть 1-5\n        expect(isUuid('550e8400-e29b-61d4-a716-446655440000')).toBe(false); // версия 6\n        expect(isUuid('550e8400-e29b-01d4-a716-446655440000')).toBe(false); // версия 0\n        expect(isUuid('550e8400-e29b-91d4-a716-446655440000')).toBe(false); // версия 9\n      });\n\n      it('должен вернуть false для неправильного варианта (четвертый сегмент)', () => {\n        // Вариант указан в четвертом сегменте, первый символ должен быть 8, 9, a, b\n        expect(isUuid('550e8400-e29b-41d4-c716-446655440000')).toBe(false); // вариант c\n        expect(isUuid('550e8400-e29b-41d4-0716-446655440000')).toBe(false); // вариант 0\n        expect(isUuid('550e8400-e29b-41d4-f716-446655440000')).toBe(false); // вариант f\n      });\n\n      it('должен вернуть false для неhex символов', () => {\n        expect(isUuid('550e8400-e29b-41d4-a716-44665544g000')).toBe(false); // g не hex\n        expect(isUuid('550e8400-e29b-41d4-a716-44665544z000')).toBe(false); // z не hex\n        expect(isUuid('550e8400-e29b-41d4-a716-44665544!000')).toBe(false); // ! не hex\n      });\n\n      it('должен вернуть false для обычных строк', () => {\n        expect(isUuid('not-a-uuid')).toBe(false);\n        expect(isUuid('hello world')).toBe(false);\n        expect(isUuid('12345')).toBe(false);\n      });\n\n      it('должен вернуть false для UUID с пробелами', () => {\n        expect(isUuid('550e8400-e29b-41d4-a716-44665544000 ')).toBe(false);\n        expect(isUuid(' 550e8400-e29b-41d4-a716-446655440000')).toBe(false);\n        expect(isUuid('550e8400-e29b-41d4-a716-446655440000 ')).toBe(false);\n      });\n    });\n\n    describe('Неподходящие типы', () => {\n      it('должен вернуть false для null', () => {\n        expect(isUuid(null)).toBe(false);\n      });\n\n      it('должен вернуть false для undefined', () => {\n        expect(isUuid(undefined)).toBe(false);\n      });\n\n      it('должен вернуть false для числа', () => {\n        expect(isUuid(12345)).toBe(false);\n        expect(isUuid(0)).toBe(false);\n      });\n\n      it('должен вернуть false для объекта', () => {\n        expect(isUuid({})).toBe(false);\n        expect(isUuid({ id: '550e8400-e29b-41d4-a716-446655440000' })).toBe(false);\n      });\n\n      it('должен вернуть false для массива', () => {\n        expect(isUuid([])).toBe(false);\n        expect(isUuid(['550e8400-e29b-41d4-a716-446655440000'])).toBe(false);\n      });\n\n      it('должен вернуть false для boolean', () => {\n        expect(isUuid(true)).toBe(false);\n        expect(isUuid(false)).toBe(false);\n      });\n    });\n\n    describe('Детерминированность', () => {\n      it('должен быть детерминированным для одинаковых входных данных', () => {\n        const uuid = '550e8400-e29b-41d4-a716-446655440000';\n        expect(isUuid(uuid)).toBe(true);\n        expect(isUuid(uuid)).toBe(true);\n        expect(isUuid(uuid)).toBe(true);\n      });\n\n      it('должен быть детерминированным для невалидных данных', () => {\n        const notUuid = 'not-a-uuid';\n        expect(isUuid(notUuid)).toBe(false);\n        expect(isUuid(notUuid)).toBe(false);\n        expect(isUuid(notUuid)).toBe(false);\n      });\n    });\n\n    describe('Edge cases', () => {\n      it('должен обработать очень длинную строку', () => {\n        const longString = '550e8400-e29b-41d4-a716-446655440000' + 'a'.repeat(1000);\n        expect(isUuid(longString)).toBe(false);\n      });\n\n      it('должен обработать строку похожую на UUID но с лишними символами', () => {\n        expect(isUuid('550e8400-e29b-41d4-a716-446655440000-extra')).toBe(false);\n      });\n\n      it('должен обработать строку с правильным форматом но неверной версией', () => {\n        // Формат правильный, но версия должна быть 1-5\n        expect(isUuid('550e8400-e29b-61d4-a716-446655440000')).toBe(false); // версия 6\n      });\n\n      it('должен обработать строку с правильным форматом но неверным вариантом', () => {\n        // Формат правильный, но вариант должен быть 8, 9, a, b\n        expect(isUuid('550e8400-e29b-41d4-c716-446655440000')).toBe(false); // вариант c\n      });\n    });\n  });\n});\n"],"mappings":"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","ignoreList":[]}