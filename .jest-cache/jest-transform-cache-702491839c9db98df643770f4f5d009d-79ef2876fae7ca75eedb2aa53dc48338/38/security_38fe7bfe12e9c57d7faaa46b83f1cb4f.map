{"version":3,"names":["sanitizeString","input","maxLength","arguments","length","undefined","cov_1bpuqqcr1o","b","f","s","sanitized","trim","slice","replace","sanitizeDeviceId","deviceId","Error","sanitizeJSON","data","maxSize","jsonString","JSON","stringify","deepSanitize","obj","depth","Array","isArray","map","item","_ref","Object","entries","_ref2","_slicedToArray","key","value","sanitizedKey","validateTimestamp","timestamp","isNaN","minTimestamp","maxTimestamp","Math","floor","validateArrayLength","arr","containsXSS","xssPatterns","some","pattern","test","sanitizeEmail","email","toLowerCase","emailRegex","sanitizePhone","phone","startsWith"],"sources":["security.ts"],"sourcesContent":["/**\n * Security utilities for input validation and sanitization\n */\n\n/**\n * Sanitize string input - remove dangerous characters\n */\nexport function sanitizeString(input: string, maxLength: number = 1000): string {\n  if (!input || typeof input !== 'string') {\n    return '';\n  }\n\n  // Trim and limit length\n  let sanitized = input.trim().slice(0, maxLength);\n\n  // Remove null bytes and control characters (except newlines and tabs)\n  sanitized = sanitized.replace(/[\\x00-\\x08\\x0B-\\x0C\\x0E-\\x1F\\x7F]/g, '');\n\n  // Remove potential SQL injection patterns (basic protection)\n  // Note: Supabase SDK already protects against SQL injection, but this adds extra layer\n  sanitized = sanitized.replace(/['\";\\\\]/g, '');\n\n  return sanitized;\n}\n\n/**\n * Sanitize device ID - alphanumeric, dashes, underscores only\n */\nexport function sanitizeDeviceId(deviceId: string): string {\n  if (!deviceId || typeof deviceId !== 'string') {\n    throw new Error('Invalid device ID');\n  }\n\n  // Only allow alphanumeric, dashes, underscores, dots\n  const sanitized = deviceId.replace(/[^a-zA-Z0-9._-]/g, '');\n\n  if (sanitized.length < 1 || sanitized.length > 100) {\n    throw new Error('Device ID must be between 1 and 100 characters');\n  }\n\n  return sanitized;\n}\n\n/**\n * Validate and sanitize JSON data\n */\nexport function sanitizeJSON(data: any, maxSize: number = 100000): any {\n  if (!data) {\n    return null;\n  }\n\n  // Check size\n  const jsonString = JSON.stringify(data);\n  if (jsonString.length > maxSize) {\n    throw new Error(`Data size exceeds maximum allowed size of ${maxSize} bytes`);\n  }\n\n  // Deep sanitize strings in object\n  return deepSanitize(data);\n}\n\n/**\n * Deep sanitize object - recursively sanitize all string values\n */\nfunction deepSanitize(obj: any, depth: number = 0): any {\n  if (depth > 10) {\n    // Prevent infinite recursion\n    throw new Error('Object depth exceeds maximum');\n  }\n\n  if (obj === null || obj === undefined) {\n    return obj;\n  }\n\n  if (typeof obj === 'string') {\n    return sanitizeString(obj);\n  }\n\n  if (typeof obj === 'number' || typeof obj === 'boolean') {\n    return obj;\n  }\n\n  if (Array.isArray(obj)) {\n    return obj.map(item => deepSanitize(item, depth + 1));\n  }\n\n  if (typeof obj === 'object') {\n    const sanitized: any = {};\n    for (const [key, value] of Object.entries(obj)) {\n      // Sanitize key\n      const sanitizedKey = sanitizeString(key, 100);\n      if (sanitizedKey) {\n        sanitized[sanitizedKey] = deepSanitize(value, depth + 1);\n      }\n    }\n    return sanitized;\n  }\n\n  return obj;\n}\n\n/**\n * Validate timestamp\n */\nexport function validateTimestamp(timestamp: number): number {\n  if (typeof timestamp !== 'number' || isNaN(timestamp)) {\n    throw new Error('Invalid timestamp');\n  }\n\n  // Timestamp must be reasonable (between 2000 and 2100)\n  const minTimestamp = 946684800000; // 2000-01-01\n  const maxTimestamp = 4102444800000; // 2100-01-01\n\n  if (timestamp < minTimestamp || timestamp > maxTimestamp) {\n    throw new Error('Timestamp out of valid range');\n  }\n\n  return Math.floor(timestamp);\n}\n\n/**\n * Validate array length\n */\nexport function validateArrayLength<T>(arr: T[], maxLength: number = 1000): T[] {\n  if (!Array.isArray(arr)) {\n    throw new Error('Expected an array');\n  }\n\n  if (arr.length > maxLength) {\n    throw new Error(`Array length exceeds maximum of ${maxLength} items`);\n  }\n\n  return arr;\n}\n\n/**\n * Check for potential XSS in string\n */\nexport function containsXSS(input: string): boolean {\n  if (!input || typeof input !== 'string') {\n    return false;\n  }\n\n  // Check for common XSS patterns\n  const xssPatterns = [\n    /<script/i,\n    /javascript:/i,\n    /on\\w+\\s*=/i, // onclick=, onerror=, etc.\n    /<iframe/i,\n    /<object/i,\n    /<embed/i,\n  ];\n\n  return xssPatterns.some(pattern => pattern.test(input));\n}\n\n/**\n * Sanitize and validate email\n */\nexport function sanitizeEmail(email: string): string {\n  if (!email || typeof email !== 'string') {\n    throw new Error('Invalid email');\n  }\n\n  const sanitized = email.trim().toLowerCase();\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n\n  if (!emailRegex.test(sanitized) || sanitized.length > 254) {\n    throw new Error('Invalid email format');\n  }\n\n  return sanitized;\n}\n\n/**\n * Sanitize and validate phone number\n */\nexport function sanitizePhone(phone: string): string {\n  if (!phone || typeof phone !== 'string') {\n    throw new Error('Invalid phone');\n  }\n\n  // Remove all non-digit characters except +\n  const sanitized = phone.replace(/[^\\d+]/g, '');\n\n  // Basic validation: should start with + and have 10-15 digits\n  if (!sanitized.startsWith('+') || sanitized.length < 11 || sanitized.length > 16) {\n    throw new Error('Invalid phone format');\n  }\n\n  return sanitized;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}