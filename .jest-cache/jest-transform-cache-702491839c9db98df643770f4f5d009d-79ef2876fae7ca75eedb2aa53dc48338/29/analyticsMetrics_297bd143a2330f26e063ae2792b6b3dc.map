{"version":3,"names":["DEFAULT_METRICS","cov_4oxc1v8tz","s","totalMessages","totalAlerts","totalSOS","messagesAnalyzed","alertsResolved","averageRiskLevel","mostActiveChat","riskDistribution","safe","low","medium","high","critical","eventsByType","dailyActivity","totalInstalls","totalActivations","activationRate","totalSessions","averageSessionDuration","retention","d1","d7","d30","featureUsage","premiumSubscribers","premiumTrialUsers","premiumConversionRate","dau","mau","threatDetectionRate","falsePositiveRate","falseNegativeRate","averageAlertResponseTime","averageSOSResponseTime","aiAnalysisAccuracy","aiAnalysisSpeed","imageAnalysisAccuracy","sessionsPerUserWeekly","messagesAnalyzedPerDay","featureAdoptionRate","parentChildPairCompletionRate","geographicExpansion","appStoreRating","nps","arr","cac","ltv","ltvCacRatio","userGrowthRate","calculateMetrics","events","_userSessionsByDate$t","f","baseMetrics","Object","assign","riskCounts","chatActivity","totalRiskScore","riskCount","installDates","Set","activationDates","sessionStarts","sessionEnds","featureUsageCounts","userSessionsByDate","userFirstSeen","userLastSeen","forEach","eventData","_eventData$properties","_eventData$properties2","_eventData$properties3","_eventData$properties4","_eventData$properties5","_eventData$properties6","_eventData$properties7","_eventData$properties8","_eventData$properties9","_eventData$properties10","event","b","userId","properties","eventDate","Date","timestamp","toISOString","split","riskLevel","risk","riskScores","chatId","add","push","startEvent","find","duration","featureName","feature","alertCreatedTime","responseTime","_responseTime","sosTriggeredTime","analysisTime","_analysisTime","screenName","screen","mostActiveChatId","entries","reduce","max","_ref","_ref2","_slicedToArray2","default","id","count","size","length","sessionDurations","filter","undefined","map","sum","d","today","thirtyDaysAgoDate","now","mauUsers","_ref3","_ref4","date","users","oneDayAgo","sevenDaysAgo","thirtyDaysAgoTimestamp","usersWithFirstSeen","usersWithLastSeen","d1Users","_ref5","_ref6","firstSeen","lastSeen","d7Users","_ref7","_ref8","d30Users","_ref9","_ref10","alertsCreated","e","falsePositives","threatsConfirmed","alertNotifications","sosNotifications","aiAnalyses","imageAnalyses","estimatedMissedThreats","Math","alertResponseTimes","_e$properties","t","sosResponseTimes","_e$properties2","aiAnalysisTimes","_e$properties3","totalAnalyses","correctAnalyses","uniqueUsers","keys","sevenDaysAgoTimestamp","sessionsLastWeek","messagesAnalyzedEvents","daysWithMessages","usersUsingFeatures","_e$properties4","pairsStarted","pairsCompleted","countries","_e$properties5","country","c","premiumPrice","averageLifetimeMonths","currentMAU","previousMAU","dailyMap","_ref11","_ref12","sort","a","localeCompare","slice"],"sources":["analyticsMetrics.ts"],"sourcesContent":["/**\n * Чистые детерминированные функции для вычисления аналитических метрик\n * Вынесено из AnalyticsContext для модульного тестирования\n */\n\nimport { AnalyticsEvent, AnalyticsEventData, AnalyticsMetrics } from '@/constants/AnalyticsContext';\n\nconst DEFAULT_METRICS: AnalyticsMetrics = {\n  totalMessages: 0,\n  totalAlerts: 0,\n  totalSOS: 0,\n  messagesAnalyzed: 0,\n  alertsResolved: 0,\n  averageRiskLevel: 0,\n  mostActiveChat: null,\n  riskDistribution: {\n    safe: 0,\n    low: 0,\n    medium: 0,\n    high: 0,\n    critical: 0,\n  },\n  eventsByType: {} as Record<AnalyticsEvent, number>,\n  dailyActivity: [],\n  // KPI Metrics\n  totalInstalls: 0,\n  totalActivations: 0,\n  activationRate: 0,\n  totalSessions: 0,\n  averageSessionDuration: 0,\n  retention: {\n    d1: 0,\n    d7: 0,\n    d30: 0,\n  },\n  featureUsage: {},\n  premiumSubscribers: 0,\n  premiumTrialUsers: 0,\n  premiumConversionRate: 0,\n  dau: 0,\n  mau: 0,\n  // Security KPIs\n  threatDetectionRate: 0,\n  falsePositiveRate: 0,\n  falseNegativeRate: 0,\n  averageAlertResponseTime: 0,\n  averageSOSResponseTime: 0,\n  aiAnalysisAccuracy: 0,\n  aiAnalysisSpeed: 0,\n  imageAnalysisAccuracy: 0,\n  // Engagement KPIs\n  sessionsPerUserWeekly: 0,\n  messagesAnalyzedPerDay: 0,\n  featureAdoptionRate: 0,\n  parentChildPairCompletionRate: 0,\n  // Market KPIs\n  geographicExpansion: 0,\n  appStoreRating: 0,\n  nps: 0,\n  // Revenue KPIs\n  arr: 0,\n  cac: 0,\n  ltv: 0,\n  ltvCacRatio: 0,\n  userGrowthRate: 0,\n};\n\n/**\n * Вычисляет метрики на основе массива событий\n * Чистая детерминированная функция - идеальна для модульного тестирования\n */\nexport function calculateMetrics(events: AnalyticsEventData[]): AnalyticsMetrics {\n  const baseMetrics = { ...DEFAULT_METRICS };\n  const eventsByType: Record<string, number> = {};\n  const riskCounts: Record<string, number> = {\n    safe: 0,\n    low: 0,\n    medium: 0,\n    high: 0,\n    critical: 0,\n  };\n  const chatActivity: Record<string, number> = {};\n  let totalRiskScore = 0;\n  let riskCount = 0;\n\n  // KPI tracking\n  const installDates = new Set<number>();\n  const activationDates = new Set<number>();\n  const sessionStarts: Array<{ timestamp: number; userId?: string; duration?: number }> = [];\n  const sessionEnds: Array<{ timestamp: number; userId?: string }> = [];\n  const featureUsageCounts: Record<string, number> = {};\n  const userSessionsByDate: Record<string, Set<string>> = {}; // date -> Set<userId>\n  const userFirstSeen: Record<string, number> = {}; // userId -> first seen timestamp\n  const userLastSeen: Record<string, number> = {}; // userId -> last seen timestamp\n\n  events.forEach((eventData) => {\n    // Подсчет событий по типам\n    eventsByType[eventData.event] = (eventsByType[eventData.event] || 0) + 1;\n\n    const userId = eventData.properties?.userId as string | undefined;\n    const eventDate = new Date(eventData.timestamp).toISOString().split('T')[0];\n\n    // Специфичная логика для разных событий\n    switch (eventData.event) {\n      case 'message_sent':\n        baseMetrics.totalMessages++;\n        break;\n      case 'message_analyzed':\n        baseMetrics.messagesAnalyzed++;\n        if (eventData.properties?.riskLevel) {\n          const risk = eventData.properties.riskLevel as string;\n          if (risk in riskCounts) {\n            riskCounts[risk]++;\n          }\n          // Вычисление среднего уровня риска (0=safe, 1=low, 2=medium, 3=high, 4=critical)\n          const riskScores: Record<string, number> = {\n            safe: 0,\n            low: 1,\n            medium: 2,\n            high: 3,\n            critical: 4,\n          };\n          totalRiskScore += riskScores[risk] || 0;\n          riskCount++;\n        }\n        if (eventData.properties?.chatId) {\n          const chatId = eventData.properties.chatId as string;\n          chatActivity[chatId] = (chatActivity[chatId] || 0) + 1;\n        }\n        break;\n      case 'alert_created':\n        baseMetrics.totalAlerts++;\n        break;\n      case 'alert_resolved':\n        baseMetrics.alertsResolved++;\n        break;\n      case 'sos_triggered':\n        baseMetrics.totalSOS++;\n        break;\n      case 'app_installed':\n        if (eventData.properties?.timestamp) {\n          installDates.add(eventData.properties.timestamp as number);\n        }\n        break;\n      case 'user_activated':\n        if (eventData.properties?.timestamp) {\n          activationDates.add(eventData.properties.timestamp as number);\n        }\n        break;\n      case 'session_started':\n        sessionStarts.push({\n          timestamp: eventData.timestamp,\n          userId: userId,\n        });\n        if (userId) {\n          if (!userFirstSeen[userId]) {\n            userFirstSeen[userId] = eventData.timestamp;\n          }\n          userLastSeen[userId] = eventData.timestamp;\n          if (!userSessionsByDate[eventDate]) {\n            userSessionsByDate[eventDate] = new Set();\n          }\n          userSessionsByDate[eventDate].add(userId);\n        }\n        break;\n      case 'session_ended':\n        sessionEnds.push({\n          timestamp: eventData.timestamp,\n          userId: userId,\n        });\n        // Вычисляем длительность сессии, если есть соответствующий session_started\n        if (userId) {\n          const startEvent = sessionStarts.find(\n            (s) => s.userId === userId && s.timestamp <= eventData.timestamp\n          );\n          if (startEvent) {\n            const duration = (eventData.timestamp - startEvent.timestamp) / 1000 / 60; // в минутах\n            if (!startEvent.duration) {\n              startEvent.duration = duration;\n            }\n          }\n        }\n        break;\n      case 'feature_used':\n        const featureName = eventData.properties?.feature as string;\n        if (featureName) {\n          featureUsageCounts[featureName] = (featureUsageCounts[featureName] || 0) + 1;\n        }\n        break;\n      case 'premium_subscribed':\n        baseMetrics.premiumSubscribers++;\n        break;\n      case 'premium_trial_started':\n        baseMetrics.premiumTrialUsers++;\n        break;\n      case 'alert_notification_sent':\n        // Для расчета времени отклика\n        if (eventData.properties?.alertCreatedTime) {\n          const responseTime = (eventData.timestamp - (eventData.properties.alertCreatedTime as number)) / 1000; // секунды\n          // Сохраняем для расчета среднего\n          if (!eventData.properties._responseTime) {\n            (eventData.properties as any)._responseTime = responseTime;\n          }\n        }\n        break;\n      case 'sos_notification_sent':\n        // Для расчета времени отклика SOS\n        if (eventData.properties?.sosTriggeredTime) {\n          const responseTime = (eventData.timestamp - (eventData.properties.sosTriggeredTime as number)) / 1000; // секунды\n          if (!eventData.properties._responseTime) {\n            (eventData.properties as any)._responseTime = responseTime;\n          }\n        }\n        break;\n      case 'ai_analysis_completed':\n        // Для расчета скорости и точности AI\n        if (eventData.properties?.analysisTime) {\n          const analysisTime = eventData.properties.analysisTime as number;\n          if (!eventData.properties._analysisTime) {\n            (eventData.properties as any)._analysisTime = analysisTime;\n          }\n        }\n        break;\n      case 'false_positive_reported':\n        // Для расчета false positive rate\n        break;\n      case 'threat_confirmed':\n        // Для расчета threat detection rate\n        break;\n      case 'parent_child_pair_completed':\n        // Для расчета completion rate\n        break;\n      case 'screen_viewed':\n        // Для отслеживания использования функций\n        const screenName = eventData.properties?.screen as string;\n        if (screenName) {\n          featureUsageCounts[`screen_${screenName}`] = (featureUsageCounts[`screen_${screenName}`] || 0) + 1;\n        }\n        break;\n    }\n  });\n\n  // Находим самый активный чат\n  const mostActiveChatId = Object.entries(chatActivity).reduce(\n    (max, [id, count]) => (count > (chatActivity[max] || 0) ? id : max),\n    ''\n  );\n\n  baseMetrics.averageRiskLevel = riskCount > 0 ? totalRiskScore / riskCount : 0;\n  baseMetrics.mostActiveChat = mostActiveChatId || null;\n  baseMetrics.riskDistribution = riskCounts as AnalyticsMetrics['riskDistribution'];\n  baseMetrics.eventsByType = eventsByType as Record<AnalyticsEvent, number>;\n\n  // KPI Calculations\n  baseMetrics.totalInstalls = installDates.size;\n  baseMetrics.totalActivations = activationDates.size;\n  baseMetrics.activationRate = baseMetrics.totalInstalls > 0 \n    ? baseMetrics.totalActivations / baseMetrics.totalInstalls \n    : 0;\n\n  baseMetrics.totalSessions = sessionStarts.length;\n  const sessionDurations = sessionStarts.filter(s => s.duration !== undefined).map(s => s.duration!);\n  baseMetrics.averageSessionDuration = sessionDurations.length > 0\n    ? sessionDurations.reduce((sum, d) => sum + d, 0) / sessionDurations.length\n    : 0;\n\n  baseMetrics.featureUsage = featureUsageCounts;\n\n  // Premium metrics\n  baseMetrics.premiumConversionRate = baseMetrics.totalActivations > 0\n    ? baseMetrics.premiumSubscribers / baseMetrics.totalActivations\n    : 0;\n\n  // DAU/MAU calculation\n  const today = new Date().toISOString().split('T')[0];\n  const thirtyDaysAgoDate = new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0];\n  \n  baseMetrics.dau = userSessionsByDate[today]?.size || 0;\n  \n  const mauUsers = new Set<string>();\n  Object.entries(userSessionsByDate).forEach(([date, users]) => {\n    if (date >= thirtyDaysAgoDate && date <= today) {\n      users.forEach(userId => mauUsers.add(userId));\n    }\n  });\n  baseMetrics.mau = mauUsers.size;\n\n  // Retention calculation (D1, D7, D30)\n  const now = Date.now();\n  const oneDayAgo = now - 24 * 60 * 60 * 1000;\n  const sevenDaysAgo = now - 7 * 24 * 60 * 60 * 1000;\n  const thirtyDaysAgoTimestamp = now - 30 * 24 * 60 * 60 * 1000;\n\n  const usersWithFirstSeen = Object.entries(userFirstSeen);\n  const usersWithLastSeen = Object.entries(userLastSeen);\n\n  // D1 retention: пользователи, которые вернулись через 1 день после первого визита\n  const d1Users = usersWithFirstSeen.filter(([userId, firstSeen]) => {\n    const lastSeen = userLastSeen[userId];\n    return lastSeen && lastSeen >= firstSeen + 24 * 60 * 60 * 1000 && lastSeen <= firstSeen + 2 * 24 * 60 * 60 * 1000;\n  }).length;\n  baseMetrics.retention.d1 = usersWithFirstSeen.length > 0 ? d1Users / usersWithFirstSeen.length : 0;\n\n  // D7 retention: пользователи, которые вернулись через 7 дней\n  const d7Users = usersWithFirstSeen.filter(([userId, firstSeen]) => {\n    const lastSeen = userLastSeen[userId];\n    return lastSeen && lastSeen >= firstSeen + 7 * 24 * 60 * 60 * 1000;\n  }).length;\n  baseMetrics.retention.d7 = usersWithFirstSeen.length > 0 ? d7Users / usersWithFirstSeen.length : 0;\n\n  // D30 retention: пользователи, которые вернулись через 30 дней\n  const d30Users = usersWithFirstSeen.filter(([userId, firstSeen]) => {\n    const lastSeen = userLastSeen[userId];\n    return lastSeen && lastSeen >= firstSeen + 30 * 24 * 60 * 60 * 1000;\n  }).length;\n  baseMetrics.retention.d30 = usersWithFirstSeen.length > 0 ? d30Users / usersWithFirstSeen.length : 0;\n\n  // Security KPIs Calculation\n  const alertsCreated = events.filter(e => e.event === 'alert_created');\n  const alertsResolved = events.filter(e => e.event === 'alert_resolved');\n  const falsePositives = events.filter(e => e.event === 'false_positive_reported').length;\n  const threatsConfirmed = events.filter(e => e.event === 'threat_confirmed').length;\n  const alertNotifications = events.filter(e => e.event === 'alert_notification_sent');\n  const sosNotifications = events.filter(e => e.event === 'sos_notification_sent');\n  const aiAnalyses = events.filter(e => e.event === 'ai_analysis_completed');\n  const imageAnalyses = events.filter(e => e.event === 'image_analysis_completed');\n\n  // Threat Detection Rate: threats confirmed / total threats (alerts created)\n  baseMetrics.threatDetectionRate = alertsCreated.length > 0\n    ? threatsConfirmed / alertsCreated.length\n    : 0;\n\n  // False Positive Rate: false positives / total alerts\n  baseMetrics.falsePositiveRate = alertsCreated.length > 0\n    ? falsePositives / alertsCreated.length\n    : 0;\n\n  // False Negative Rate: missed threats / total threats (estimated)\n  // Это сложнее вычислить без внешних данных, используем консервативную оценку\n  const estimatedMissedThreats = Math.max(0, alertsCreated.length - threatsConfirmed - falsePositives);\n  baseMetrics.falseNegativeRate = alertsCreated.length > 0\n    ? estimatedMissedThreats / alertsCreated.length\n    : 0;\n\n  // Average Alert Response Time\n  const alertResponseTimes = alertNotifications\n    .map(e => e.properties?._responseTime as number | undefined)\n    .filter((t): t is number => t !== undefined);\n  baseMetrics.averageAlertResponseTime = alertResponseTimes.length > 0\n    ? alertResponseTimes.reduce((sum, t) => sum + t, 0) / alertResponseTimes.length\n    : 0;\n\n  // Average SOS Response Time\n  const sosResponseTimes = sosNotifications\n    .map(e => e.properties?._responseTime as number | undefined)\n    .filter((t): t is number => t !== undefined);\n  baseMetrics.averageSOSResponseTime = sosResponseTimes.length > 0\n    ? sosResponseTimes.reduce((sum, t) => sum + t, 0) / sosResponseTimes.length\n    : 0;\n\n  // AI Analysis Speed\n  const aiAnalysisTimes = aiAnalyses\n    .map(e => e.properties?._analysisTime as number | undefined)\n    .filter((t): t is number => t !== undefined);\n  baseMetrics.aiAnalysisSpeed = aiAnalysisTimes.length > 0\n    ? aiAnalysisTimes.reduce((sum, t) => sum + t, 0) / aiAnalysisTimes.length\n    : 0;\n\n  // AI Analysis Accuracy (simplified: based on resolved alerts vs false positives)\n  const totalAnalyses = baseMetrics.messagesAnalyzed + imageAnalyses.length;\n  const correctAnalyses = alertsResolved.length; // Resolved alerts indicate correct detection\n  baseMetrics.aiAnalysisAccuracy = totalAnalyses > 0\n    ? correctAnalyses / totalAnalyses\n    : 0;\n\n  // Image Analysis Accuracy (simplified)\n  baseMetrics.imageAnalysisAccuracy = imageAnalyses.length > 0\n    ? correctAnalyses / imageAnalyses.length\n    : 0;\n\n  // Engagement KPIs\n  // Sessions per User Weekly\n  const uniqueUsers = new Set(Object.keys(userFirstSeen));\n  const sevenDaysAgoTimestamp = Date.now() - 7 * 24 * 60 * 60 * 1000;\n  const sessionsLastWeek = sessionStarts.filter(s => s.timestamp >= sevenDaysAgoTimestamp).length;\n  baseMetrics.sessionsPerUserWeekly = uniqueUsers.size > 0\n    ? sessionsLastWeek / uniqueUsers.size\n    : 0;\n\n  // Messages Analyzed per Day (average)\n  const messagesAnalyzedEvents = events.filter(e => e.event === 'message_analyzed');\n  const daysWithMessages = new Set(messagesAnalyzedEvents.map(e => \n    new Date(e.timestamp).toISOString().split('T')[0]\n  )).size;\n  baseMetrics.messagesAnalyzedPerDay = daysWithMessages > 0\n    ? messagesAnalyzedEvents.length / daysWithMessages\n    : 0;\n\n  // Feature Adoption Rate: users using features / total users\n  const usersUsingFeatures = new Set(\n    events\n      .filter(e => e.event === 'feature_used' || e.event === 'screen_viewed')\n      .map(e => e.properties?.userId as string)\n      .filter((id): id is string => id !== undefined)\n  ).size;\n  baseMetrics.featureAdoptionRate = uniqueUsers.size > 0\n    ? usersUsingFeatures / uniqueUsers.size\n    : 0;\n\n  // Parent-Child Pair Completion Rate\n  const pairsStarted = events.filter(e => e.event === 'user_activated').length;\n  const pairsCompleted = events.filter(e => e.event === 'parent_child_pair_completed').length;\n  baseMetrics.parentChildPairCompletionRate = pairsStarted > 0\n    ? pairsCompleted / pairsStarted\n    : 0;\n\n  // Market KPIs (these would typically come from external sources)\n  // Geographic Expansion: count unique countries from events (if tracked)\n  const countries = new Set(\n    events\n      .map(e => e.properties?.country as string)\n      .filter((c): c is string => c !== undefined)\n  );\n  baseMetrics.geographicExpansion = countries.size;\n\n  // App Store Rating: would come from external API, default to 0\n  baseMetrics.appStoreRating = 0;\n\n  // NPS: would come from surveys, default to 0\n  baseMetrics.nps = 0;\n\n  // Revenue KPIs (calculated from premium data and modeling)\n  // ARR: Annual Recurring Revenue (from premium subscriptions)\n  const premiumPrice = 9.99; // Monthly premium price\n  baseMetrics.arr = baseMetrics.premiumSubscribers * premiumPrice * 12;\n\n  // CAC: Customer Acquisition Cost (would come from marketing data)\n  // Default estimate: $4 per user\n  baseMetrics.cac = 4;\n\n  // LTV: Lifetime Value (premium price * average lifetime in months)\n  const averageLifetimeMonths = 12; // Estimated\n  baseMetrics.ltv = premiumPrice * averageLifetimeMonths * baseMetrics.premiumConversionRate;\n\n  // LTV/CAC Ratio\n  baseMetrics.ltvCacRatio = baseMetrics.cac > 0\n    ? baseMetrics.ltv / baseMetrics.cac\n    : 0;\n\n  // User Growth Rate (MoM): calculate from MAU growth\n  // This requires historical data, simplified calculation\n  const currentMAU = baseMetrics.mau;\n  const previousMAU = currentMAU * 0.75; // Simplified: assume 25% growth if we had previous data\n  baseMetrics.userGrowthRate = previousMAU > 0\n    ? ((currentMAU - previousMAU) / previousMAU) * 100\n    : 0;\n\n  // Группировка по дням\n  const dailyMap: Record<string, number> = {};\n  events.forEach((event) => {\n    const date = new Date(event.timestamp).toISOString().split('T')[0];\n    dailyMap[date] = (dailyMap[date] || 0) + 1;\n  });\n  baseMetrics.dailyActivity = Object.entries(dailyMap)\n    .map(([date, events]) => ({ date, events }))\n    .sort((a, b) => a.date.localeCompare(b.date))\n    .slice(-30); // Последние 30 дней\n\n  return baseMetrics;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}