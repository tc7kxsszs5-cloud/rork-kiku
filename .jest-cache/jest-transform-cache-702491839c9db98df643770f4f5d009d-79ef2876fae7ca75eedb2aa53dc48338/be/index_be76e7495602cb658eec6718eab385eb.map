{"version":3,"names":["MigrationManager","analyticsV1ToV2","messagesV1ToV2","userV1ToV2","createMigrationManager","cov_3zmzi3cr2","f","manager","s","register","globalMigrationManager","getMigrationManager","b"],"sources":["index.ts"],"sourcesContent":["/**\n * Централизованный экспорт всех миграций\n * \n * Регистрирует все миграции для использования в MigrationManager\n */\n\nimport { MigrationManager } from './migrationManager';\nimport { analyticsV1ToV2 } from './analytics/v1-to-v2';\nimport { messagesV1ToV2 } from './messages/v1-to-v2';\nimport { userV1ToV2 } from './user/v1-to-v2';\n\n/**\n * Создать менеджер миграций с зарегистрированными миграциями\n */\nexport function createMigrationManager(): MigrationManager {\n  const manager = new MigrationManager();\n\n  // Регистрируем все миграции\n  manager.register(analyticsV1ToV2);\n  manager.register(messagesV1ToV2);\n  manager.register(userV1ToV2);\n\n  return manager;\n}\n\n/**\n * Глобальный менеджер миграций (singleton)\n */\nlet globalMigrationManager: MigrationManager | null = null;\n\n/**\n * Получить глобальный менеджер миграций\n */\nexport function getMigrationManager(): MigrationManager {\n  if (!globalMigrationManager) {\n    globalMigrationManager = createMigrationManager();\n  }\n  return globalMigrationManager;\n}\n\n// Экспортируем типы\nexport * from './types';\nexport { MigrationManager } from './migrationManager';\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMA,SAASA,gBAAgB,QAAQ,oBAAoB;AACrD,SAASC,eAAe,QAAQ,sBAAsB;AACtD,SAASC,cAAc,QAAQ,qBAAqB;AACpD,SAASC,UAAU,QAAQ,iBAAiB;AAK5C,OAAO,SAASC,sBAAsBA,CAAA,EAAqB;EAAAC,aAAA,GAAAC,CAAA;EACzD,IAAMC,OAAO,IAAAF,aAAA,GAAAG,CAAA,OAAG,IAAIR,gBAAgB,CAAC,CAAC;EAACK,aAAA,GAAAG,CAAA;EAGvCD,OAAO,CAACE,QAAQ,CAACR,eAAe,CAAC;EAACI,aAAA,GAAAG,CAAA;EAClCD,OAAO,CAACE,QAAQ,CAACP,cAAc,CAAC;EAACG,aAAA,GAAAG,CAAA;EACjCD,OAAO,CAACE,QAAQ,CAACN,UAAU,CAAC;EAACE,aAAA,GAAAG,CAAA;EAE7B,OAAOD,OAAO;AAChB;AAKA,IAAIG,sBAA+C,IAAAL,aAAA,GAAAG,CAAA,OAAG,IAAI;AAK1D,OAAO,SAASG,mBAAmBA,CAAA,EAAqB;EAAAN,aAAA,GAAAC,CAAA;EAAAD,aAAA,GAAAG,CAAA;EACtD,IAAI,CAACE,sBAAsB,EAAE;IAAAL,aAAA,GAAAO,CAAA;IAAAP,aAAA,GAAAG,CAAA;IAC3BE,sBAAsB,GAAGN,sBAAsB,CAAC,CAAC;EACnD,CAAC;IAAAC,aAAA,GAAAO,CAAA;EAAA;EAAAP,aAAA,GAAAG,CAAA;EACD,OAAOE,sBAAsB;AAC/B;AAGA,cAAc,SAAS;AACvB,SAASV,gBAAgB,QAAQ,oBAAoB","ignoreList":[]}