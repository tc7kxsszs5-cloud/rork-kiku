{"version":3,"names":["z","publicProcedure","supabase","rateLimiters","validateParentCode","_x","_validateParentCode","apply","arguments","_asyncToGenerator","code","_data$parents","cov_13usf9z2ms","f","s","b","valid","error","test","_ref6","from","select","eq","single","data","expires_at","Date","now","used_count","max_uses","parentId","parent_id","parentName","parents","name","remainingUses","getUIVersion","age","registerChildProcedure","use","general","input","object","parentCode","string","regex","min","max","number","int","email","optional","mutation","_ref2","_ref","Error","timestamp","childId","Math","random","toString","substr","deviceId","codeValidation","success","uiVersion","_ref3","insert","id","email_verified","device_id","ui_version","created_at","updated_at","is_active","childError","console","_ref4","codeData","newUsedCount","_ref5","update","last_used_at","codeUpdateError","child_id","used_at","upsert","is_online","last_seen","onConflict","message","_x2"],"sources":["register-child.ts"],"sourcesContent":["import { z } from \"zod\";\nimport { publicProcedure } from \"../../create-context.js\";\nimport { supabase } from \"../../../utils/supabase.js\";\nimport { sanitizeDeviceId } from \"../../../utils/security.js\";\nimport { rateLimiters } from \"../../middleware/rateLimit.js\";\n\n/**\n * Валидация кода родителя (используется в register-child и validate-code)\n */\nasync function validateParentCode(code: string): Promise<{ valid: boolean; parentId?: string; parentName?: string; remainingUses?: number; error?: string }> {\n  if (!supabase) {\n    return { valid: false, error: 'Supabase клиент не инициализирован' };\n  }\n\n  // Проверяем формат кода\n  if (!/^KIKU-[A-Z0-9]{6}$/.test(code)) {\n    return { valid: false, error: 'Неверный формат кода' };\n  }\n\n  const { data, error } = await supabase\n    .from('parent_codes')\n    .select('*, parents(name)')\n    .eq('code', code)\n    .eq('is_active', true)\n    .single();\n\n  if (error || !data) {\n    return { valid: false, error: 'Код не найден или недействителен' };\n  }\n\n  // Проверяем срок действия\n  if (data.expires_at && data.expires_at < Date.now()) {\n    return { valid: false, error: 'Срок действия кода истек' };\n  }\n\n  // Проверяем количество использований\n  if (data.used_count >= data.max_uses) {\n    return { valid: false, error: 'Код использован максимальное количество раз' };\n  }\n\n  return {\n    valid: true,\n    parentId: data.parent_id,\n    parentName: (data.parents as any)?.name || 'Родитель',\n    remainingUses: data.max_uses - data.used_count - 1,\n  };\n}\n\n/**\n * Определение версии UI по возрасту\n */\nfunction getUIVersion(age: number): 'young' | 'middle' | 'standard' {\n  if (age >= 4 && age <= 7) return 'young';\n  if (age >= 8 && age <= 11) return 'middle';\n  return 'standard';\n}\n\nexport const registerChildProcedure = publicProcedure\n  .use(rateLimiters.general)\n  .input(\n    z.object({\n      parentCode: z.string().regex(/^KIKU-[A-Z0-9]{6}$/, 'Неверный формат кода'),\n      name: z.string().min(1).max(100),\n      age: z.number().int().min(4).max(15),\n      email: z.string().email().optional(),\n    })\n  )\n  .mutation(async ({ input }) => {\n    if (!supabase) {\n      throw new Error(\"Supabase клиент не инициализирован\");\n    }\n\n    const timestamp = Date.now();\n    const childId = `child_${timestamp}_${Math.random().toString(36).substr(2, 9)}`;\n    const deviceId = `device_${timestamp}_${Math.random().toString(36).substr(2, 9)}`;\n\n    try {\n      // Валидируем код родителя\n      const codeValidation = await validateParentCode(input.parentCode);\n      \n      if (!codeValidation.valid || !codeValidation.parentId) {\n        return {\n          success: false,\n          error: codeValidation.error || 'Код недействителен',\n        };\n      }\n\n      const parentId = codeValidation.parentId;\n      const uiVersion = getUIVersion(input.age);\n\n      // Создаем ребенка\n      const { error: childError } = await supabase\n        .from('children')\n        .insert({\n          id: childId,\n          parent_id: parentId,\n          name: input.name,\n          age: input.age,\n          email: input.email || null,\n          email_verified: false,\n          device_id: deviceId,\n          ui_version: uiVersion,\n          created_at: timestamp,\n          updated_at: timestamp,\n          is_active: true,\n        });\n\n      if (childError) {\n        console.error('[registerChildProcedure] Error:', childError);\n        throw new Error('Ошибка при создании профиля ребенка');\n      }\n\n      // Получаем текущее значение used_count и обновляем\n      const { data: codeData } = await supabase\n        .from('parent_codes')\n        .select('used_count')\n        .eq('code', input.parentCode)\n        .single();\n\n      const newUsedCount = (codeData?.used_count || 0) + 1;\n\n      // Обновляем счетчик использований кода\n      const { error: codeUpdateError } = await supabase\n        .from('parent_codes')\n        .update({\n          used_count: newUsedCount,\n          last_used_at: timestamp,\n        })\n        .eq('code', input.parentCode);\n\n      if (codeUpdateError) {\n        console.error('[registerChildProcedure] Code update error:', codeUpdateError);\n        // Не критично, продолжаем\n      }\n\n      // Логируем использование кода\n      await supabase\n        .from('code_usage_log')\n        .insert({\n          id: `log_${timestamp}_${Math.random().toString(36).substr(2, 9)}`,\n          code: input.parentCode,\n          child_id: childId,\n          used_at: timestamp,\n          device_id: deviceId,\n        });\n\n      // Создаем запись активности родителя\n      await supabase\n        .from('parent_activity')\n        .upsert({\n          parent_id: parentId,\n          child_id: childId,\n          is_online: false,\n          last_seen: timestamp,\n          updated_at: timestamp,\n        }, { onConflict: 'parent_id,child_id' });\n\n      return {\n        success: true,\n        childId,\n        deviceId,\n        parentId,\n        parentName: codeValidation.parentName,\n        uiVersion,\n        message: 'Регистрация успешна! Устройства связаны.',\n      };\n    } catch (error) {\n      console.error('[registerChildProcedure] Error:', error);\n      return {\n        success: false,\n        error: error instanceof Error ? error.message : 'Неизвестная ошибка',\n      };\n    }\n  });\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}