{"version":3,"names":["z","publicProcedure","getDeviceRecord","listDeviceRecords","getSyncStatusProcedure","cov_1ulv08gd84","s","input","object","deviceId","string","optional","query","_ref","f","_ref2","b","device","devices"],"sources":["get-sync-status.ts"],"sourcesContent":["import { z } from 'zod';\nimport { publicProcedure } from '../../create-context.js';\nimport { getDeviceRecord, listDeviceRecords } from './store.js';\n\nexport const getSyncStatusProcedure = publicProcedure\n  .input(z.object({ deviceId: z.string().optional() }).optional())\n  .query(({ input }) => {\n    if (input?.deviceId) {\n      const device = getDeviceRecord(input.deviceId);\n      return {\n        devices: device ? [device] : [],\n        device: device ?? null,\n      };\n    }\n\n    return {\n      devices: listDeviceRecords(),\n      device: null,\n    };\n  });\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAASA,CAAC,QAAQ,KAAK;AACvB,SAASC,eAAe,QAAQ,yBAAyB;AACzD,SAASC,eAAe,EAAEC,iBAAiB,QAAQ,YAAY;AAE/D,OAAO,IAAMC,sBAAsB,IAAAC,cAAA,GAAAC,CAAA,OAAGL,eAAe,CAClDM,KAAK,CAACP,CAAC,CAACQ,MAAM,CAAC;EAAEC,QAAQ,EAAET,CAAC,CAACU,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC;AAAE,CAAC,CAAC,CAACA,QAAQ,CAAC,CAAC,CAAC,CAC/DC,KAAK,CAAC,UAAAC,IAAA,EAAe;EAAA,IAAZN,KAAK,GAAAM,IAAA,CAALN,KAAK;EAAAF,cAAA,GAAAS,CAAA;EAAAT,cAAA,GAAAC,CAAA;EACb,IAAIC,KAAK,YAALA,KAAK,CAAEE,QAAQ,EAAE;IAAA,IAAAM,KAAA;IAAAV,cAAA,GAAAW,CAAA;IACnB,IAAMC,MAAM,IAAAZ,cAAA,GAAAC,CAAA,OAAGJ,eAAe,CAACK,KAAK,CAACE,QAAQ,CAAC;IAACJ,cAAA,GAAAC,CAAA;IAC/C,OAAO;MACLY,OAAO,EAAED,MAAM,IAAAZ,cAAA,GAAAW,CAAA,UAAG,CAACC,MAAM,CAAC,KAAAZ,cAAA,GAAAW,CAAA,UAAG,EAAE;MAC/BC,MAAM,GAAAF,KAAA,IAAAV,cAAA,GAAAW,CAAA,UAAEC,MAAM,aAAAF,KAAA,IAAAV,cAAA,GAAAW,CAAA,UAAI,IAAI;IACxB,CAAC;EACH,CAAC;IAAAX,cAAA,GAAAW,CAAA;EAAA;EAAAX,cAAA,GAAAC,CAAA;EAED,OAAO;IACLY,OAAO,EAAEf,iBAAiB,CAAC,CAAC;IAC5Bc,MAAM,EAAE;EACV,CAAC;AACH,CAAC,CAAC","ignoreList":[]}