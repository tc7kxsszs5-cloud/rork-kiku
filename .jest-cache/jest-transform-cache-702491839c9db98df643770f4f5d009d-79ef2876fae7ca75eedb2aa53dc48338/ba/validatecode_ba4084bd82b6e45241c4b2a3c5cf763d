a0159b5e30174aa912bc255932db4076
import _asyncToGenerator from "@babel/runtime/helpers/asyncToGenerator";
function cov_1t6by1s0aj() {
  var path = "/Users/mac/Desktop/rork-kiku/backend/trpc/routes/auth/validate-code.ts";
  var hash = "59087f6a2fab5b8f5a5ac578df0916d86a67d02b";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/mac/Desktop/rork-kiku/backend/trpc/routes/auth/validate-code.ts",
    statementMap: {
      "0": {
        start: {
          line: 10,
          column: 2
        },
        end: {
          line: 12,
          column: 3
        }
      },
      "1": {
        start: {
          line: 11,
          column: 4
        },
        end: {
          line: 11,
          column: 73
        }
      },
      "2": {
        start: {
          line: 15,
          column: 2
        },
        end: {
          line: 17,
          column: 3
        }
      },
      "3": {
        start: {
          line: 16,
          column: 4
        },
        end: {
          line: 16,
          column: 59
        }
      },
      "4": {
        start: {
          line: 19,
          column: 26
        },
        end: {
          line: 24,
          column: 13
        }
      },
      "5": {
        start: {
          line: 26,
          column: 2
        },
        end: {
          line: 28,
          column: 3
        }
      },
      "6": {
        start: {
          line: 27,
          column: 4
        },
        end: {
          line: 27,
          column: 71
        }
      },
      "7": {
        start: {
          line: 31,
          column: 2
        },
        end: {
          line: 33,
          column: 3
        }
      },
      "8": {
        start: {
          line: 32,
          column: 4
        },
        end: {
          line: 32,
          column: 63
        }
      },
      "9": {
        start: {
          line: 36,
          column: 2
        },
        end: {
          line: 38,
          column: 3
        }
      },
      "10": {
        start: {
          line: 37,
          column: 4
        },
        end: {
          line: 37,
          column: 82
        }
      },
      "11": {
        start: {
          line: 40,
          column: 2
        },
        end: {
          line: 45,
          column: 4
        }
      },
      "12": {
        start: {
          line: 48,
          column: 43
        },
        end: {
          line: 72,
          column: 4
        }
      },
      "13": {
        start: {
          line: 56,
          column: 4
        },
        end: {
          line: 71,
          column: 5
        }
      },
      "14": {
        start: {
          line: 57,
          column: 25
        },
        end: {
          line: 57,
          column: 61
        }
      },
      "15": {
        start: {
          line: 59,
          column: 6
        },
        end: {
          line: 64,
          column: 8
        }
      },
      "16": {
        start: {
          line: 66,
          column: 6
        },
        end: {
          line: 66,
          column: 67
        }
      },
      "17": {
        start: {
          line: 67,
          column: 6
        },
        end: {
          line: 70,
          column: 8
        }
      }
    },
    fnMap: {
      "0": {
        name: "validateParentCode",
        decl: {
          start: {
            line: 9,
            column: 15
          },
          end: {
            line: 9,
            column: 33
          }
        },
        loc: {
          start: {
            line: 9,
            column: 157
          },
          end: {
            line: 46,
            column: 1
          }
        },
        line: 9
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 55,
            column: 9
          },
          end: {
            line: 55,
            column: 10
          }
        },
        loc: {
          start: {
            line: 55,
            column: 30
          },
          end: {
            line: 72,
            column: 3
          }
        },
        line: 55
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 10,
            column: 2
          },
          end: {
            line: 12,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 10,
            column: 2
          },
          end: {
            line: 12,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 10
      },
      "1": {
        loc: {
          start: {
            line: 15,
            column: 2
          },
          end: {
            line: 17,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 15,
            column: 2
          },
          end: {
            line: 17,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 15
      },
      "2": {
        loc: {
          start: {
            line: 26,
            column: 2
          },
          end: {
            line: 28,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 26,
            column: 2
          },
          end: {
            line: 28,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 26
      },
      "3": {
        loc: {
          start: {
            line: 26,
            column: 6
          },
          end: {
            line: 26,
            column: 20
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 26,
            column: 6
          },
          end: {
            line: 26,
            column: 11
          }
        }, {
          start: {
            line: 26,
            column: 15
          },
          end: {
            line: 26,
            column: 20
          }
        }],
        line: 26
      },
      "4": {
        loc: {
          start: {
            line: 31,
            column: 2
          },
          end: {
            line: 33,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 31,
            column: 2
          },
          end: {
            line: 33,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 31
      },
      "5": {
        loc: {
          start: {
            line: 31,
            column: 6
          },
          end: {
            line: 31,
            column: 53
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 31,
            column: 6
          },
          end: {
            line: 31,
            column: 21
          }
        }, {
          start: {
            line: 31,
            column: 25
          },
          end: {
            line: 31,
            column: 53
          }
        }],
        line: 31
      },
      "6": {
        loc: {
          start: {
            line: 36,
            column: 2
          },
          end: {
            line: 38,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 36,
            column: 2
          },
          end: {
            line: 38,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 36
      },
      "7": {
        loc: {
          start: {
            line: 43,
            column: 16
          },
          end: {
            line: 43,
            column: 57
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 43,
            column: 16
          },
          end: {
            line: 43,
            column: 43
          }
        }, {
          start: {
            line: 43,
            column: 47
          },
          end: {
            line: 43,
            column: 57
          }
        }],
        line: 43
      },
      "8": {
        loc: {
          start: {
            line: 69,
            column: 15
          },
          end: {
            line: 69,
            column: 82
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 69,
            column: 40
          },
          end: {
            line: 69,
            column: 53
          }
        }, {
          start: {
            line: 69,
            column: 56
          },
          end: {
            line: 69,
            column: 82
          }
        }],
        line: 69
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0
    },
    f: {
      "0": 0,
      "1": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "59087f6a2fab5b8f5a5ac578df0916d86a67d02b"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    cov_1t6by1s0aj = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1t6by1s0aj();
import { z } from "zod";
import { publicProcedure } from "../../create-context.js";
import { supabase } from "../../../utils/supabase.js";
import { rateLimiters } from "../../middleware/rateLimit.js";
function validateParentCode(_x) {
  return _validateParentCode.apply(this, arguments);
}
function _validateParentCode() {
  _validateParentCode = _asyncToGenerator(function* (code) {
    var _data$parents;
    cov_1t6by1s0aj().f[0]++;
    cov_1t6by1s0aj().s[0]++;
    if (!supabase) {
      cov_1t6by1s0aj().b[0][0]++;
      cov_1t6by1s0aj().s[1]++;
      return {
        valid: false,
        error: 'Supabase клиент не инициализирован'
      };
    } else {
      cov_1t6by1s0aj().b[0][1]++;
    }
    cov_1t6by1s0aj().s[2]++;
    if (!/^KIKU-[A-Z0-9]{6}$/.test(code)) {
      cov_1t6by1s0aj().b[1][0]++;
      cov_1t6by1s0aj().s[3]++;
      return {
        valid: false,
        error: 'Неверный формат кода'
      };
    } else {
      cov_1t6by1s0aj().b[1][1]++;
    }
    var _ref3 = (cov_1t6by1s0aj().s[4]++, yield supabase.from('parent_codes').select('*, parents(name)').eq('code', code).eq('is_active', true).single()),
      data = _ref3.data,
      error = _ref3.error;
    cov_1t6by1s0aj().s[5]++;
    if ((cov_1t6by1s0aj().b[3][0]++, error) || (cov_1t6by1s0aj().b[3][1]++, !data)) {
      cov_1t6by1s0aj().b[2][0]++;
      cov_1t6by1s0aj().s[6]++;
      return {
        valid: false,
        error: 'Код не найден или недействителен'
      };
    } else {
      cov_1t6by1s0aj().b[2][1]++;
    }
    cov_1t6by1s0aj().s[7]++;
    if ((cov_1t6by1s0aj().b[5][0]++, data.expires_at) && (cov_1t6by1s0aj().b[5][1]++, data.expires_at < Date.now())) {
      cov_1t6by1s0aj().b[4][0]++;
      cov_1t6by1s0aj().s[8]++;
      return {
        valid: false,
        error: 'Срок действия кода истек'
      };
    } else {
      cov_1t6by1s0aj().b[4][1]++;
    }
    cov_1t6by1s0aj().s[9]++;
    if (data.used_count >= data.max_uses) {
      cov_1t6by1s0aj().b[6][0]++;
      cov_1t6by1s0aj().s[10]++;
      return {
        valid: false,
        error: 'Код использован максимальное количество раз'
      };
    } else {
      cov_1t6by1s0aj().b[6][1]++;
    }
    cov_1t6by1s0aj().s[11]++;
    return {
      valid: true,
      parentId: data.parent_id,
      parentName: (cov_1t6by1s0aj().b[7][0]++, (_data$parents = data.parents) == null ? void 0 : _data$parents.name) || (cov_1t6by1s0aj().b[7][1]++, 'Родитель'),
      remainingUses: data.max_uses - data.used_count - 1
    };
  });
  return _validateParentCode.apply(this, arguments);
}
export var validateParentCodeProcedure = (cov_1t6by1s0aj().s[12]++, publicProcedure.use(rateLimiters.general).input(z.object({
  code: z.string().regex(/^KIKU-[A-Z0-9]{6}$/, 'Неверный формат кода')
})).query(function () {
  var _ref2 = _asyncToGenerator(function* (_ref) {
    var input = _ref.input;
    cov_1t6by1s0aj().f[1]++;
    cov_1t6by1s0aj().s[13]++;
    try {
      var validation = (cov_1t6by1s0aj().s[14]++, yield validateParentCode(input.code));
      cov_1t6by1s0aj().s[15]++;
      return {
        valid: validation.valid,
        parentName: validation.parentName,
        remainingUses: validation.remainingUses,
        error: validation.error
      };
    } catch (error) {
      cov_1t6by1s0aj().s[16]++;
      console.error('[validateParentCodeProcedure] Error:', error);
      cov_1t6by1s0aj().s[17]++;
      return {
        valid: false,
        error: error instanceof Error ? (cov_1t6by1s0aj().b[8][0]++, error.message) : (cov_1t6by1s0aj().b[8][1]++, 'Ошибка при проверке кода')
      };
    }
  });
  return function (_x2) {
    return _ref2.apply(this, arguments);
  };
}()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ6IiwicHVibGljUHJvY2VkdXJlIiwic3VwYWJhc2UiLCJyYXRlTGltaXRlcnMiLCJ2YWxpZGF0ZVBhcmVudENvZGUiLCJfeCIsIl92YWxpZGF0ZVBhcmVudENvZGUiLCJhcHBseSIsImFyZ3VtZW50cyIsIl9hc3luY1RvR2VuZXJhdG9yIiwiY29kZSIsIl9kYXRhJHBhcmVudHMiLCJjb3ZfMXQ2YnkxczBhaiIsImYiLCJzIiwiYiIsInZhbGlkIiwiZXJyb3IiLCJ0ZXN0IiwiX3JlZjMiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJzaW5nbGUiLCJkYXRhIiwiZXhwaXJlc19hdCIsIkRhdGUiLCJub3ciLCJ1c2VkX2NvdW50IiwibWF4X3VzZXMiLCJwYXJlbnRJZCIsInBhcmVudF9pZCIsInBhcmVudE5hbWUiLCJwYXJlbnRzIiwibmFtZSIsInJlbWFpbmluZ1VzZXMiLCJ2YWxpZGF0ZVBhcmVudENvZGVQcm9jZWR1cmUiLCJ1c2UiLCJnZW5lcmFsIiwiaW5wdXQiLCJvYmplY3QiLCJzdHJpbmciLCJyZWdleCIsInF1ZXJ5IiwiX3JlZjIiLCJfcmVmIiwidmFsaWRhdGlvbiIsImNvbnNvbGUiLCJFcnJvciIsIm1lc3NhZ2UiLCJfeDIiXSwic291cmNlcyI6WyJ2YWxpZGF0ZS1jb2RlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQgeyBwdWJsaWNQcm9jZWR1cmUgfSBmcm9tIFwiLi4vLi4vY3JlYXRlLWNvbnRleHQuanNcIjtcbmltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxzL3N1cGFiYXNlLmpzXCI7XG5pbXBvcnQgeyByYXRlTGltaXRlcnMgfSBmcm9tIFwiLi4vLi4vbWlkZGxld2FyZS9yYXRlTGltaXQuanNcIjtcblxuLyoqXG4gKiDQktCw0LvQuNC00LDRhtC40Y8g0LrQvtC00LAg0YDQvtC00LjRgtC10LvRj1xuICovXG5hc3luYyBmdW5jdGlvbiB2YWxpZGF0ZVBhcmVudENvZGUoY29kZTogc3RyaW5nKTogUHJvbWlzZTx7IHZhbGlkOiBib29sZWFuOyBwYXJlbnRJZD86IHN0cmluZzsgcGFyZW50TmFtZT86IHN0cmluZzsgcmVtYWluaW5nVXNlcz86IG51bWJlcjsgZXJyb3I/OiBzdHJpbmcgfT4ge1xuICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBlcnJvcjogJ1N1cGFiYXNlINC60LvQuNC10L3RgiDQvdC1INC40L3QuNGG0LjQsNC70LjQt9C40YDQvtCy0LDQvScgfTtcbiAgfVxuXG4gIC8vINCf0YDQvtCy0LXRgNGP0LXQvCDRhNC+0YDQvNCw0YIg0LrQvtC00LBcbiAgaWYgKCEvXktJS1UtW0EtWjAtOV17Nn0kLy50ZXN0KGNvZGUpKSB7XG4gICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBlcnJvcjogJ9Cd0LXQstC10YDQvdGL0Lkg0YTQvtGA0LzQsNGCINC60L7QtNCwJyB9O1xuICB9XG5cbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgncGFyZW50X2NvZGVzJylcbiAgICAuc2VsZWN0KCcqLCBwYXJlbnRzKG5hbWUpJylcbiAgICAuZXEoJ2NvZGUnLCBjb2RlKVxuICAgIC5lcSgnaXNfYWN0aXZlJywgdHJ1ZSlcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKGVycm9yIHx8ICFkYXRhKSB7XG4gICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBlcnJvcjogJ9Ca0L7QtCDQvdC1INC90LDQudC00LXQvSDQuNC70Lgg0L3QtdC00LXQudGB0YLQstC40YLQtdC70LXQvScgfTtcbiAgfVxuXG4gIC8vINCf0YDQvtCy0LXRgNGP0LXQvCDRgdGA0L7QuiDQtNC10LnRgdGC0LLQuNGPXG4gIGlmIChkYXRhLmV4cGlyZXNfYXQgJiYgZGF0YS5leHBpcmVzX2F0IDwgRGF0ZS5ub3coKSkge1xuICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSwgZXJyb3I6ICfQodGA0L7QuiDQtNC10LnRgdGC0LLQuNGPINC60L7QtNCwINC40YHRgtC10LonIH07XG4gIH1cblxuICAvLyDQn9GA0L7QstC10YDRj9C10Lwg0LrQvtC70LjRh9C10YHRgtCy0L4g0LjRgdC/0L7Qu9GM0LfQvtCy0LDQvdC40LlcbiAgaWYgKGRhdGEudXNlZF9jb3VudCA+PSBkYXRhLm1heF91c2VzKSB7XG4gICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBlcnJvcjogJ9Ca0L7QtCDQuNGB0L/QvtC70YzQt9C+0LLQsNC9INC80LDQutGB0LjQvNCw0LvRjNC90L7QtSDQutC+0LvQuNGH0LXRgdGC0LLQviDRgNCw0LcnIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHZhbGlkOiB0cnVlLFxuICAgIHBhcmVudElkOiBkYXRhLnBhcmVudF9pZCxcbiAgICBwYXJlbnROYW1lOiAoZGF0YS5wYXJlbnRzIGFzIGFueSk/Lm5hbWUgfHwgJ9Cg0L7QtNC40YLQtdC70YwnLFxuICAgIHJlbWFpbmluZ1VzZXM6IGRhdGEubWF4X3VzZXMgLSBkYXRhLnVzZWRfY291bnQgLSAxLFxuICB9O1xufVxuXG5leHBvcnQgY29uc3QgdmFsaWRhdGVQYXJlbnRDb2RlUHJvY2VkdXJlID0gcHVibGljUHJvY2VkdXJlXG4gIC51c2UocmF0ZUxpbWl0ZXJzLmdlbmVyYWwpXG4gIC5pbnB1dChcbiAgICB6Lm9iamVjdCh7XG4gICAgICBjb2RlOiB6LnN0cmluZygpLnJlZ2V4KC9eS0lLVS1bQS1aMC05XXs2fSQvLCAn0J3QtdCy0LXRgNC90YvQuSDRhNC+0YDQvNCw0YIg0LrQvtC00LAnKSxcbiAgICB9KVxuICApXG4gIC5xdWVyeShhc3luYyAoeyBpbnB1dCB9KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSBhd2FpdCB2YWxpZGF0ZVBhcmVudENvZGUoaW5wdXQuY29kZSk7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbGlkOiB2YWxpZGF0aW9uLnZhbGlkLFxuICAgICAgICBwYXJlbnROYW1lOiB2YWxpZGF0aW9uLnBhcmVudE5hbWUsXG4gICAgICAgIHJlbWFpbmluZ1VzZXM6IHZhbGlkYXRpb24ucmVtYWluaW5nVXNlcyxcbiAgICAgICAgZXJyb3I6IHZhbGlkYXRpb24uZXJyb3IsXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbdmFsaWRhdGVQYXJlbnRDb2RlUHJvY2VkdXJlXSBFcnJvcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWxpZDogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICfQntGI0LjQsdC60LAg0L/RgNC4INC/0YDQvtCy0LXRgNC60LUg0LrQvtC00LAnLFxuICAgICAgfTtcbiAgICB9XG4gIH0pO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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