0118008b22f4b3eb96f67239ee0c6d71
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.loadBundleAsync = loadBundleAsync;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _buildUrlForBundle = require("./buildUrlForBundle");
var _fetchThenEval = require("./fetchThenEval");
function loadBundleAsync(_x) {
  return _loadBundleAsync.apply(this, arguments);
}
function _loadBundleAsync() {
  _loadBundleAsync = (0, _asyncToGenerator2.default)(function* (bundlePath) {
    var requestUrl = (0, _buildUrlForBundle.buildUrlForBundle)(bundlePath);
    if (process.env.NODE_ENV === 'production') {
      return (0, _fetchThenEval.fetchThenEvalAsync)(requestUrl);
    } else {
      return (0, _fetchThenEval.fetchThenEvalAsync)(requestUrl).then(function () {
        var HMRClient = require('./hmr').default;
        HMRClient.registerBundle(requestUrl);
      });
    }
  });
  return _loadBundleAsync.apply(this, arguments);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYnVpbGRVcmxGb3JCdW5kbGUiLCJyZXF1aXJlIiwiX2ZldGNoVGhlbkV2YWwiLCJsb2FkQnVuZGxlQXN5bmMiLCJfeCIsIl9sb2FkQnVuZGxlQXN5bmMiLCJhcHBseSIsImFyZ3VtZW50cyIsIl9hc3luY1RvR2VuZXJhdG9yMiIsImRlZmF1bHQiLCJidW5kbGVQYXRoIiwicmVxdWVzdFVybCIsImJ1aWxkVXJsRm9yQnVuZGxlIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiZmV0Y2hUaGVuRXZhbEFzeW5jIiwidGhlbiIsIkhNUkNsaWVudCIsInJlZ2lzdGVyQnVuZGxlIl0sInNvdXJjZXMiOlsibG9hZEJ1bmRsZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCDCqSAyMDIyIDY1MCBJbmR1c3RyaWVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5pbXBvcnQgeyBidWlsZFVybEZvckJ1bmRsZSB9IGZyb20gJy4vYnVpbGRVcmxGb3JCdW5kbGUnO1xuaW1wb3J0IHsgZmV0Y2hUaGVuRXZhbEFzeW5jIH0gZnJvbSAnLi9mZXRjaFRoZW5FdmFsJztcblxuLyoqXG4gKiBMb2FkIGEgYnVuZGxlIGZvciBhIFVSTCB1c2luZyBmZXRjaCArIGV2YWwgb24gbmF0aXZlIGFuZCBzY3JpcHQgdGFnIGluamVjdGlvbiBvbiB3ZWIuXG4gKlxuICogQHBhcmFtIGJ1bmRsZVBhdGggR2l2ZW4gYSBzdGF0ZW1lbnQgbGlrZSBgaW1wb3J0KCcuL0JhY29uJylgIGBidW5kbGVQYXRoYCB3b3VsZCBiZSBgQmFjb24uYnVuZGxlP3BhcmFtcz1mcm9tLW1ldHJvYC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRCdW5kbGVBc3luYyhidW5kbGVQYXRoOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgcmVxdWVzdFVybCA9IGJ1aWxkVXJsRm9yQnVuZGxlKGJ1bmRsZVBhdGgpO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgcmV0dXJuIGZldGNoVGhlbkV2YWxBc3luYyhyZXF1ZXN0VXJsKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmV0Y2hUaGVuRXZhbEFzeW5jKHJlcXVlc3RVcmwpLnRoZW4oKCkgPT4ge1xuICAgICAgY29uc3QgSE1SQ2xpZW50ID0gcmVxdWlyZSgnLi9obXInKS5kZWZhdWx0IGFzIHR5cGVvZiBpbXBvcnQoJy4vaG1yJykuZGVmYXVsdDtcbiAgICAgIEhNUkNsaWVudC5yZWdpc3RlckJ1bmRsZShyZXF1ZXN0VXJsKTtcbiAgICB9KTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFNQSxJQUFBQSxrQkFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsY0FBQSxHQUFBRCxPQUFBO0FBQXFELFNBTy9CRSxlQUFlQSxDQUFBQyxFQUFBO0VBQUEsT0FBQUMsZ0JBQUEsQ0FBQUMsS0FBQSxPQUFBQyxTQUFBO0FBQUE7QUFBQSxTQUFBRixpQkFBQTtFQUFBQSxnQkFBQSxPQUFBRyxrQkFBQSxDQUFBQyxPQUFBLEVBQTlCLFdBQStCQyxVQUFrQixFQUFpQjtJQUN2RSxJQUFNQyxVQUFVLEdBQUcsSUFBQUMsb0NBQWlCLEVBQUNGLFVBQVUsQ0FBQztJQUVoRCxJQUFJRyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsUUFBUSxLQUFLLFlBQVksRUFBRTtNQUN6QyxPQUFPLElBQUFDLGlDQUFrQixFQUFDTCxVQUFVLENBQUM7SUFDdkMsQ0FBQyxNQUFNO01BQ0wsT0FBTyxJQUFBSyxpQ0FBa0IsRUFBQ0wsVUFBVSxDQUFDLENBQUNNLElBQUksQ0FBQyxZQUFNO1FBQy9DLElBQU1DLFNBQVMsR0FBR2pCLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQ1EsT0FBeUM7UUFDNUVTLFNBQVMsQ0FBQ0MsY0FBYyxDQUFDUixVQUFVLENBQUM7TUFDdEMsQ0FBQyxDQUFDO0lBQ0o7RUFDRixDQUFDO0VBQUEsT0FBQU4sZ0JBQUEsQ0FBQUMsS0FBQSxPQUFBQyxTQUFBO0FBQUEiLCJpZ25vcmVMaXN0IjpbXX0=