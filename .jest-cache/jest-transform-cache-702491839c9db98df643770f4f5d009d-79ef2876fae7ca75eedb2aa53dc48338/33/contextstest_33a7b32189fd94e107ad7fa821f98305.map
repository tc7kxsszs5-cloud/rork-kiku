{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_reactQuery","_jsxRuntime","describe","queryClient","beforeEach","QueryClient","defaultOptions","queries","retry","mutations","testContext","contextName","hookName","test","_asyncToGenerator2","default","module","Provider","replace","useHook","console","warn","TestComponent","hook","jsx","children","render","QueryClientProvider","client","waitFor","expect","toBe","error","Error"],"sources":["contexts.test.tsx"],"sourcesContent":["/**\n * Тесты всех контекстов\n */\n\nimport React from 'react';\nimport { render, waitFor } from '@testing-library/react-native';\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\n\ndescribe('Контексты', () => {\n  let queryClient: QueryClient;\n\n  beforeEach(() => {\n    queryClient = new QueryClient({\n      defaultOptions: {\n        queries: { retry: false },\n        mutations: { retry: false },\n      },\n    });\n  });\n\n  const testContext = (contextName: string, hookName: string) => {\n    test(`${contextName} инициализируется без ошибок`, async () => {\n      try {\n        const module = require(`@/constants/${contextName}`);\n        const Provider = module[`${contextName.replace('Context', '')}Provider`] || module.Provider;\n        const useHook = module[hookName] || module.useHook;\n\n        if (!Provider || !useHook) {\n          console.warn(`⚠️  ${contextName} не экспортирует Provider или hook`);\n          return;\n        }\n\n        const TestComponent = () => {\n          const hook = useHook();\n          return <div>Test</div>;\n        };\n\n        render(\n          <QueryClientProvider client={queryClient}>\n            <Provider>\n              <TestComponent />\n            </Provider>\n          </QueryClientProvider>\n        );\n\n        await waitFor(() => {\n          expect(true).toBe(true);\n        });\n      } catch (error) {\n        throw new Error(`${contextName} не работает: ${error}`);\n      }\n    });\n  };\n\n  // Тестируем основные контексты\n  testContext('ThemeContext', 'useThemeMode');\n  testContext('AuthContext', 'useAuth');\n  testContext('UserContext', 'useUser');\n  testContext('MonitoringContext', 'useMonitoring');\n  testContext('SyncSettingsContext', 'useSyncSettings');\n  testContext('SecuritySettingsContext', 'useSecuritySettings');\n});\n"],"mappings":";;AAIA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,YAAA,GAAAD,OAAA;AACA,IAAAE,WAAA,GAAAF,OAAA;AAAyE,IAAAG,WAAA,GAAAH,OAAA;AAEzEI,QAAQ,CAAC,WAAW,EAAE,YAAM;EAC1B,IAAIC,WAAwB;EAE5BC,UAAU,CAAC,YAAM;IACfD,WAAW,GAAG,IAAIE,uBAAW,CAAC;MAC5BC,cAAc,EAAE;QACdC,OAAO,EAAE;UAAEC,KAAK,EAAE;QAAM,CAAC;QACzBC,SAAS,EAAE;UAAED,KAAK,EAAE;QAAM;MAC5B;IACF,CAAC,CAAC;EACJ,CAAC,CAAC;EAEF,IAAME,WAAW,GAAG,SAAdA,WAAWA,CAAIC,WAAmB,EAAEC,QAAgB,EAAK;IAC7DC,IAAI,CAAC,GAAGF,WAAW,8BAA8B,MAAAG,kBAAA,CAAAC,OAAA,EAAE,aAAY;MAC7D,IAAI;QACF,IAAMC,MAAM,GAAGlB,OAAO,CAAC,eAAea,WAAW,EAAE,CAAC;QACpD,IAAMM,QAAQ,GAAGD,MAAM,CAAC,GAAGL,WAAW,CAACO,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,UAAU,CAAC,IAAIF,MAAM,CAACC,QAAQ;QAC3F,IAAME,OAAO,GAAGH,MAAM,CAACJ,QAAQ,CAAC,IAAII,MAAM,CAACG,OAAO;QAElD,IAAI,CAACF,QAAQ,IAAI,CAACE,OAAO,EAAE;UACzBC,OAAO,CAACC,IAAI,CAAC,OAAOV,WAAW,oCAAoC,CAAC;UACpE;QACF;QAEA,IAAMW,aAAa,GAAG,SAAhBA,aAAaA,CAAA,EAAS;UAC1B,IAAMC,IAAI,GAAGJ,OAAO,CAAC,CAAC;UACtB,OAAO,IAAAlB,WAAA,CAAAuB,GAAA;YAAAC,QAAA,EAAK;UAAI,CAAK,CAAC;QACxB,CAAC;QAED,IAAAC,mBAAM,EACJ,IAAAzB,WAAA,CAAAuB,GAAA,EAACxB,WAAA,CAAA2B,mBAAmB;UAACC,MAAM,EAAEzB,WAAY;UAAAsB,QAAA,EACvC,IAAAxB,WAAA,CAAAuB,GAAA,EAACP,QAAQ;YAAAQ,QAAA,EACP,IAAAxB,WAAA,CAAAuB,GAAA,EAACF,aAAa,IAAE;UAAC,CACT;QAAC,CACQ,CACvB,CAAC;QAED,MAAM,IAAAO,oBAAO,EAAC,YAAM;UAClBC,MAAM,CAAC,IAAI,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC;QACzB,CAAC,CAAC;MACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;QACd,MAAM,IAAIC,KAAK,CAAC,GAAGtB,WAAW,iBAAiBqB,KAAK,EAAE,CAAC;MACzD;IACF,CAAC,EAAC;EACJ,CAAC;EAGDtB,WAAW,CAAC,cAAc,EAAE,cAAc,CAAC;EAC3CA,WAAW,CAAC,aAAa,EAAE,SAAS,CAAC;EACrCA,WAAW,CAAC,aAAa,EAAE,SAAS,CAAC;EACrCA,WAAW,CAAC,mBAAmB,EAAE,eAAe,CAAC;EACjDA,WAAW,CAAC,qBAAqB,EAAE,iBAAiB,CAAC;EACrDA,WAAW,CAAC,yBAAyB,EAAE,qBAAqB,CAAC;AAC/D,CAAC,CAAC","ignoreList":[]}