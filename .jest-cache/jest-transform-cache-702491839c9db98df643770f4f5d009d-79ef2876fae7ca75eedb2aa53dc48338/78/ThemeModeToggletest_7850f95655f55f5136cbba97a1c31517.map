{"version":3,"names":["_getJestObj","mock","useThemeMode","jest","fn","themeMode","toggleThemeMode","theme","chipBackground","chipText","accentPrimary","HapticFeedback","selection","Sun","Moon","_require5","require","React","render","fireEvent","ThemeModeToggle","jsx","_jsx","describe","beforeEach","clearAllMocks","it","_render","getByTestId","expect","toBeTruthy","_render2","testID","_render3","variant","getByText","_render4","_require","mockReturnValue","_render5","_require2","_render6","_require3","mockToggle","_render7","press","toHaveBeenCalled","_require4","_render8","_render9","button","props","style","toContainEqual","objectContaining","paddingHorizontal","paddingVertical","_render10","_render11","customStyle","marginTop","_render12","_render13","backgroundColor","borderColor"],"sources":["ThemeModeToggle.test.tsx"],"sourcesContent":["/**\n * Тесты для ThemeModeToggle\n * Проверяет переключение темы, варианты отображения, иконки\n */\n\nimport React from 'react';\nimport { render, fireEvent } from '@testing-library/react-native';\nimport { ThemeModeToggle } from '@/components/ThemeModeToggle';\n\n// Моки\njest.mock('@/constants/ThemeContext', () => ({\n  useThemeMode: jest.fn(() => ({\n    themeMode: 'sunrise',\n    toggleThemeMode: jest.fn(),\n    theme: {\n      chipBackground: '#ffffff',\n      chipText: '#000000',\n      accentPrimary: '#4A90E2',\n    },\n  })),\n}));\n\njest.mock('@/constants/haptics', () => ({\n  HapticFeedback: {\n    selection: jest.fn(),\n  },\n}));\n\njest.mock('lucide-react-native', () => ({\n  Sun: () => null,\n  Moon: () => null,\n}));\n\ndescribe('ThemeModeToggle', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe('Рендеринг', () => {\n    it('должен отображать компонент переключения темы', () => {\n      const { getByTestId } = render(<ThemeModeToggle />);\n      expect(getByTestId('theme-toggle-button')).toBeTruthy();\n    });\n\n    it('должен использовать кастомный testID', () => {\n      const { getByTestId } = render(<ThemeModeToggle testID=\"custom-toggle\" />);\n      expect(getByTestId('custom-toggle')).toBeTruthy();\n    });\n\n    it('должен показывать \"День\" в compact режиме для sunrise темы', () => {\n      const { getByText } = render(<ThemeModeToggle variant=\"compact\" />);\n      expect(getByText('День')).toBeTruthy();\n    });\n\n    it('должен показывать \"Светлый режим\" в expanded режиме для sunrise темы', () => {\n      const { getByText } = render(<ThemeModeToggle variant=\"expanded\" />);\n      expect(getByText('Светлый режим')).toBeTruthy();\n    });\n\n    it('должен показывать \"Ночь\" в compact режиме для midnight темы', () => {\n      const { useThemeMode } = require('@/constants/ThemeContext');\n      useThemeMode.mockReturnValue({\n        themeMode: 'midnight',\n        toggleThemeMode: jest.fn(),\n        theme: {\n          chipBackground: '#000000',\n          chipText: '#ffffff',\n          accentPrimary: '#4A90E2',\n        },\n      });\n\n      const { getByText } = render(<ThemeModeToggle variant=\"compact\" />);\n      expect(getByText('Ночь')).toBeTruthy();\n    });\n\n    it('должен показывать \"Ночной режим\" в expanded режиме для midnight темы', () => {\n      const { useThemeMode } = require('@/constants/ThemeContext');\n      useThemeMode.mockReturnValue({\n        themeMode: 'midnight',\n        toggleThemeMode: jest.fn(),\n        theme: {\n          chipBackground: '#000000',\n          chipText: '#ffffff',\n          accentPrimary: '#4A90E2',\n        },\n      });\n\n      const { getByText } = render(<ThemeModeToggle variant=\"expanded\" />);\n      expect(getByText('Ночной режим')).toBeTruthy();\n    });\n  });\n\n  describe('Переключение темы', () => {\n    it('должен вызывать toggleThemeMode при нажатии', () => {\n      const { useThemeMode } = require('@/constants/ThemeContext');\n      const mockToggle = jest.fn();\n      useThemeMode.mockReturnValue({\n        themeMode: 'sunrise',\n        toggleThemeMode: mockToggle,\n        theme: {\n          chipBackground: '#ffffff',\n          chipText: '#000000',\n          accentPrimary: '#4A90E2',\n        },\n      });\n\n      const { getByTestId } = render(<ThemeModeToggle />);\n      fireEvent.press(getByTestId('theme-toggle-button'));\n\n      expect(mockToggle).toHaveBeenCalled();\n    });\n\n    it('должен вызывать HapticFeedback при переключении', () => {\n      const { HapticFeedback } = require('@/constants/haptics');\n      const { getByTestId } = render(<ThemeModeToggle />);\n      \n      fireEvent.press(getByTestId('theme-toggle-button'));\n\n      expect(HapticFeedback.selection).toHaveBeenCalled();\n    });\n  });\n\n  describe('Варианты отображения', () => {\n    it('должен применять compact стили для variant=\"compact\"', () => {\n      const { getByTestId } = render(<ThemeModeToggle variant=\"compact\" />);\n      const button = getByTestId('theme-toggle-button');\n      expect(button.props.style).toContainEqual(\n        expect.objectContaining({\n          paddingHorizontal: 12,\n          paddingVertical: 6,\n        })\n      );\n    });\n\n    it('должен применять expanded стили для variant=\"expanded\"', () => {\n      const { getByTestId } = render(<ThemeModeToggle variant=\"expanded\" />);\n      const button = getByTestId('theme-toggle-button');\n      expect(button.props.style).toContainEqual(\n        expect.objectContaining({\n          paddingHorizontal: 18,\n          paddingVertical: 10,\n        })\n      );\n    });\n\n    it('должен использовать compact по умолчанию', () => {\n      const { getByTestId } = render(<ThemeModeToggle />);\n      const button = getByTestId('theme-toggle-button');\n      expect(button.props.style).toContainEqual(\n        expect.objectContaining({\n          paddingHorizontal: 12,\n          paddingVertical: 6,\n        })\n      );\n    });\n  });\n\n  describe('Стилизация', () => {\n    it('должен применять переданный style', () => {\n      const customStyle = { marginTop: 10 };\n      const { getByTestId } = render(<ThemeModeToggle style={customStyle} />);\n      const button = getByTestId('theme-toggle-button');\n      expect(button.props.style).toContainEqual(customStyle);\n    });\n\n    it('должен использовать цвета из темы', () => {\n      const { getByTestId } = render(<ThemeModeToggle />);\n      const button = getByTestId('theme-toggle-button');\n      expect(button.props.style).toContainEqual(\n        expect.objectContaining({\n          backgroundColor: '#ffffff',\n          borderColor: '#4A90E2',\n        })\n      );\n    });\n  });\n});\n"],"mappings":"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","ignoreList":[]}