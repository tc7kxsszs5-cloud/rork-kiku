{"version":3,"names":["_getJestObj","mock","useThemeMode","jest","fn","theme","backgroundPrimary","textSecondary","useAuth","isAuthenticated","_require5","require","React","render","OnlineStatus","jsx","_jsx","describe","beforeEach","clearAllMocks","it","_render","UNSAFE_getByType","view","expect","toBeTruthy","_require","mockReturnValue","_render2","dot","props","children","find","child","_child$props","style","backgroundColor","_require2","_render3","_child$props2","_render4","size","_child$props3","width","_render5","_child$props4","_render6","_child$props5","_render7","queryByText","toBeNull","_require3","_render8","showText","getByText","_require4","_render9","customStyle","marginTop","_render10","container","toContainEqual"],"sources":["OnlineStatus.test.tsx"],"sourcesContent":["/**\n * Тесты для OnlineStatus\n * Проверяет отображение статуса онлайн/офлайн, размеры, текст\n */\n\nimport React from 'react';\nimport { render, waitFor } from '@testing-library/react-native';\nimport { OnlineStatus } from '@/components/OnlineStatus';\n\n// Моки\njest.mock('@/constants/ThemeContext', () => ({\n  useThemeMode: jest.fn(() => ({\n    theme: {\n      backgroundPrimary: '#ffffff',\n      textSecondary: '#666666',\n    },\n  })),\n}));\n\njest.mock('@/constants/AuthContext', () => ({\n  useAuth: jest.fn(() => ({\n    isAuthenticated: true,\n  })),\n}));\n\ndescribe('OnlineStatus', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe('Рендеринг', () => {\n    it('должен отображать компонент статуса', () => {\n      const { UNSAFE_getByType } = render(<OnlineStatus />);\n      const view = UNSAFE_getByType('View');\n      expect(view).toBeTruthy();\n    });\n\n    it('должен показывать зеленый кружок когда пользователь онлайн', () => {\n      const { useAuth } = require('@/constants/AuthContext');\n      useAuth.mockReturnValue({ isAuthenticated: true });\n\n      const { UNSAFE_getByType } = render(<OnlineStatus />);\n      const dot = UNSAFE_getByType('View').props.children.find(\n        (child: any) => child?.props?.style?.backgroundColor === '#22c55e'\n      );\n      expect(dot).toBeTruthy();\n    });\n\n    it('должен показывать серый кружок когда пользователь офлайн', () => {\n      const { useAuth } = require('@/constants/AuthContext');\n      useAuth.mockReturnValue({ isAuthenticated: false });\n\n      const { UNSAFE_getByType } = render(<OnlineStatus />);\n      const dot = UNSAFE_getByType('View').props.children.find(\n        (child: any) => child?.props?.style?.backgroundColor === '#9ca3af'\n      );\n      expect(dot).toBeTruthy();\n    });\n  });\n\n  describe('Размеры', () => {\n    it('должен использовать размер small', () => {\n      const { UNSAFE_getByType } = render(<OnlineStatus size=\"small\" />);\n      const dot = UNSAFE_getByType('View').props.children.find(\n        (child: any) => child?.props?.style?.width === 8\n      );\n      expect(dot).toBeTruthy();\n    });\n\n    it('должен использовать размер medium по умолчанию', () => {\n      const { UNSAFE_getByType } = render(<OnlineStatus />);\n      const dot = UNSAFE_getByType('View').props.children.find(\n        (child: any) => child?.props?.style?.width === 12\n      );\n      expect(dot).toBeTruthy();\n    });\n\n    it('должен использовать размер large', () => {\n      const { UNSAFE_getByType } = render(<OnlineStatus size=\"large\" />);\n      const dot = UNSAFE_getByType('View').props.children.find(\n        (child: any) => child?.props?.style?.width === 16\n      );\n      expect(dot).toBeTruthy();\n    });\n  });\n\n  describe('Текст статуса', () => {\n    it('не должен показывать текст по умолчанию', () => {\n      const { queryByText } = render(<OnlineStatus />);\n      expect(queryByText('В сети')).toBeNull();\n      expect(queryByText('Не в сети')).toBeNull();\n    });\n\n    it('должен показывать текст \"В сети\" когда showText=true и пользователь онлайн', () => {\n      const { useAuth } = require('@/constants/AuthContext');\n      useAuth.mockReturnValue({ isAuthenticated: true });\n\n      const { getByText } = render(<OnlineStatus showText={true} />);\n      expect(getByText('В сети')).toBeTruthy();\n    });\n\n    it('должен показывать текст \"Не в сети\" когда showText=true и пользователь офлайн', () => {\n      const { useAuth } = require('@/constants/AuthContext');\n      useAuth.mockReturnValue({ isAuthenticated: false });\n\n      const { getByText } = render(<OnlineStatus showText={true} />);\n      expect(getByText('Не в сети')).toBeTruthy();\n    });\n  });\n\n  describe('Стилизация', () => {\n    it('должен применять переданный style', () => {\n      const customStyle = { marginTop: 10 };\n      const { UNSAFE_getByType } = render(<OnlineStatus style={customStyle} />);\n      const container = UNSAFE_getByType('View');\n      expect(container.props.style).toContainEqual(customStyle);\n    });\n  });\n});\n"],"mappings":"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","ignoreList":[]}