{"version":3,"names":["isEmoji","char","cov_1ulmhj6296","f","emojiRegex","s","test","extractEmojis","text","b","match","countEmojis","length","TEXT_TO_EMOJI_MAP","replaceTextSmileys","result","sortedEntries","Object","entries","sort","a","forEach","_ref","_ref2","_slicedToArray","textSmiley","emoji","regex","RegExp","replace","hasEmojis","getFirstEmoji","emojis","removeEmojis","trim","getEmojiStats","uniqueEmojis","Array","from","Set","emojiCounts","mostUsed","map","_ref3","_ref4","count","slice","total","unique"],"sources":["emojiUtils.ts"],"sourcesContent":["/**\n * –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —ç–º–æ–¥–∑–∏\n * \n * –§—É–Ω–∫—Ü–∏–∏:\n * - –ü–∞—Ä—Å–∏–Ω–≥ —ç–º–æ–¥–∑–∏ –∏–∑ —Ç–µ–∫—Å—Ç–∞\n * - –í–∞–ª–∏–¥–∞—Ü–∏—è —ç–º–æ–¥–∑–∏\n * - –ü–æ–¥—Å—á—ë—Ç —ç–º–æ–¥–∑–∏ –≤ —Ç–µ–∫—Å—Ç–µ\n * - –ó–∞–º–µ–Ω–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–º–∞–π–ª–∏–∫–æ–≤ –Ω–∞ —ç–º–æ–¥–∑–∏\n * - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —ç–º–æ–¥–∑–∏\n */\n\nimport { loadCustomEmojis, CustomEmojiData } from './customEmojis';\n\n/**\n * –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Å–∏–º–≤–æ–ª —ç–º–æ–¥–∑–∏\n */\nexport function isEmoji(char: string): boolean {\n  // Unicode –¥–∏–∞–ø–∞–∑–æ–Ω—ã –¥–ª—è —ç–º–æ–¥–∑–∏\n  const emojiRegex = /[\\u{1F300}-\\u{1F9FF}]|[\\u{2600}-\\u{26FF}]|[\\u{2700}-\\u{27BF}]|[\\u{1F600}-\\u{1F64F}]|[\\u{1F680}-\\u{1F6FF}]|[\\u{1F1E0}-\\u{1F1FF}]|[\\u{1F900}-\\u{1F9FF}]|[\\u{1FA00}-\\u{1FA6F}]|[\\u{1FA70}-\\u{1FAFF}]|[\\u{200D}]|[\\u{FE0F}]/u;\n  return emojiRegex.test(char);\n}\n\n/**\n * –ù–∞–π—Ç–∏ –≤—Å–µ —ç–º–æ–¥–∑–∏ –≤ —Ç–µ–∫—Å—Ç–µ\n */\nexport function extractEmojis(text: string): string[] {\n  const emojiRegex = /[\\u{1F300}-\\u{1F9FF}]|[\\u{2600}-\\u{26FF}]|[\\u{2700}-\\u{27BF}]|[\\u{1F600}-\\u{1F64F}]|[\\u{1F680}-\\u{1F6FF}]|[\\u{1F1E0}-\\u{1F1FF}]|[\\u{1F900}-\\u{1F9FF}]|[\\u{1FA00}-\\u{1FA6F}]|[\\u{1FA70}-\\u{1FAFF}]/gu;\n  return text.match(emojiRegex) || [];\n}\n\n/**\n * –ü–æ–¥—Å—á–∏—Ç–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–º–æ–¥–∑–∏ –≤ —Ç–µ–∫—Å—Ç–µ\n */\nexport function countEmojis(text: string): number {\n  return extractEmojis(text).length;\n}\n\n/**\n * –ó–∞–º–µ–Ω–∏—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–º–∞–π–ª–∏–∫–∏ –Ω–∞ —ç–º–æ–¥–∑–∏\n */\nconst TEXT_TO_EMOJI_MAP: Record<string, string> = {\n  ':)': 'üòä',\n  ':-)': 'üòä',\n  ':(': 'üò¢',\n  ':-(': 'üò¢',\n  ':D': 'üòÉ',\n  ':-D': 'üòÉ',\n  ':P': 'üòõ',\n  ':-P': 'üòõ',\n  ';)': 'üòâ',\n  ';-)': 'üòâ',\n  ':O': 'üòÆ',\n  ':-O': 'üòÆ',\n  ':*': 'üòò',\n  ':-*': 'üòò',\n  '<3': '‚ù§Ô∏è',\n  '</3': 'üíî',\n  ':3': 'üòä',\n  '>:(': 'üò†',\n  '>:)': 'üòà',\n  ':|': 'üòê',\n  ':-|': 'üòê',\n  ':/': 'üòï',\n  ':-/': 'üòï',\n  ':S': 'üòï',\n  ':-S': 'üòï',\n  ':$': 'üò≥',\n  ':-$': 'üò≥',\n  ':@': 'üò†',\n  ':-@': 'üò†',\n  '8)': 'üòé',\n  '8-)': 'üòé',\n  'B)': 'üòé',\n  'B-)': 'üòé',\n  'xD': 'üòÜ',\n  'XD': 'üòÜ',\n  'x)': 'üòÜ',\n  'X)': 'üòÜ',\n  'o.O': 'üòï',\n  'O.o': 'üòï',\n  'o_o': 'üòê',\n  'O_O': 'üòê',\n  '^_^': 'üòä',\n  'T_T': 'üò≠',\n  '>_<': 'üò£',\n  '>.<': 'üò£',\n  '-_-': 'üòë',\n  'u_u': 'üòë',\n  'U_U': 'üòë',\n};\n\nexport function replaceTextSmileys(text: string): string {\n  let result = text;\n  \n  // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –¥–ª–∏–Ω–µ (–æ—Ç –¥–ª–∏–Ω–Ω—ã—Ö –∫ –∫–æ—Ä–æ—Ç–∫–∏–º), —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤\n  const sortedEntries = Object.entries(TEXT_TO_EMOJI_MAP).sort((a, b) => b[0].length - a[0].length);\n  \n  sortedEntries.forEach(([textSmiley, emoji]) => {\n    // –ò—Å–ø–æ–ª—å–∑—É–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ –¥–ª—è –∑–∞–º–µ–Ω—ã –≤—Å–µ—Ö –≤—Ö–æ–∂–¥–µ–Ω–∏–π\n    const regex = new RegExp(textSmiley.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'), 'g');\n    result = result.replace(regex, emoji);\n  });\n  \n  return result;\n}\n\n/**\n * –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–∏ —Ç–µ–∫—Å—Ç —ç–º–æ–¥–∑–∏\n */\nexport function hasEmojis(text: string): boolean {\n  return countEmojis(text) > 0;\n}\n\n/**\n * –ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–≤—ã–π —ç–º–æ–¥–∑–∏ –∏–∑ —Ç–µ–∫—Å—Ç–∞\n */\nexport function getFirstEmoji(text: string): string | null {\n  const emojis = extractEmojis(text);\n  return emojis.length > 0 ? emojis[0] : null;\n}\n\n/**\n * –£–¥–∞–ª–∏—Ç—å –≤—Å–µ —ç–º–æ–¥–∑–∏ –∏–∑ —Ç–µ–∫—Å—Ç–∞\n */\nexport function removeEmojis(text: string): string {\n  const emojiRegex = /[\\u{1F300}-\\u{1F9FF}]|[\\u{2600}-\\u{26FF}]|[\\u{2700}-\\u{27BF}]|[\\u{1F600}-\\u{1F64F}]|[\\u{1F680}-\\u{1F6FF}]|[\\u{1F1E0}-\\u{1F1FF}]|[\\u{1F900}-\\u{1F9FF}]|[\\u{1FA00}-\\u{1FA6F}]|[\\u{1FA70}-\\u{1FAFF}]/gu;\n  return text.replace(emojiRegex, '').trim();\n}\n\n/**\n * –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —ç–º–æ–¥–∑–∏ –≤ —Ç–µ–∫—Å—Ç–µ\n */\nexport function getEmojiStats(text: string): {\n  total: number;\n  unique: number;\n  emojis: string[];\n  mostUsed: { emoji: string; count: number }[];\n} {\n  const emojis = extractEmojis(text);\n  const uniqueEmojis = Array.from(new Set(emojis));\n  \n  // –ü–æ–¥—Å—á—ë—Ç —á–∞—Å—Ç–æ—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è\n  const emojiCounts: Record<string, number> = {};\n  emojis.forEach(emoji => {\n    emojiCounts[emoji] = (emojiCounts[emoji] || 0) + 1;\n  });\n  \n  const mostUsed = Object.entries(emojiCounts)\n    .map(([emoji, count]) => ({ emoji, count }))\n    .sort((a, b) => b.count - a.count)\n    .slice(0, 5);\n  \n  return {\n    total: emojis.length,\n    unique: uniqueEmojis.length,\n    emojis: uniqueEmojis,\n    mostUsed,\n  };\n}\n"],"mappings":"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","ignoreList":[]}