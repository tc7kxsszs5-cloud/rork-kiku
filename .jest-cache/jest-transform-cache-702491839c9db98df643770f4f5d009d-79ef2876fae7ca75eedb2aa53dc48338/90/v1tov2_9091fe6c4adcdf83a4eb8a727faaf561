62eeb2dd010beaebe44c64759ab3cc7b
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.analyticsV1ToV2 = void 0;
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _excluded = ["sessionId", "deviceId", "metadata"],
  _excluded2 = ["migrated", "migratedAt"];
var analyticsV1ToV2 = exports.analyticsV1ToV2 = {
  fromVersion: 1,
  toVersion: 2,
  name: 'Add session and device tracking to analytics',
  description: 'Добавляет sessionId, deviceId и metadata к событиям аналитики',
  migrate: function () {
    var _migrate = (0, _asyncToGenerator2.default)(function* (data) {
      var generateDeviceId = function generateDeviceId() {
        return `device_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
      };
      var generateSessionId = function generateSessionId() {
        return `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
      };
      var deviceId = data.deviceId;
      if (!deviceId) {
        deviceId = generateDeviceId();
        data.deviceId = deviceId;
      }
      if (data.events && Array.isArray(data.events)) {
        var currentSessionId = null;
        var lastSessionEndTime = 0;
        var SESSION_TIMEOUT = 30 * 60 * 1000;
        data.events = data.events.map(function (event) {
          if (event.event === 'session_started') {
            currentSessionId = generateSessionId();
            lastSessionEndTime = event.timestamp;
          } else if (event.event === 'session_ended') {
            lastSessionEndTime = event.timestamp;
            currentSessionId = null;
          } else if (currentSessionId && event.timestamp - lastSessionEndTime < SESSION_TIMEOUT) {} else if (!currentSessionId && event.timestamp - lastSessionEndTime > SESSION_TIMEOUT) {
            currentSessionId = generateSessionId();
            lastSessionEndTime = event.timestamp;
          }
          var migratedEvent = Object.assign({}, event, {
            sessionId: event.sessionId || currentSessionId || generateSessionId(),
            deviceId: event.deviceId || deviceId,
            metadata: Object.assign({}, event.metadata, {
              migrated: true,
              migratedAt: Date.now()
            })
          });
          return migratedEvent;
        });
      }
      data.version = 2;
      data.migratedAt = Date.now();
      data.migratedFrom = 1;
      return data;
    });
    function migrate(_x) {
      return _migrate.apply(this, arguments);
    }
    return migrate;
  }(),
  rollback: function () {
    var _rollback = (0, _asyncToGenerator2.default)(function* (data) {
      if (data.events && Array.isArray(data.events)) {
        data.events = data.events.map(function (event) {
          var sessionId = event.sessionId,
            deviceId = event.deviceId,
            metadata = event.metadata,
            rest = (0, _objectWithoutProperties2.default)(event, _excluded);
          if (metadata && metadata.migrated) {
            var migrated = metadata.migrated,
              migratedAt = metadata.migratedAt,
              restMetadata = (0, _objectWithoutProperties2.default)(metadata, _excluded2);
            if (Object.keys(restMetadata).length > 0) {
              return Object.assign({}, rest, {
                metadata: restMetadata
              });
            }
          }
          return rest;
        });
      }
      if (data.deviceId && data.deviceId.startsWith('device_')) {
        delete data.deviceId;
      }
      data.version = 1;
      return data;
    });
    function rollback(_x2) {
      return _rollback.apply(this, arguments);
    }
    return rollback;
  }()
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhbmFseXRpY3NWMVRvVjIiLCJleHBvcnRzIiwiZnJvbVZlcnNpb24iLCJ0b1ZlcnNpb24iLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJtaWdyYXRlIiwiX21pZ3JhdGUiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJkZWZhdWx0IiwiZGF0YSIsImdlbmVyYXRlRGV2aWNlSWQiLCJEYXRlIiwibm93IiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyIiwiZ2VuZXJhdGVTZXNzaW9uSWQiLCJkZXZpY2VJZCIsImV2ZW50cyIsIkFycmF5IiwiaXNBcnJheSIsImN1cnJlbnRTZXNzaW9uSWQiLCJsYXN0U2Vzc2lvbkVuZFRpbWUiLCJTRVNTSU9OX1RJTUVPVVQiLCJtYXAiLCJldmVudCIsInRpbWVzdGFtcCIsIm1pZ3JhdGVkRXZlbnQiLCJPYmplY3QiLCJhc3NpZ24iLCJzZXNzaW9uSWQiLCJtZXRhZGF0YSIsIm1pZ3JhdGVkIiwibWlncmF0ZWRBdCIsInZlcnNpb24iLCJtaWdyYXRlZEZyb20iLCJfeCIsImFwcGx5IiwiYXJndW1lbnRzIiwicm9sbGJhY2siLCJfcm9sbGJhY2siLCJyZXN0IiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiIsIl9leGNsdWRlZCIsInJlc3RNZXRhZGF0YSIsIl9leGNsdWRlZDIiLCJrZXlzIiwibGVuZ3RoIiwic3RhcnRzV2l0aCIsIl94MiJdLCJzb3VyY2VzIjpbInYxLXRvLXYyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICog0JzQuNCz0YDQsNGG0LjRjyBBbmFseXRpY3Mg0LTQsNC90L3Ri9GFINGBINCy0LXRgNGB0LjQuCAxINC90LAg0LLQtdGA0YHQuNGOIDJcbiAqIFxuICog0JTQvtCx0LDQstC70Y/QtdGCOlxuICogLSBzZXNzaW9uSWQg0Log0YHQvtCx0YvRgtC40Y/QvFxuICogLSBkZXZpY2VJZCDQuiDRgdC+0LHRi9GC0LjRj9C8XG4gKiAtIG1ldGFkYXRhINC6INGB0L7QsdGL0YLQuNGP0LxcbiAqL1xuXG5pbXBvcnQgeyBNaWdyYXRpb24gfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBjb25zdCBhbmFseXRpY3NWMVRvVjI6IE1pZ3JhdGlvbiA9IHtcbiAgZnJvbVZlcnNpb246IDEsXG4gIHRvVmVyc2lvbjogMixcbiAgbmFtZTogJ0FkZCBzZXNzaW9uIGFuZCBkZXZpY2UgdHJhY2tpbmcgdG8gYW5hbHl0aWNzJyxcbiAgZGVzY3JpcHRpb246ICfQlNC+0LHQsNCy0LvRj9C10YIgc2Vzc2lvbklkLCBkZXZpY2VJZCDQuCBtZXRhZGF0YSDQuiDRgdC+0LHRi9GC0LjRj9C8INCw0L3QsNC70LjRgtC40LrQuCcsXG5cbiAgYXN5bmMgbWlncmF0ZShkYXRhOiBhbnkpIHtcbiAgICAvLyDQk9C10L3QtdGA0LjRgNGD0LXQvCBkZXZpY2VJZCDQtdGB0LvQuCDQtdCz0L4g0L3QtdGCXG4gICAgY29uc3QgZ2VuZXJhdGVEZXZpY2VJZCA9ICgpID0+IHtcbiAgICAgIHJldHVybiBgZGV2aWNlXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YDtcbiAgICB9O1xuXG4gICAgLy8g0JPQtdC90LXRgNC40YDRg9C10Lwgc2Vzc2lvbklkINC10YHQu9C4INC10LPQviDQvdC10YJcbiAgICBjb25zdCBnZW5lcmF0ZVNlc3Npb25JZCA9ICgpID0+IHtcbiAgICAgIHJldHVybiBgc2Vzc2lvbl8ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XG4gICAgfTtcblxuICAgIC8vINCf0L7Qu9GD0YfQsNC10Lwg0LjQu9C4INGB0L7Qt9C00LDRkdC8IGRldmljZUlkXG4gICAgbGV0IGRldmljZUlkID0gZGF0YS5kZXZpY2VJZDtcbiAgICBpZiAoIWRldmljZUlkKSB7XG4gICAgICBkZXZpY2VJZCA9IGdlbmVyYXRlRGV2aWNlSWQoKTtcbiAgICAgIGRhdGEuZGV2aWNlSWQgPSBkZXZpY2VJZDtcbiAgICB9XG5cbiAgICAvLyDQnNC40LPRgNC40YDRg9C10Lwg0YHQvtCx0YvRgtC40Y9cbiAgICBpZiAoZGF0YS5ldmVudHMgJiYgQXJyYXkuaXNBcnJheShkYXRhLmV2ZW50cykpIHtcbiAgICAgIGxldCBjdXJyZW50U2Vzc2lvbklkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICAgIGxldCBsYXN0U2Vzc2lvbkVuZFRpbWUgPSAwO1xuICAgICAgY29uc3QgU0VTU0lPTl9USU1FT1VUID0gMzAgKiA2MCAqIDEwMDA7IC8vIDMwINC80LjQvdGD0YJcblxuICAgICAgZGF0YS5ldmVudHMgPSBkYXRhLmV2ZW50cy5tYXAoKGV2ZW50OiBhbnkpID0+IHtcbiAgICAgICAgLy8g0J7Qv9GA0LXQtNC10LvRj9C10Lwgc2Vzc2lvbklkXG4gICAgICAgIGlmIChldmVudC5ldmVudCA9PT0gJ3Nlc3Npb25fc3RhcnRlZCcpIHtcbiAgICAgICAgICAvLyDQndC+0LLRi9C5INGB0LXQsNC90YFcbiAgICAgICAgICBjdXJyZW50U2Vzc2lvbklkID0gZ2VuZXJhdGVTZXNzaW9uSWQoKTtcbiAgICAgICAgICBsYXN0U2Vzc2lvbkVuZFRpbWUgPSBldmVudC50aW1lc3RhbXA7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuZXZlbnQgPT09ICdzZXNzaW9uX2VuZGVkJykge1xuICAgICAgICAgIC8vINCa0L7QvdC10YYg0YHQtdCw0L3RgdCwXG4gICAgICAgICAgbGFzdFNlc3Npb25FbmRUaW1lID0gZXZlbnQudGltZXN0YW1wO1xuICAgICAgICAgIGN1cnJlbnRTZXNzaW9uSWQgPSBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRTZXNzaW9uSWQgJiYgZXZlbnQudGltZXN0YW1wIC0gbGFzdFNlc3Npb25FbmRUaW1lIDwgU0VTU0lPTl9USU1FT1VUKSB7XG4gICAgICAgICAgLy8g0KHQvtCx0YvRgtC40LUg0LIg0YLQtdC60YPRidC10Lwg0YHQtdCw0L3RgdC1XG4gICAgICAgICAgLy8gY3VycmVudFNlc3Npb25JZCDRg9C20LUg0YPRgdGC0LDQvdC+0LLQu9C10L1cbiAgICAgICAgfSBlbHNlIGlmICghY3VycmVudFNlc3Npb25JZCAmJiBldmVudC50aW1lc3RhbXAgLSBsYXN0U2Vzc2lvbkVuZFRpbWUgPiBTRVNTSU9OX1RJTUVPVVQpIHtcbiAgICAgICAgICAvLyDQndC+0LLRi9C5INGB0LXQsNC90YEgKNC/0YDQvtGI0LvQviDQsdC+0LvRjNGI0LUgMzAg0LzQuNC90YPRgilcbiAgICAgICAgICBjdXJyZW50U2Vzc2lvbklkID0gZ2VuZXJhdGVTZXNzaW9uSWQoKTtcbiAgICAgICAgICBsYXN0U2Vzc2lvbkVuZFRpbWUgPSBldmVudC50aW1lc3RhbXA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyDQlNC+0LHQsNCy0LvRj9C10Lwg0L3QvtCy0YvQtSDQv9C+0LvRj1xuICAgICAgICBjb25zdCBtaWdyYXRlZEV2ZW50ID0ge1xuICAgICAgICAgIC4uLmV2ZW50LFxuICAgICAgICAgIHNlc3Npb25JZDogZXZlbnQuc2Vzc2lvbklkIHx8IGN1cnJlbnRTZXNzaW9uSWQgfHwgZ2VuZXJhdGVTZXNzaW9uSWQoKSxcbiAgICAgICAgICBkZXZpY2VJZDogZXZlbnQuZGV2aWNlSWQgfHwgZGV2aWNlSWQsXG4gICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgIC4uLmV2ZW50Lm1ldGFkYXRhLFxuICAgICAgICAgICAgbWlncmF0ZWQ6IHRydWUsXG4gICAgICAgICAgICBtaWdyYXRlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG1pZ3JhdGVkRXZlbnQ7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyDQntCx0L3QvtCy0LvRj9C10Lwg0LLQtdGA0YHQuNGOXG4gICAgZGF0YS52ZXJzaW9uID0gMjtcbiAgICBkYXRhLm1pZ3JhdGVkQXQgPSBEYXRlLm5vdygpO1xuICAgIGRhdGEubWlncmF0ZWRGcm9tID0gMTtcblxuICAgIHJldHVybiBkYXRhO1xuICB9LFxuXG4gIGFzeW5jIHJvbGxiYWNrKGRhdGE6IGFueSkge1xuICAgIC8vINCe0YLQutCw0YIg0LzQuNCz0YDQsNGG0LjQuCAtINGD0LTQsNC70Y/QtdC8INC90L7QstGL0LUg0L/QvtC70Y9cbiAgICBpZiAoZGF0YS5ldmVudHMgJiYgQXJyYXkuaXNBcnJheShkYXRhLmV2ZW50cykpIHtcbiAgICAgIGRhdGEuZXZlbnRzID0gZGF0YS5ldmVudHMubWFwKChldmVudDogYW55KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgc2Vzc2lvbklkLCBkZXZpY2VJZCwgbWV0YWRhdGEsIC4uLnJlc3QgfSA9IGV2ZW50O1xuICAgICAgICAvLyDQo9C00LDQu9GP0LXQvCBtZXRhZGF0YS5taWdyYXRlZCDQtdGB0LvQuCDQtdGB0YLRjFxuICAgICAgICBpZiAobWV0YWRhdGEgJiYgbWV0YWRhdGEubWlncmF0ZWQpIHtcbiAgICAgICAgICBjb25zdCB7IG1pZ3JhdGVkLCBtaWdyYXRlZEF0LCAuLi5yZXN0TWV0YWRhdGEgfSA9IG1ldGFkYXRhO1xuICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhyZXN0TWV0YWRhdGEpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3QsIG1ldGFkYXRhOiByZXN0TWV0YWRhdGEgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3Q7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyDQo9C00LDQu9GP0LXQvCBkZXZpY2VJZCDQuNC3INC60L7RgNC90Y8g0LXRgdC70Lgg0LHRi9C7INC00L7QsdCw0LLQu9C10L1cbiAgICBpZiAoZGF0YS5kZXZpY2VJZCAmJiBkYXRhLmRldmljZUlkLnN0YXJ0c1dpdGgoJ2RldmljZV8nKSkge1xuICAgICAgZGVsZXRlIGRhdGEuZGV2aWNlSWQ7XG4gICAgfVxuXG4gICAgZGF0YS52ZXJzaW9uID0gMTtcbiAgICByZXR1cm4gZGF0YTtcbiAgfSxcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQVdPLElBQU1BLGVBQTBCLEdBQUFDLE9BQUEsQ0FBQUQsZUFBQSxHQUFHO0VBQ3hDRSxXQUFXLEVBQUUsQ0FBQztFQUNkQyxTQUFTLEVBQUUsQ0FBQztFQUNaQyxJQUFJLEVBQUUsOENBQThDO0VBQ3BEQyxXQUFXLEVBQUUsK0RBQStEO0VBRXRFQyxPQUFPO0lBQUEsSUFBQUMsUUFBQSxPQUFBQyxrQkFBQSxDQUFBQyxPQUFBLGFBQUNDLElBQVMsRUFBRTtNQUV2QixJQUFNQyxnQkFBZ0IsR0FBRyxTQUFuQkEsZ0JBQWdCQSxDQUFBLEVBQVM7UUFDN0IsT0FBTyxVQUFVQyxJQUFJLENBQUNDLEdBQUcsQ0FBQyxDQUFDLElBQUlDLElBQUksQ0FBQ0MsTUFBTSxDQUFDLENBQUMsQ0FBQ0MsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFO01BQzFFLENBQUM7TUFHRCxJQUFNQyxpQkFBaUIsR0FBRyxTQUFwQkEsaUJBQWlCQSxDQUFBLEVBQVM7UUFDOUIsT0FBTyxXQUFXTixJQUFJLENBQUNDLEdBQUcsQ0FBQyxDQUFDLElBQUlDLElBQUksQ0FBQ0MsTUFBTSxDQUFDLENBQUMsQ0FBQ0MsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFO01BQzNFLENBQUM7TUFHRCxJQUFJRSxRQUFRLEdBQUdULElBQUksQ0FBQ1MsUUFBUTtNQUM1QixJQUFJLENBQUNBLFFBQVEsRUFBRTtRQUNiQSxRQUFRLEdBQUdSLGdCQUFnQixDQUFDLENBQUM7UUFDN0JELElBQUksQ0FBQ1MsUUFBUSxHQUFHQSxRQUFRO01BQzFCO01BR0EsSUFBSVQsSUFBSSxDQUFDVSxNQUFNLElBQUlDLEtBQUssQ0FBQ0MsT0FBTyxDQUFDWixJQUFJLENBQUNVLE1BQU0sQ0FBQyxFQUFFO1FBQzdDLElBQUlHLGdCQUErQixHQUFHLElBQUk7UUFDMUMsSUFBSUMsa0JBQWtCLEdBQUcsQ0FBQztRQUMxQixJQUFNQyxlQUFlLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxJQUFJO1FBRXRDZixJQUFJLENBQUNVLE1BQU0sR0FBR1YsSUFBSSxDQUFDVSxNQUFNLENBQUNNLEdBQUcsQ0FBQyxVQUFDQyxLQUFVLEVBQUs7VUFFNUMsSUFBSUEsS0FBSyxDQUFDQSxLQUFLLEtBQUssaUJBQWlCLEVBQUU7WUFFckNKLGdCQUFnQixHQUFHTCxpQkFBaUIsQ0FBQyxDQUFDO1lBQ3RDTSxrQkFBa0IsR0FBR0csS0FBSyxDQUFDQyxTQUFTO1VBQ3RDLENBQUMsTUFBTSxJQUFJRCxLQUFLLENBQUNBLEtBQUssS0FBSyxlQUFlLEVBQUU7WUFFMUNILGtCQUFrQixHQUFHRyxLQUFLLENBQUNDLFNBQVM7WUFDcENMLGdCQUFnQixHQUFHLElBQUk7VUFDekIsQ0FBQyxNQUFNLElBQUlBLGdCQUFnQixJQUFJSSxLQUFLLENBQUNDLFNBQVMsR0FBR0osa0JBQWtCLEdBQUdDLGVBQWUsRUFBRSxDQUd2RixDQUFDLE1BQU0sSUFBSSxDQUFDRixnQkFBZ0IsSUFBSUksS0FBSyxDQUFDQyxTQUFTLEdBQUdKLGtCQUFrQixHQUFHQyxlQUFlLEVBQUU7WUFFdEZGLGdCQUFnQixHQUFHTCxpQkFBaUIsQ0FBQyxDQUFDO1lBQ3RDTSxrQkFBa0IsR0FBR0csS0FBSyxDQUFDQyxTQUFTO1VBQ3RDO1VBR0EsSUFBTUMsYUFBYSxHQUFBQyxNQUFBLENBQUFDLE1BQUEsS0FDZEosS0FBSztZQUNSSyxTQUFTLEVBQUVMLEtBQUssQ0FBQ0ssU0FBUyxJQUFJVCxnQkFBZ0IsSUFBSUwsaUJBQWlCLENBQUMsQ0FBQztZQUNyRUMsUUFBUSxFQUFFUSxLQUFLLENBQUNSLFFBQVEsSUFBSUEsUUFBUTtZQUNwQ2MsUUFBUSxFQUFBSCxNQUFBLENBQUFDLE1BQUEsS0FDSEosS0FBSyxDQUFDTSxRQUFRO2NBQ2pCQyxRQUFRLEVBQUUsSUFBSTtjQUNkQyxVQUFVLEVBQUV2QixJQUFJLENBQUNDLEdBQUcsQ0FBQztZQUFDO1VBQ3ZCLEVBQ0Y7VUFFRCxPQUFPZ0IsYUFBYTtRQUN0QixDQUFDLENBQUM7TUFDSjtNQUdBbkIsSUFBSSxDQUFDMEIsT0FBTyxHQUFHLENBQUM7TUFDaEIxQixJQUFJLENBQUN5QixVQUFVLEdBQUd2QixJQUFJLENBQUNDLEdBQUcsQ0FBQyxDQUFDO01BQzVCSCxJQUFJLENBQUMyQixZQUFZLEdBQUcsQ0FBQztNQUVyQixPQUFPM0IsSUFBSTtJQUNiLENBQUM7SUFBQSxTQWpFS0osT0FBT0EsQ0FBQWdDLEVBQUE7TUFBQSxPQUFBL0IsUUFBQSxDQUFBZ0MsS0FBQSxPQUFBQyxTQUFBO0lBQUE7SUFBQSxPQUFQbEMsT0FBTztFQUFBO0VBbUVQbUMsUUFBUTtJQUFBLElBQUFDLFNBQUEsT0FBQWxDLGtCQUFBLENBQUFDLE9BQUEsYUFBQ0MsSUFBUyxFQUFFO01BRXhCLElBQUlBLElBQUksQ0FBQ1UsTUFBTSxJQUFJQyxLQUFLLENBQUNDLE9BQU8sQ0FBQ1osSUFBSSxDQUFDVSxNQUFNLENBQUMsRUFBRTtRQUM3Q1YsSUFBSSxDQUFDVSxNQUFNLEdBQUdWLElBQUksQ0FBQ1UsTUFBTSxDQUFDTSxHQUFHLENBQUMsVUFBQ0MsS0FBVSxFQUFLO1VBQzVDLElBQVFLLFNBQVMsR0FBa0NMLEtBQUssQ0FBaERLLFNBQVM7WUFBRWIsUUFBUSxHQUF3QlEsS0FBSyxDQUFyQ1IsUUFBUTtZQUFFYyxRQUFRLEdBQWNOLEtBQUssQ0FBM0JNLFFBQVE7WUFBS1UsSUFBSSxPQUFBQyx5QkFBQSxDQUFBbkMsT0FBQSxFQUFLa0IsS0FBSyxFQUFBa0IsU0FBQTtVQUV4RCxJQUFJWixRQUFRLElBQUlBLFFBQVEsQ0FBQ0MsUUFBUSxFQUFFO1lBQ2pDLElBQVFBLFFBQVEsR0FBa0NELFFBQVEsQ0FBbERDLFFBQVE7Y0FBRUMsVUFBVSxHQUFzQkYsUUFBUSxDQUF4Q0UsVUFBVTtjQUFLVyxZQUFZLE9BQUFGLHlCQUFBLENBQUFuQyxPQUFBLEVBQUt3QixRQUFRLEVBQUFjLFVBQUE7WUFDMUQsSUFBSWpCLE1BQU0sQ0FBQ2tCLElBQUksQ0FBQ0YsWUFBWSxDQUFDLENBQUNHLE1BQU0sR0FBRyxDQUFDLEVBQUU7Y0FDeEMsT0FBQW5CLE1BQUEsQ0FBQUMsTUFBQSxLQUFZWSxJQUFJO2dCQUFFVixRQUFRLEVBQUVhO2NBQVk7WUFDMUM7VUFDRjtVQUNBLE9BQU9ILElBQUk7UUFDYixDQUFDLENBQUM7TUFDSjtNQUdBLElBQUlqQyxJQUFJLENBQUNTLFFBQVEsSUFBSVQsSUFBSSxDQUFDUyxRQUFRLENBQUMrQixVQUFVLENBQUMsU0FBUyxDQUFDLEVBQUU7UUFDeEQsT0FBT3hDLElBQUksQ0FBQ1MsUUFBUTtNQUN0QjtNQUVBVCxJQUFJLENBQUMwQixPQUFPLEdBQUcsQ0FBQztNQUNoQixPQUFPMUIsSUFBSTtJQUNiLENBQUM7SUFBQSxTQXZCSytCLFFBQVFBLENBQUFVLEdBQUE7TUFBQSxPQUFBVCxTQUFBLENBQUFILEtBQUEsT0FBQUMsU0FBQTtJQUFBO0lBQUEsT0FBUkMsUUFBUTtFQUFBO0FBd0JoQixDQUFDIiwiaWdub3JlTGlzdCI6W119