{"version":3,"names":["_getJestObj","mock","useAnalytics","jest","fn","trackEvent","usePersonalizedAI","personalizeAnalysis","childId","analysis","useUser","user","id","role","children","analyzeMessageWithAI","mockResolvedValue","riskLevel","confidence","reasons","categories","analyzeImageWithAI","evaluateMessageRisk","mockReturnValue","evaluateImageRisk","chatSyncService","syncChats","success","getChats","data","alertSyncService","syncAlerts","getAlerts","getSoundForRiskLevel","getAndroidPriorityForRiskLevel","getChannelIdForRiskLevel","setupNotificationChannels","scheduleNotificationAsync","trpcVanillaClient","alerts","create","mutate","logger","error","warn","info","handleErrorSilently","showUserFriendlyError","HapticFeedback","warning","_asyncToGenerator","_require5","require","React","renderHook","waitFor","act","MonitoringProvider","useMonitoring","jsx","_jsx","createWrapper","_ref","describe","beforeEach","clearAllMocks","it","_renderHook","wrapper","result","expect","current","chats","toBeDefined","_renderHook2","isLoading","toBe","timeout","_renderHook3","initialCount","length","createChat","toBeGreaterThan","_renderHook4","isGroup","groupName","groupChat","find","c","_renderHook5","chatId","chat","sendMessage","messages","_renderHook6","_require","toHaveBeenCalled","_require2","mockResolvedValueOnce","_renderHook7","initialAlertsCount","_renderHook8","alertId","resolveAlert","alert","a","resolved","_require3","_renderHook9","_require4","_renderHook10","_renderHook11","mockLocation","coords","latitude","longitude","altitude","accuracy","altitudeAccuracy","heading","speed","timestamp","Date","now","triggerSOS","toBeGreaterThanOrEqual"],"sources":["MonitoringContext.test.tsx"],"sourcesContent":["/**\n * Тесты для MonitoringContext\n * Проверяет мониторинг сообщений, анализ рисков, алерты\n */\n\nimport React from 'react';\nimport { renderHook, waitFor, act } from '@testing-library/react-native';\nimport { MonitoringProvider, useMonitoring } from '@/constants/MonitoringContext';\nimport { Chat, Message, Alert } from '@/constants/types';\n\n// Моки\njest.mock('@/constants/AnalyticsContext', () => ({\n  useAnalytics: jest.fn(() => ({\n    trackEvent: jest.fn(),\n  })),\n}));\n\njest.mock('@/constants/PersonalizedAIContext', () => ({\n  usePersonalizedAI: jest.fn(() => ({\n    personalizeAnalysis: jest.fn((childId, analysis) => analysis),\n  })),\n}));\n\njest.mock('@/constants/UserContext', () => ({\n  useUser: jest.fn(() => ({\n    user: {\n      id: 'user-1',\n      role: 'parent',\n      children: [],\n    },\n  })),\n}));\n\njest.mock('@/constants/AIModerationService', () => ({\n  analyzeMessageWithAI: jest.fn().mockResolvedValue({\n    riskLevel: 'safe',\n    confidence: 0.9,\n    reasons: [],\n    categories: [],\n  }),\n  analyzeImageWithAI: jest.fn().mockResolvedValue({\n    riskLevel: 'safe',\n    confidence: 0.9,\n    reasons: [],\n    categories: [],\n  }),\n}));\n\njest.mock('@/utils/riskEvaluation', () => ({\n  evaluateMessageRisk: jest.fn().mockReturnValue({\n    riskLevel: 'safe',\n    confidence: 0.9,\n    reasons: [],\n    categories: [],\n  }),\n  evaluateImageRisk: jest.fn().mockReturnValue({\n    riskLevel: 'safe',\n    confidence: 0.9,\n    reasons: [],\n    categories: [],\n  }),\n}));\n\njest.mock('@/utils/syncService', () => ({\n  chatSyncService: {\n    syncChats: jest.fn().mockResolvedValue({ success: true }),\n    getChats: jest.fn().mockResolvedValue({ success: true, data: [] }),\n  },\n  alertSyncService: {\n    syncAlerts: jest.fn().mockResolvedValue({ success: true }),\n    getAlerts: jest.fn().mockResolvedValue({ success: true, data: [] }),\n  },\n}));\n\njest.mock('@/utils/soundNotifications', () => ({\n  getSoundForRiskLevel: jest.fn(),\n  getAndroidPriorityForRiskLevel: jest.fn(),\n  getChannelIdForRiskLevel: jest.fn(),\n  setupNotificationChannels: jest.fn(),\n}));\n\njest.mock('expo-notifications', () => ({\n  scheduleNotificationAsync: jest.fn().mockResolvedValue('notification-id'),\n}));\n\njest.mock('@/lib/trpc', () => ({\n  trpcVanillaClient: {\n    alerts: {\n      create: { mutate: jest.fn() },\n    },\n  },\n}));\n\njest.mock('@/utils/logger', () => ({\n  logger: {\n    error: jest.fn(),\n    warn: jest.fn(),\n    info: jest.fn(),\n  },\n}));\n\njest.mock('@/utils/errorHandler', () => ({\n  handleErrorSilently: jest.fn(),\n  showUserFriendlyError: jest.fn(),\n}));\n\njest.mock('@/constants/haptics', () => ({\n  HapticFeedback: {\n    warning: jest.fn(),\n    error: jest.fn(),\n    success: jest.fn(),\n  },\n}));\n\nconst createWrapper = () => {\n  return ({ children }: { children: React.ReactNode }) => (\n    <MonitoringProvider>{children}</MonitoringProvider>\n  );\n};\n\ndescribe('MonitoringContext', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe('Инициализация', () => {\n    it('должен инициализироваться с пустыми чатами и алертами', async () => {\n      const { result } = renderHook(() => useMonitoring(), {\n        wrapper: createWrapper(),\n      });\n\n      await waitFor(() => {\n        expect(result.current.chats).toBeDefined();\n        expect(result.current.alerts).toBeDefined();\n      });\n    });\n\n    it('должен загружать чаты из хранилища', async () => {\n      const { result } = renderHook(() => useMonitoring(), {\n        wrapper: createWrapper(),\n      });\n\n      await waitFor(() => {\n        expect(result.current.isLoading).toBe(false);\n      }, { timeout: 3000 });\n    });\n  });\n\n  describe('Создание чата', () => {\n    it('должен создавать новый чат', async () => {\n      const { result } = renderHook(() => useMonitoring(), {\n        wrapper: createWrapper(),\n      });\n\n      await waitFor(() => {\n        expect(result.current.isLoading).toBe(false);\n      });\n\n      const initialCount = result.current.chats.length;\n\n      await act(async () => {\n        await result.current.createChat(['user-1', 'user-2'], ['User 1', 'User 2']);\n      });\n\n      await waitFor(() => {\n        expect(result.current.chats.length).toBeGreaterThan(initialCount);\n      });\n    });\n\n    it('должен создавать групповой чат', async () => {\n      const { result } = renderHook(() => useMonitoring(), {\n        wrapper: createWrapper(),\n      });\n\n      await waitFor(() => {\n        expect(result.current.isLoading).toBe(false);\n      });\n\n      await act(async () => {\n        await result.current.createChat(\n          ['user-1', 'user-2', 'user-3'],\n          ['User 1', 'User 2', 'User 3'],\n          { isGroup: true, groupName: 'Test Group' }\n        );\n      });\n\n      await waitFor(() => {\n        const groupChat = result.current.chats.find(c => c.groupName === 'Test Group');\n        expect(groupChat).toBeDefined();\n        expect(groupChat?.isGroup).toBe(true);\n      });\n    });\n  });\n\n  describe('Отправка сообщения', () => {\n    it('должен добавлять сообщение в чат', async () => {\n      const { result } = renderHook(() => useMonitoring(), {\n        wrapper: createWrapper(),\n      });\n\n      await waitFor(() => {\n        expect(result.current.isLoading).toBe(false);\n      });\n\n      // Создаем чат\n      let chatId: string = '';\n      await act(async () => {\n        const chat = await result.current.createChat(['user-1', 'user-2'], ['User 1', 'User 2']);\n        chatId = chat.id;\n      });\n\n      // Отправляем сообщение\n      await act(async () => {\n        await result.current.sendMessage(chatId, 'Test message', 'user-1', 'User 1');\n      });\n\n      await waitFor(() => {\n        const chat = result.current.chats.find(c => c.id === chatId);\n        expect(chat?.messages.length).toBeGreaterThan(0);\n      });\n    });\n\n    it('должен анализировать сообщение при отправке', async () => {\n      const { result } = renderHook(() => useMonitoring(), {\n        wrapper: createWrapper(),\n      });\n\n      await waitFor(() => {\n        expect(result.current.isLoading).toBe(false);\n      });\n\n      let chatId: string = '';\n      await act(async () => {\n        const chat = await result.current.createChat(['user-1', 'user-2'], ['User 1', 'User 2']);\n        chatId = chat.id;\n      });\n\n      const { analyzeMessageWithAI } = require('@/constants/AIModerationService');\n\n      await act(async () => {\n        await result.current.sendMessage(chatId, 'Test message', 'user-1', 'User 1');\n      });\n\n      await waitFor(() => {\n        expect(analyzeMessageWithAI).toHaveBeenCalled();\n      });\n    });\n  });\n\n  describe('Алерты', () => {\n    it('должен создавать алерт для опасного сообщения', async () => {\n      const { analyzeMessageWithAI } = require('@/constants/AIModerationService');\n      analyzeMessageWithAI.mockResolvedValueOnce({\n        riskLevel: 'high',\n        confidence: 0.9,\n        reasons: ['Dangerous content'],\n        categories: ['violence'],\n      });\n\n      const { result } = renderHook(() => useMonitoring(), {\n        wrapper: createWrapper(),\n      });\n\n      await waitFor(() => {\n        expect(result.current.isLoading).toBe(false);\n      });\n\n      const initialAlertsCount = result.current.alerts.length;\n\n      let chatId: string = '';\n      await act(async () => {\n        const chat = await result.current.createChat(['user-1', 'user-2'], ['User 1', 'User 2']);\n        chatId = chat.id;\n      });\n\n      await act(async () => {\n        await result.current.sendMessage(chatId, 'Dangerous message', 'user-1', 'User 1');\n      });\n\n      await waitFor(() => {\n        expect(result.current.alerts.length).toBeGreaterThan(initialAlertsCount);\n      }, { timeout: 3000 });\n    });\n\n    it('должен отмечать алерт как resolved', async () => {\n      const { result } = renderHook(() => useMonitoring(), {\n        wrapper: createWrapper(),\n      });\n\n      await waitFor(() => {\n        expect(result.current.isLoading).toBe(false);\n      });\n\n      // Предполагаем, что есть алерты\n      if (result.current.alerts.length > 0) {\n        const alertId = result.current.alerts[0].id;\n\n        await act(async () => {\n          result.current.resolveAlert(alertId);\n        });\n\n        await waitFor(() => {\n          const alert = result.current.alerts.find(a => a.id === alertId);\n          expect(alert?.resolved).toBe(true);\n        });\n      }\n    });\n  });\n\n  describe('Синхронизация', () => {\n    it('должен вызывать синхронизацию', async () => {\n      const { chatSyncService } = require('@/utils/syncService');\n\n      const { result } = renderHook(() => useMonitoring(), {\n        wrapper: createWrapper(),\n      });\n\n      await waitFor(() => {\n        expect(result.current.isLoading).toBe(false);\n      });\n\n      await act(async () => {\n        await result.current.syncChats();\n      });\n\n      await waitFor(() => {\n        expect(chatSyncService.syncChats).toHaveBeenCalled();\n      });\n    });\n\n    it('должен обрабатывать ошибки синхронизации', async () => {\n      const { chatSyncService } = require('@/utils/syncService');\n      chatSyncService.syncChats.mockResolvedValueOnce({\n        success: false,\n        error: 'Network error',\n      });\n\n      const { result } = renderHook(() => useMonitoring(), {\n        wrapper: createWrapper(),\n      });\n\n      await waitFor(() => {\n        expect(result.current.isLoading).toBe(false);\n      });\n\n      await act(async () => {\n        await result.current.syncChats();\n      });\n\n      // Не должно бросать ошибку\n      expect(result.current.chats).toBeDefined();\n    });\n  });\n\n  describe('SOS функциональность', () => {\n    it('должен вызывать SOS и создавать алерт', async () => {\n      const { result } = renderHook(() => useMonitoring(), {\n        wrapper: createWrapper(),\n      });\n\n      await waitFor(() => {\n        expect(result.current.isLoading).toBe(false);\n      });\n\n      const initialAlertsCount = result.current.alerts.length;\n\n      await act(async () => {\n        const mockLocation = {\n          coords: {\n            latitude: 0,\n            longitude: 0,\n            altitude: null,\n            accuracy: 10,\n            altitudeAccuracy: null,\n            heading: null,\n            speed: null,\n          },\n          timestamp: Date.now(),\n        };\n        await result.current.triggerSOS(mockLocation);\n      });\n\n      await waitFor(() => {\n        expect(result.current.alerts.length).toBeGreaterThanOrEqual(initialAlertsCount);\n      });\n    });\n  });\n});\n"],"mappings":"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","ignoreList":[]}