{"version":3,"names":["React","useState","View","Text","TextInput","TouchableOpacity","StyleSheet","ScrollView","Alert","ActivityIndicator","KeyboardAvoidingView","Platform","useRouter","AsyncStorage","trpcVanillaClient","useThemeMode","useAuth","Baby","Key","User","CheckCircle","jsx","_jsx","jsxs","_jsxs","RegisterChildScreen","_theme$interactive","_theme$interactive2","cov_13x1cs3lu0","f","router","s","_ref","theme","_ref2","login","_ref3","_ref4","_slicedToArray","parentCode","setParentCode","_ref5","_ref6","name","setName","_ref7","_ref8","age","setAge","_ref9","_ref10","isLoading","setIsLoading","_ref11","_ref12","isValidatingCode","setIsValidatingCode","_ref13","_ref14","codeValid","setCodeValid","_ref15","_ref16","parentName","setParentName","styles","createStyles","validateCode","_ref17","_asyncToGenerator","code","b","length","result","auth","validateParentCode","query","toUpperCase","valid","_unused","_x","apply","arguments","handleCodeChange","text","formatted","replace","handleRegister","_ref18","trim","alert","ageNum","parseInt","isNaN","registerChild","mutate","success","childId","setItem","deviceId","onPress","error","console","style","container","behavior","OS","children","contentContainerStyle","scrollContent","header","testID","size","color","interactive","primary","accentPrimary","title","subtitle","form","inputContainer","textSecondary","input","placeholder","placeholderTextColor","value","onChangeText","autoCapitalize","maxLength","codeValidContainer","codeValidText","codeInvalidContainer","codeInvalidText","keyboardType","registerButton","registerButtonDisabled","disabled","registerButtonText","helpContainer","helpText","backButton","backButtonText","_theme$interactive3","create","flex","backgroundColor","backgroundPrimary","flexGrow","padding","alignItems","marginTop","marginBottom","fontSize","fontWeight","textPrimary","textAlign","flexDirection","backgroundSecondary","borderRadius","paddingHorizontal","paddingVertical","borderWidth","borderColor","borderSoft","marginLeft","fontFamily","danger","opacity"],"sources":["register-child.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  View,\n  Text,\n  TextInput,\n  TouchableOpacity,\n  StyleSheet,\n  ScrollView,\n  Alert,\n  ActivityIndicator,\n  KeyboardAvoidingView,\n  Platform,\n} from 'react-native';\nimport { useRouter } from 'expo-router';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { trpcVanillaClient } from '@/lib/trpc';\nimport { useThemeMode } from '@/constants/ThemeContext';\nimport { useAuth } from '@/constants/AuthContext';\nimport { Baby, Key, User, CheckCircle } from 'lucide-react-native';\n\nexport default function RegisterChildScreen() {\n  const router = useRouter();\n  const { theme } = useThemeMode();\n  const { login } = useAuth();\n  const [parentCode, setParentCode] = useState('');\n  const [name, setName] = useState('');\n  const [age, setAge] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [isValidatingCode, setIsValidatingCode] = useState(false);\n  const [codeValid, setCodeValid] = useState(false);\n  const [parentName, setParentName] = useState('');\n\n  const styles = createStyles(theme);\n\n  // Валидация кода в реальном времени\n  const validateCode = async (code: string) => {\n    if (!code || code.length < 10) {\n      setCodeValid(false);\n      return;\n    }\n\n    setIsValidatingCode(true);\n    try {\n      const result = await trpcVanillaClient.auth.validateParentCode.query({ code: code.toUpperCase() });\n      setCodeValid(result.valid || false);\n      setParentName(result.parentName || '');\n    } catch {\n      setCodeValid(false);\n    } finally {\n      setIsValidatingCode(false);\n    }\n  };\n\n  const handleCodeChange = (text: string) => {\n    // Форматируем код: KIKU-XXXXXX\n    const formatted = text.toUpperCase().replace(/[^A-Z0-9-]/g, '');\n    setParentCode(formatted);\n    \n    if (formatted.length >= 10) {\n      validateCode(formatted);\n    } else {\n      setCodeValid(false);\n    }\n  };\n\n  const handleRegister = async () => {\n    if (!parentCode.trim() || !codeValid) {\n      Alert.alert('Ошибка', 'Введите корректный код родителя');\n      return;\n    }\n\n    if (!name.trim()) {\n      Alert.alert('Ошибка', 'Введите ваше имя');\n      return;\n    }\n\n    const ageNum = parseInt(age, 10);\n    if (!age || isNaN(ageNum) || ageNum < 4 || ageNum > 15) {\n      Alert.alert('Ошибка', 'Введите возраст от 4 до 15 лет');\n      return;\n    }\n\n    setIsLoading(true);\n\n    try {\n      const result = await trpcVanillaClient.auth.registerChild.mutate({\n        parentCode: parentCode.toUpperCase(),\n        name: name.trim(),\n        age: ageNum,\n      });\n\n      if (result.success && result.childId) {\n        // Сохраняем данные ребенка\n        await AsyncStorage.setItem('@child_id', result.childId);\n        if (result.deviceId) {\n          await AsyncStorage.setItem('@device_id', result.deviceId);\n        }\n\n        // Логиним ребенка\n        await login(result.childId, 'child');\n\n        Alert.alert(\n          'Успешно!',\n          `Добро пожаловать, ${name}! Устройства связаны с ${result.parentName}.`,\n          [\n            {\n              text: 'Продолжить',\n              onPress: () => router.replace('/(tabs)'),\n            },\n          ]\n        );\n      } else {\n        Alert.alert('Ошибка', result.error || 'Не удалось зарегистрироваться');\n      }\n    } catch (error) {\n      console.error('[RegisterChild] Error:', error);\n      Alert.alert('Ошибка', 'Произошла ошибка при регистрации. Попробуйте позже.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <KeyboardAvoidingView\n      style={styles.container}\n      behavior={Platform.OS === 'ios' ? 'padding' : 'height'}\n    >\n      <ScrollView contentContainerStyle={styles.scrollContent}>\n        <View style={styles.header} testID=\"register-child-header\">\n          <Baby size={48} color={theme.interactive?.primary || theme.accentPrimary} />\n          <Text style={styles.title} testID=\"register-child-title\">Я ребенок</Text>\n          <Text style={styles.subtitle} testID=\"register-child-subtitle\">\n            Введите код родителя для регистрации\n          </Text>\n        </View>\n\n        <View style={styles.form} testID=\"register-child-form\">\n          <View style={styles.inputContainer}>\n            <Key size={20} color={theme.textSecondary} />\n            <TextInput\n              style={styles.input}\n              placeholder=\"KIKU-XXXXXX\"\n              placeholderTextColor={theme.textSecondary}\n              value={parentCode}\n              onChangeText={handleCodeChange}\n              autoCapitalize=\"characters\"\n              maxLength={11}\n            />\n            {isValidatingCode && (\n              <ActivityIndicator size=\"small\" color={theme.interactive?.primary || theme.accentPrimary} />\n            )}\n            {codeValid && parentCode.length >= 10 && (\n              <CheckCircle size={20} color={theme.success} />\n            )}\n          </View>\n\n          {codeValid && parentName && (\n            <View style={styles.codeValidContainer}>\n              <Text style={styles.codeValidText}>\n                ✅ Код подтвержден! Родитель: {parentName}\n              </Text>\n            </View>\n          )}\n\n          {parentCode.length >= 10 && !codeValid && !isValidatingCode && (\n            <View style={styles.codeInvalidContainer}>\n              <Text style={styles.codeInvalidText}>\n                ❌ Код не найден или недействителен\n              </Text>\n            </View>\n          )}\n\n          <View style={styles.inputContainer}>\n            <User size={20} color={theme.textSecondary} />\n            <TextInput\n              style={styles.input}\n              placeholder=\"Ваше имя\"\n              placeholderTextColor={theme.textSecondary}\n              value={name}\n              onChangeText={setName}\n              autoCapitalize=\"words\"\n            />\n          </View>\n\n          <View style={styles.inputContainer}>\n            <TextInput\n              style={styles.input}\n              placeholder=\"Ваш возраст (4-15 лет)\"\n              placeholderTextColor={theme.textSecondary}\n              value={age}\n              onChangeText={setAge}\n              keyboardType=\"number-pad\"\n              maxLength={2}\n            />\n          </View>\n\n          <TouchableOpacity\n            style={[\n              styles.registerButton,\n              (!codeValid || isLoading) && styles.registerButtonDisabled,\n            ]}\n            onPress={handleRegister}\n            disabled={!codeValid || isLoading}\n            testID=\"register-child-submit-button\"\n          >\n            {isLoading ? (\n              <ActivityIndicator color=\"#fff\" />\n            ) : (\n              <Text style={styles.registerButtonText} testID=\"register-child-submit-text\">Зарегистрироваться</Text>\n            )}\n          </TouchableOpacity>\n\n          <View style={styles.helpContainer}>\n            <Text style={styles.helpText}>\n              Нет кода? Попросите у родителя код для регистрации\n            </Text>\n          </View>\n\n          <TouchableOpacity\n            style={styles.backButton}\n            onPress={() => {\n              // При возврате переходим в основное приложение для тестирования\n              router.replace('/(tabs)');\n            }}\n          >\n            <Text style={styles.backButtonText}>Назад</Text>\n          </TouchableOpacity>\n        </View>\n      </ScrollView>\n    </KeyboardAvoidingView>\n  );\n}\n\nconst createStyles = (theme: any) => StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.backgroundPrimary,\n  },\n  scrollContent: {\n    flexGrow: 1,\n    padding: 20,\n  },\n  header: {\n    alignItems: 'center',\n    marginTop: 40,\n    marginBottom: 40,\n  },\n  title: {\n    fontSize: 28,\n    fontWeight: '700',\n    color: theme.textPrimary,\n    marginTop: 16,\n  },\n  subtitle: {\n    fontSize: 16,\n    color: theme.textSecondary,\n    marginTop: 8,\n    textAlign: 'center',\n  },\n  form: {\n    flex: 1,\n  },\n  inputContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: theme.backgroundSecondary,\n    borderRadius: 12,\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    marginBottom: 16,\n    borderWidth: 1,\n    borderColor: theme.borderSoft,\n  },\n  input: {\n    flex: 1,\n    fontSize: 16,\n    color: theme.textPrimary,\n    marginLeft: 12,\n    fontFamily: 'monospace',\n  },\n  codeValidContainer: {\n    backgroundColor: theme.success + '20',\n    borderRadius: 8,\n    padding: 12,\n    marginBottom: 16,\n  },\n  codeValidText: {\n    color: theme.success,\n    fontSize: 14,\n    fontWeight: '600',\n  },\n  codeInvalidContainer: {\n    backgroundColor: theme.danger + '20',\n    borderRadius: 8,\n    padding: 12,\n    marginBottom: 16,\n  },\n  codeInvalidText: {\n    color: theme.danger,\n    fontSize: 14,\n  },\n  registerButton: {\n    backgroundColor: theme.interactive?.primary || theme.accentPrimary,\n    borderRadius: 12,\n    paddingVertical: 16,\n    alignItems: 'center',\n    marginTop: 8,\n  },\n  registerButtonDisabled: {\n    opacity: 0.6,\n  },\n  registerButtonText: {\n    color: '#fff',\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  helpContainer: {\n    marginTop: 24,\n    padding: 16,\n    backgroundColor: theme.backgroundSecondary,\n    borderRadius: 8,\n  },\n  helpText: {\n    fontSize: 14,\n    color: theme.textSecondary,\n    textAlign: 'center',\n  },\n  backButton: {\n    marginTop: 16,\n    alignItems: 'center',\n  },\n  backButtonText: {\n    color: theme.textSecondary,\n    fontSize: 14,\n  },\n});\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}