{"version":3,"names":["React","useState","useEffect","View","Text","StyleSheet","useThemeMode","useAuth","jsx","_jsx","jsxs","_jsxs","OnlineStatus","_ref","userId","_ref$size","size","cov_15qe8r3ao7","b","_ref$showText","showText","style","f","_ref2","s","theme","_ref3","isAuthenticated","_ref4","_ref5","_slicedToArray","isOnline","setIsOnline","interval","setInterval","clearInterval","sizeMap","small","medium","large","dotSize","styles","create","container","flexDirection","alignItems","gap","dot","width","height","borderRadius","backgroundColor","borderWidth","borderColor","backgroundPrimary","text","fontSize","color","textSecondary","fontWeight","children"],"sources":["OnlineStatus.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet, ViewStyle } from 'react-native';\nimport { useThemeMode } from '@/constants/ThemeContext';\nimport { useAuth } from '@/constants/AuthContext';\n\ninterface OnlineStatusProps {\n  userId?: string;\n  size?: 'small' | 'medium' | 'large';\n  showText?: boolean;\n  style?: ViewStyle;\n}\n\n/**\n * Компонент статуса онлайн/офлайн\n * Показывает зеленый кружок если пользователь онлайн\n */\nexport function OnlineStatus({ userId, size = 'medium', showText = false, style }: OnlineStatusProps) {\n  const { theme } = useThemeMode();\n  const { isAuthenticated } = useAuth();\n  const [isOnline, setIsOnline] = useState(true); // По умолчанию онлайн\n\n  useEffect(() => {\n    // В реальном приложении здесь будет проверка статуса через API\n    // Пока считаем пользователя онлайн, если он аутентифицирован\n    setIsOnline(isAuthenticated);\n    \n    // Обновляем статус каждые 30 секунд\n    const interval = setInterval(() => {\n      setIsOnline(isAuthenticated);\n    }, 30000);\n\n    return () => clearInterval(interval);\n  }, [isAuthenticated, userId]);\n\n  const sizeMap = {\n    small: 8,\n    medium: 12,\n    large: 16,\n  };\n\n  const dotSize = sizeMap[size];\n\n  const styles = StyleSheet.create({\n    container: {\n      flexDirection: 'row',\n      alignItems: 'center',\n      gap: 6,\n    },\n    dot: {\n      width: dotSize,\n      height: dotSize,\n      borderRadius: dotSize / 2,\n      backgroundColor: isOnline ? '#22c55e' : '#9ca3af',\n      borderWidth: 2,\n      borderColor: theme.backgroundPrimary || '#fff',\n    },\n    text: {\n      fontSize: 12,\n      color: theme.textSecondary,\n      fontWeight: '500' as const,\n    },\n  });\n\n  return (\n    <View style={[styles.container, style]}>\n      <View style={styles.dot} />\n      {showText && (\n        <Text style={styles.text}>\n          {isOnline ? 'В сети' : 'Не в сети'}\n        </Text>\n      )}\n    </View>\n  );\n}\n"],"mappings":"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","ignoreList":[]}