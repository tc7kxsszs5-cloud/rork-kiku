ecd42dbaf099edfcf5323bf05ad2b0b8
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _migrationManager = require("@/utils/migrations/migrationManager");
var _excluded = ["newField"];
describe('MigrationManager', function () {
  var manager;
  beforeEach(function () {
    manager = new _migrationManager.MigrationManager();
  });
  describe('register', function () {
    it('должен зарегистрировать миграцию', function () {
      var migration = {
        fromVersion: 1,
        toVersion: 2,
        name: 'Test migration',
        migrate: function () {
          var _migrate = (0, _asyncToGenerator2.default)(function* (data) {
            return Object.assign({}, data, {
              version: 2
            });
          });
          function migrate(_x) {
            return _migrate.apply(this, arguments);
          }
          return migrate;
        }()
      };
      manager.register(migration);
      var migrations = manager.getMigrations();
      expect(migrations).toHaveLength(1);
      expect(migrations[0]).toBe(migration);
    });
    it('должен отсортировать миграции по версиям', function () {
      var migration1 = {
        fromVersion: 1,
        toVersion: 2,
        name: '1→2',
        migrate: function () {
          var _migrate2 = (0, _asyncToGenerator2.default)(function* (data) {
            return data;
          });
          function migrate(_x2) {
            return _migrate2.apply(this, arguments);
          }
          return migrate;
        }()
      };
      var migration2 = {
        fromVersion: 2,
        toVersion: 3,
        name: '2→3',
        migrate: function () {
          var _migrate3 = (0, _asyncToGenerator2.default)(function* (data) {
            return data;
          });
          function migrate(_x3) {
            return _migrate3.apply(this, arguments);
          }
          return migrate;
        }()
      };
      var migration3 = {
        fromVersion: 3,
        toVersion: 4,
        name: '3→4',
        migrate: function () {
          var _migrate4 = (0, _asyncToGenerator2.default)(function* (data) {
            return data;
          });
          function migrate(_x4) {
            return _migrate4.apply(this, arguments);
          }
          return migrate;
        }()
      };
      manager.register(migration3);
      manager.register(migration1);
      manager.register(migration2);
      var migrations = manager.getMigrations();
      expect(migrations[0].fromVersion).toBe(1);
      expect(migrations[1].fromVersion).toBe(2);
      expect(migrations[2].fromVersion).toBe(3);
    });
  });
  describe('migrate', function () {
    it('должен выполнить миграцию с версии 1 на версию 2', (0, _asyncToGenerator2.default)(function* () {
      var migration = {
        fromVersion: 1,
        toVersion: 2,
        name: 'Test migration',
        migrate: function () {
          var _migrate5 = (0, _asyncToGenerator2.default)(function* (data) {
            return Object.assign({}, data, {
              version: 2,
              migrated: true
            });
          });
          function migrate(_x5) {
            return _migrate5.apply(this, arguments);
          }
          return migrate;
        }()
      };
      manager.register(migration);
      var v1Data = {
        version: 1,
        data: 'test'
      };
      var result = yield manager.migrate(v1Data, 1, 2);
      expect(result.success).toBe(true);
      expect(result.data.version).toBe(2);
      expect(result.data.migrated).toBe(true);
      expect(result.toVersion).toBe(2);
    }));
    it('должен выполнить несколько миграций последовательно', (0, _asyncToGenerator2.default)(function* () {
      var migration1 = {
        fromVersion: 1,
        toVersion: 2,
        name: '1→2',
        migrate: function () {
          var _migrate6 = (0, _asyncToGenerator2.default)(function* (data) {
            return Object.assign({}, data, {
              version: 2,
              step1: true
            });
          });
          function migrate(_x6) {
            return _migrate6.apply(this, arguments);
          }
          return migrate;
        }()
      };
      var migration2 = {
        fromVersion: 2,
        toVersion: 3,
        name: '2→3',
        migrate: function () {
          var _migrate7 = (0, _asyncToGenerator2.default)(function* (data) {
            return Object.assign({}, data, {
              version: 3,
              step2: true
            });
          });
          function migrate(_x7) {
            return _migrate7.apply(this, arguments);
          }
          return migrate;
        }()
      };
      manager.register(migration1);
      manager.register(migration2);
      var v1Data = {
        version: 1,
        data: 'test'
      };
      var result = yield manager.migrate(v1Data, 1, 3);
      expect(result.success).toBe(true);
      expect(result.data.version).toBe(3);
      expect(result.data.step1).toBe(true);
      expect(result.data.step2).toBe(true);
      expect(result.toVersion).toBe(3);
    }));
    it('должен вернуть успех если версия уже актуальна', (0, _asyncToGenerator2.default)(function* () {
      var v2Data = {
        version: 2,
        data: 'test'
      };
      var result = yield manager.migrate(v2Data, 2, 2);
      expect(result.success).toBe(true);
      expect(result.data).toBe(v2Data);
    }));
    it('должен вернуть ошибку если миграция не найдена', (0, _asyncToGenerator2.default)(function* () {
      var _result$error;
      var v1Data = {
        version: 1,
        data: 'test'
      };
      var result = yield manager.migrate(v1Data, 1, 2);
      expect(result.success).toBe(false);
      expect(result.error).toBeDefined();
      expect((_result$error = result.error) == null ? void 0 : _result$error.message).toContain('No migration found');
    }));
    it('должен обработать ошибку в миграции', (0, _asyncToGenerator2.default)(function* () {
      var _result$error2;
      var migration = {
        fromVersion: 1,
        toVersion: 2,
        name: 'Failing migration',
        migrate: function () {
          var _migrate8 = (0, _asyncToGenerator2.default)(function* (data) {
            throw new Error('Migration failed');
          });
          function migrate(_x8) {
            return _migrate8.apply(this, arguments);
          }
          return migrate;
        }()
      };
      manager.register(migration);
      var v1Data = {
        version: 1,
        data: 'test'
      };
      var result = yield manager.migrate(v1Data, 1, 2);
      expect(result.success).toBe(false);
      expect(result.error).toBeDefined();
      expect((_result$error2 = result.error) == null ? void 0 : _result$error2.message).toBe('Migration failed');
    }));
  });
  describe('rollback', function () {
    it('должен откатить миграцию', (0, _asyncToGenerator2.default)(function* () {
      var migration = {
        fromVersion: 1,
        toVersion: 2,
        name: 'Test migration',
        migrate: function () {
          var _migrate9 = (0, _asyncToGenerator2.default)(function* (data) {
            return Object.assign({}, data, {
              version: 2,
              newField: 'value'
            });
          });
          function migrate(_x9) {
            return _migrate9.apply(this, arguments);
          }
          return migrate;
        }(),
        rollback: function () {
          var _rollback = (0, _asyncToGenerator2.default)(function* (data) {
            var newField = data.newField,
              rest = (0, _objectWithoutProperties2.default)(data, _excluded);
            return Object.assign({}, rest, {
              version: 1
            });
          });
          function rollback(_x10) {
            return _rollback.apply(this, arguments);
          }
          return rollback;
        }()
      };
      manager.register(migration);
      var v2Data = {
        version: 2,
        newField: 'value',
        data: 'test'
      };
      var result = yield manager.rollback(v2Data, 2, 1);
      expect(result.success).toBe(true);
      expect(result.data.version).toBe(1);
      expect(result.data.newField).toBeUndefined();
    }));
    it('должен вернуть ошибку если rollback не определён', (0, _asyncToGenerator2.default)(function* () {
      var _result$error3;
      var migration = {
        fromVersion: 1,
        toVersion: 2,
        name: 'No rollback',
        migrate: function () {
          var _migrate10 = (0, _asyncToGenerator2.default)(function* (data) {
            return Object.assign({}, data, {
              version: 2
            });
          });
          function migrate(_x11) {
            return _migrate10.apply(this, arguments);
          }
          return migrate;
        }()
      };
      manager.register(migration);
      var v2Data = {
        version: 2,
        data: 'test'
      };
      var result = yield manager.rollback(v2Data, 2, 1);
      expect(result.success).toBe(false);
      expect(result.error).toBeDefined();
      expect((_result$error3 = result.error) == null ? void 0 : _result$error3.message).toContain('No rollback found');
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbWlncmF0aW9uTWFuYWdlciIsInJlcXVpcmUiLCJfZXhjbHVkZWQiLCJkZXNjcmliZSIsIm1hbmFnZXIiLCJiZWZvcmVFYWNoIiwiTWlncmF0aW9uTWFuYWdlciIsIml0IiwibWlncmF0aW9uIiwiZnJvbVZlcnNpb24iLCJ0b1ZlcnNpb24iLCJuYW1lIiwibWlncmF0ZSIsIl9taWdyYXRlIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiZGVmYXVsdCIsImRhdGEiLCJPYmplY3QiLCJhc3NpZ24iLCJ2ZXJzaW9uIiwiX3giLCJhcHBseSIsImFyZ3VtZW50cyIsInJlZ2lzdGVyIiwibWlncmF0aW9ucyIsImdldE1pZ3JhdGlvbnMiLCJleHBlY3QiLCJ0b0hhdmVMZW5ndGgiLCJ0b0JlIiwibWlncmF0aW9uMSIsIl9taWdyYXRlMiIsIl94MiIsIm1pZ3JhdGlvbjIiLCJfbWlncmF0ZTMiLCJfeDMiLCJtaWdyYXRpb24zIiwiX21pZ3JhdGU0IiwiX3g0IiwiX21pZ3JhdGU1IiwibWlncmF0ZWQiLCJfeDUiLCJ2MURhdGEiLCJyZXN1bHQiLCJzdWNjZXNzIiwiX21pZ3JhdGU2Iiwic3RlcDEiLCJfeDYiLCJfbWlncmF0ZTciLCJzdGVwMiIsIl94NyIsInYyRGF0YSIsIl9yZXN1bHQkZXJyb3IiLCJlcnJvciIsInRvQmVEZWZpbmVkIiwibWVzc2FnZSIsInRvQ29udGFpbiIsIl9yZXN1bHQkZXJyb3IyIiwiX21pZ3JhdGU4IiwiRXJyb3IiLCJfeDgiLCJfbWlncmF0ZTkiLCJuZXdGaWVsZCIsIl94OSIsInJvbGxiYWNrIiwiX3JvbGxiYWNrIiwicmVzdCIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllczIiLCJfeDEwIiwidG9CZVVuZGVmaW5lZCIsIl9yZXN1bHQkZXJyb3IzIiwiX21pZ3JhdGUxMCIsIl94MTEiXSwic291cmNlcyI6WyJtaWdyYXRpb25NYW5hZ2VyLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiDQotC10YHRgtGLINC00LvRjyBNaWdyYXRpb25NYW5hZ2VyXG4gKi9cblxuaW1wb3J0IHsgTWlncmF0aW9uTWFuYWdlciB9IGZyb20gJ0AvdXRpbHMvbWlncmF0aW9ucy9taWdyYXRpb25NYW5hZ2VyJztcbmltcG9ydCB7IE1pZ3JhdGlvbiB9IGZyb20gJ0AvdXRpbHMvbWlncmF0aW9ucy90eXBlcyc7XG5cbmRlc2NyaWJlKCdNaWdyYXRpb25NYW5hZ2VyJywgKCkgPT4ge1xuICBsZXQgbWFuYWdlcjogTWlncmF0aW9uTWFuYWdlcjtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBtYW5hZ2VyID0gbmV3IE1pZ3JhdGlvbk1hbmFnZXIoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3JlZ2lzdGVyJywgKCkgPT4ge1xuICAgIGl0KCfQtNC+0LvQttC10L0g0LfQsNGA0LXQs9C40YHRgtGA0LjRgNC+0LLQsNGC0Ywg0LzQuNCz0YDQsNGG0LjRjicsICgpID0+IHtcbiAgICAgIGNvbnN0IG1pZ3JhdGlvbjogTWlncmF0aW9uID0ge1xuICAgICAgICBmcm9tVmVyc2lvbjogMSxcbiAgICAgICAgdG9WZXJzaW9uOiAyLFxuICAgICAgICBuYW1lOiAnVGVzdCBtaWdyYXRpb24nLFxuICAgICAgICBhc3luYyBtaWdyYXRlKGRhdGEpIHtcbiAgICAgICAgICByZXR1cm4geyAuLi5kYXRhLCB2ZXJzaW9uOiAyIH07XG4gICAgICAgIH0sXG4gICAgICB9O1xuXG4gICAgICBtYW5hZ2VyLnJlZ2lzdGVyKG1pZ3JhdGlvbik7XG5cbiAgICAgIGNvbnN0IG1pZ3JhdGlvbnMgPSBtYW5hZ2VyLmdldE1pZ3JhdGlvbnMoKTtcbiAgICAgIGV4cGVjdChtaWdyYXRpb25zKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QobWlncmF0aW9uc1swXSkudG9CZShtaWdyYXRpb24pO1xuICAgIH0pO1xuXG4gICAgaXQoJ9C00L7Qu9C20LXQvSDQvtGC0YHQvtGA0YLQuNGA0L7QstCw0YLRjCDQvNC40LPRgNCw0YbQuNC4INC/0L4g0LLQtdGA0YHQuNGP0LwnLCAoKSA9PiB7XG4gICAgICBjb25zdCBtaWdyYXRpb24xOiBNaWdyYXRpb24gPSB7XG4gICAgICAgIGZyb21WZXJzaW9uOiAxLFxuICAgICAgICB0b1ZlcnNpb246IDIsXG4gICAgICAgIG5hbWU6ICcx4oaSMicsXG4gICAgICAgIGFzeW5jIG1pZ3JhdGUoZGF0YSkgeyByZXR1cm4gZGF0YTsgfSxcbiAgICAgIH07XG4gICAgICBjb25zdCBtaWdyYXRpb24yOiBNaWdyYXRpb24gPSB7XG4gICAgICAgIGZyb21WZXJzaW9uOiAyLFxuICAgICAgICB0b1ZlcnNpb246IDMsXG4gICAgICAgIG5hbWU6ICcy4oaSMycsXG4gICAgICAgIGFzeW5jIG1pZ3JhdGUoZGF0YSkgeyByZXR1cm4gZGF0YTsgfSxcbiAgICAgIH07XG4gICAgICBjb25zdCBtaWdyYXRpb24zOiBNaWdyYXRpb24gPSB7XG4gICAgICAgIGZyb21WZXJzaW9uOiAzLFxuICAgICAgICB0b1ZlcnNpb246IDQsXG4gICAgICAgIG5hbWU6ICcz4oaSNCcsXG4gICAgICAgIGFzeW5jIG1pZ3JhdGUoZGF0YSkgeyByZXR1cm4gZGF0YTsgfSxcbiAgICAgIH07XG5cbiAgICAgIC8vINCg0LXQs9C40YHRgtGA0LjRgNGD0LXQvCDQsiDRgNCw0LfQvdC+0Lwg0L/QvtGA0Y/QtNC60LVcbiAgICAgIG1hbmFnZXIucmVnaXN0ZXIobWlncmF0aW9uMyk7XG4gICAgICBtYW5hZ2VyLnJlZ2lzdGVyKG1pZ3JhdGlvbjEpO1xuICAgICAgbWFuYWdlci5yZWdpc3RlcihtaWdyYXRpb24yKTtcblxuICAgICAgY29uc3QgbWlncmF0aW9ucyA9IG1hbmFnZXIuZ2V0TWlncmF0aW9ucygpO1xuICAgICAgZXhwZWN0KG1pZ3JhdGlvbnNbMF0uZnJvbVZlcnNpb24pLnRvQmUoMSk7XG4gICAgICBleHBlY3QobWlncmF0aW9uc1sxXS5mcm9tVmVyc2lvbikudG9CZSgyKTtcbiAgICAgIGV4cGVjdChtaWdyYXRpb25zWzJdLmZyb21WZXJzaW9uKS50b0JlKDMpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnbWlncmF0ZScsICgpID0+IHtcbiAgICBpdCgn0LTQvtC70LbQtdC9INCy0YvQv9C+0LvQvdC40YLRjCDQvNC40LPRgNCw0YbQuNGOINGBINCy0LXRgNGB0LjQuCAxINC90LAg0LLQtdGA0YHQuNGOIDInLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtaWdyYXRpb246IE1pZ3JhdGlvbiA9IHtcbiAgICAgICAgZnJvbVZlcnNpb246IDEsXG4gICAgICAgIHRvVmVyc2lvbjogMixcbiAgICAgICAgbmFtZTogJ1Rlc3QgbWlncmF0aW9uJyxcbiAgICAgICAgYXN5bmMgbWlncmF0ZShkYXRhKSB7XG4gICAgICAgICAgcmV0dXJuIHsgLi4uZGF0YSwgdmVyc2lvbjogMiwgbWlncmF0ZWQ6IHRydWUgfTtcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIG1hbmFnZXIucmVnaXN0ZXIobWlncmF0aW9uKTtcblxuICAgICAgY29uc3QgdjFEYXRhID0geyB2ZXJzaW9uOiAxLCBkYXRhOiAndGVzdCcgfTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG1hbmFnZXIubWlncmF0ZSh2MURhdGEsIDEsIDIpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmRhdGEudmVyc2lvbikudG9CZSgyKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZGF0YS5taWdyYXRlZCkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQudG9WZXJzaW9uKS50b0JlKDIpO1xuICAgIH0pO1xuXG4gICAgaXQoJ9C00L7Qu9C20LXQvSDQstGL0L/QvtC70L3QuNGC0Ywg0L3QtdGB0LrQvtC70YzQutC+INC80LjQs9GA0LDRhtC40Lkg0L/QvtGB0LvQtdC00L7QstCw0YLQtdC70YzQvdC+JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbWlncmF0aW9uMTogTWlncmF0aW9uID0ge1xuICAgICAgICBmcm9tVmVyc2lvbjogMSxcbiAgICAgICAgdG9WZXJzaW9uOiAyLFxuICAgICAgICBuYW1lOiAnMeKGkjInLFxuICAgICAgICBhc3luYyBtaWdyYXRlKGRhdGEpIHtcbiAgICAgICAgICByZXR1cm4geyAuLi5kYXRhLCB2ZXJzaW9uOiAyLCBzdGVwMTogdHJ1ZSB9O1xuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIGNvbnN0IG1pZ3JhdGlvbjI6IE1pZ3JhdGlvbiA9IHtcbiAgICAgICAgZnJvbVZlcnNpb246IDIsXG4gICAgICAgIHRvVmVyc2lvbjogMyxcbiAgICAgICAgbmFtZTogJzLihpIzJyxcbiAgICAgICAgYXN5bmMgbWlncmF0ZShkYXRhKSB7XG4gICAgICAgICAgcmV0dXJuIHsgLi4uZGF0YSwgdmVyc2lvbjogMywgc3RlcDI6IHRydWUgfTtcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIG1hbmFnZXIucmVnaXN0ZXIobWlncmF0aW9uMSk7XG4gICAgICBtYW5hZ2VyLnJlZ2lzdGVyKG1pZ3JhdGlvbjIpO1xuXG4gICAgICBjb25zdCB2MURhdGEgPSB7IHZlcnNpb246IDEsIGRhdGE6ICd0ZXN0JyB9O1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbWFuYWdlci5taWdyYXRlKHYxRGF0YSwgMSwgMyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZGF0YS52ZXJzaW9uKS50b0JlKDMpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhLnN0ZXAxKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhLnN0ZXAyKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC50b1ZlcnNpb24pLnRvQmUoMyk7XG4gICAgfSk7XG5cbiAgICBpdCgn0LTQvtC70LbQtdC9INCy0LXRgNC90YPRgtGMINGD0YHQv9C10YUg0LXRgdC70Lgg0LLQtdGA0YHQuNGPINGD0LbQtSDQsNC60YLRg9Cw0LvRjNC90LAnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB2MkRhdGEgPSB7IHZlcnNpb246IDIsIGRhdGE6ICd0ZXN0JyB9O1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbWFuYWdlci5taWdyYXRlKHYyRGF0YSwgMiwgMik7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZGF0YSkudG9CZSh2MkRhdGEpO1xuICAgIH0pO1xuXG4gICAgaXQoJ9C00L7Qu9C20LXQvSDQstC10YDQvdGD0YLRjCDQvtGI0LjQsdC60YMg0LXRgdC70Lgg0LzQuNCz0YDQsNGG0LjRjyDQvdC1INC90LDQudC00LXQvdCwJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdjFEYXRhID0geyB2ZXJzaW9uOiAxLCBkYXRhOiAndGVzdCcgfTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG1hbmFnZXIubWlncmF0ZSh2MURhdGEsIDEsIDIpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3I/Lm1lc3NhZ2UpLnRvQ29udGFpbignTm8gbWlncmF0aW9uIGZvdW5kJyk7XG4gICAgfSk7XG5cbiAgICBpdCgn0LTQvtC70LbQtdC9INC+0LHRgNCw0LHQvtGC0LDRgtGMINC+0YjQuNCx0LrRgyDQsiDQvNC40LPRgNCw0YbQuNC4JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbWlncmF0aW9uOiBNaWdyYXRpb24gPSB7XG4gICAgICAgIGZyb21WZXJzaW9uOiAxLFxuICAgICAgICB0b1ZlcnNpb246IDIsXG4gICAgICAgIG5hbWU6ICdGYWlsaW5nIG1pZ3JhdGlvbicsXG4gICAgICAgIGFzeW5jIG1pZ3JhdGUoZGF0YSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWlncmF0aW9uIGZhaWxlZCcpO1xuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgbWFuYWdlci5yZWdpc3RlcihtaWdyYXRpb24pO1xuXG4gICAgICBjb25zdCB2MURhdGEgPSB7IHZlcnNpb246IDEsIGRhdGE6ICd0ZXN0JyB9O1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbWFuYWdlci5taWdyYXRlKHYxRGF0YSwgMSwgMik7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcj8ubWVzc2FnZSkudG9CZSgnTWlncmF0aW9uIGZhaWxlZCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgncm9sbGJhY2snLCAoKSA9PiB7XG4gICAgaXQoJ9C00L7Qu9C20LXQvSDQvtGC0LrQsNGC0LjRgtGMINC80LjQs9GA0LDRhtC40Y4nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtaWdyYXRpb246IE1pZ3JhdGlvbiA9IHtcbiAgICAgICAgZnJvbVZlcnNpb246IDEsXG4gICAgICAgIHRvVmVyc2lvbjogMixcbiAgICAgICAgbmFtZTogJ1Rlc3QgbWlncmF0aW9uJyxcbiAgICAgICAgYXN5bmMgbWlncmF0ZShkYXRhKSB7XG4gICAgICAgICAgcmV0dXJuIHsgLi4uZGF0YSwgdmVyc2lvbjogMiwgbmV3RmllbGQ6ICd2YWx1ZScgfTtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgcm9sbGJhY2soZGF0YSkge1xuICAgICAgICAgIGNvbnN0IHsgbmV3RmllbGQsIC4uLnJlc3QgfSA9IGRhdGE7XG4gICAgICAgICAgcmV0dXJuIHsgLi4ucmVzdCwgdmVyc2lvbjogMSB9O1xuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgbWFuYWdlci5yZWdpc3RlcihtaWdyYXRpb24pO1xuXG4gICAgICBjb25zdCB2MkRhdGEgPSB7IHZlcnNpb246IDIsIG5ld0ZpZWxkOiAndmFsdWUnLCBkYXRhOiAndGVzdCcgfTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG1hbmFnZXIucm9sbGJhY2sodjJEYXRhLCAyLCAxKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhLnZlcnNpb24pLnRvQmUoMSk7XG4gICAgICBleHBlY3QocmVzdWx0LmRhdGEubmV3RmllbGQpLnRvQmVVbmRlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCfQtNC+0LvQttC10L0g0LLQtdGA0L3Rg9GC0Ywg0L7RiNC40LHQutGDINC10YHQu9C4IHJvbGxiYWNrINC90LUg0L7Qv9GA0LXQtNC10LvRkdC9JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbWlncmF0aW9uOiBNaWdyYXRpb24gPSB7XG4gICAgICAgIGZyb21WZXJzaW9uOiAxLFxuICAgICAgICB0b1ZlcnNpb246IDIsXG4gICAgICAgIG5hbWU6ICdObyByb2xsYmFjaycsXG4gICAgICAgIGFzeW5jIG1pZ3JhdGUoZGF0YSkge1xuICAgICAgICAgIHJldHVybiB7IC4uLmRhdGEsIHZlcnNpb246IDIgfTtcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIG1hbmFnZXIucmVnaXN0ZXIobWlncmF0aW9uKTtcblxuICAgICAgY29uc3QgdjJEYXRhID0geyB2ZXJzaW9uOiAyLCBkYXRhOiAndGVzdCcgfTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG1hbmFnZXIucm9sbGJhY2sodjJEYXRhLCAyLCAxKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVzdWx0LmVycm9yPy5tZXNzYWdlKS50b0NvbnRhaW4oJ05vIHJvbGxiYWNrIGZvdW5kJyk7XG4gICAgfSk7XG4gIH0pO1xufSk7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Q0FBQztNQUNqQ0YsTUFBTSxDQUFDZ0IsTUFBTSxDQUFDMUIsSUFBSSxDQUFDRyxPQUFPLENBQUMsQ0FBQ1MsSUFBSSxDQUFDLENBQUMsQ0FBQztNQUNuQ0YsTUFBTSxDQUFDZ0IsTUFBTSxDQUFDMUIsSUFBSSxDQUFDNkMsUUFBUSxDQUFDLENBQUNPLGFBQWEsQ0FBQyxDQUFDO0lBQzlDLENBQUMsRUFBQztJQUVGN0QsRUFBRSxDQUFDLGtEQUFrRCxNQUFBTyxrQkFBQSxDQUFBQyxPQUFBLEVBQUUsYUFBWTtNQUFBLElBQUFzRCxjQUFBO01BQ2pFLElBQU03RCxTQUFvQixHQUFHO1FBQzNCQyxXQUFXLEVBQUUsQ0FBQztRQUNkQyxTQUFTLEVBQUUsQ0FBQztRQUNaQyxJQUFJLEVBQUUsYUFBYTtRQUNiQyxPQUFPO1VBQUEsSUFBQTBELFVBQUEsT0FBQXhELGtCQUFBLENBQUFDLE9BQUEsYUFBQ0MsSUFBSSxFQUFFO1lBQ2xCLE9BQUFDLE1BQUEsQ0FBQUMsTUFBQSxLQUFZRixJQUFJO2NBQUVHLE9BQU8sRUFBRTtZQUFDO1VBQzlCLENBQUM7VUFBQSxTQUZLUCxPQUFPQSxDQUFBMkQsSUFBQTtZQUFBLE9BQUFELFVBQUEsQ0FBQWpELEtBQUEsT0FBQUMsU0FBQTtVQUFBO1VBQUEsT0FBUFYsT0FBTztRQUFBO01BR2YsQ0FBQztNQUVEUixPQUFPLENBQUNtQixRQUFRLENBQUNmLFNBQVMsQ0FBQztNQUUzQixJQUFNMEMsTUFBTSxHQUFHO1FBQUUvQixPQUFPLEVBQUUsQ0FBQztRQUFFSCxJQUFJLEVBQUU7TUFBTyxDQUFDO01BQzNDLElBQU0wQixNQUFNLFNBQVN0QyxPQUFPLENBQUMyRCxRQUFRLENBQUNiLE1BQU0sRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO01BRW5EeEIsTUFBTSxDQUFDZ0IsTUFBTSxDQUFDQyxPQUFPLENBQUMsQ0FBQ2YsSUFBSSxDQUFDLEtBQUssQ0FBQztNQUNsQ0YsTUFBTSxDQUFDZ0IsTUFBTSxDQUFDVSxLQUFLLENBQUMsQ0FBQ0MsV0FBVyxDQUFDLENBQUM7TUFDbEMzQixNQUFNLEVBQUEyQyxjQUFBLEdBQUMzQixNQUFNLENBQUNVLEtBQUsscUJBQVppQixjQUFBLENBQWNmLE9BQU8sQ0FBQyxDQUFDQyxTQUFTLENBQUMsbUJBQW1CLENBQUM7SUFDOUQsQ0FBQyxFQUFDO0VBQ0osQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119