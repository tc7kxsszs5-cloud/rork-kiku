{"version":3,"names":["evaluateMessageRisk","evaluateImageRisk","describe","createTestMessage","text","id","senderId","senderName","timestamp","Date","now","analyzed","it","message","result","expect","riskLevel","toBe","reasons","toEqual","categories","confidence","toBeGreaterThanOrEqual","toBeLessThanOrEqual","message1","message2","message3","result1","result2","result3","toBeLessThan","toContain","toBeGreaterThan","length","longText","repeat","blocked","uri","longUri"],"sources":["riskEvaluation.test.ts"],"sourcesContent":["/**\n * Детерминированные модульные тесты для riskEvaluation.ts\n * \n * Только чистые функции:\n * - Нет интеграций\n * - Нет асинхронных операций\n * - Нет сложных моков\n * - Одинаковый вход = одинаковый выход\n */\n\nimport { evaluateMessageRisk, evaluateImageRisk } from '@/utils/riskEvaluation';\nimport { Message, RiskLevel } from '@/constants/types';\n\ndescribe('riskEvaluation - Детерминированные unit тесты', () => {\n  const createTestMessage = (text: string): Message => ({\n    id: 'test-msg-1',\n    text,\n    senderId: 'sender-1',\n    senderName: 'Test User',\n    timestamp: Date.now(),\n    analyzed: false,\n  });\n\n  describe('evaluateMessageRisk', () => {\n    describe('Безопасные сообщения (safe level)', () => {\n      it('должен вернуть safe для обычного сообщения без ключевых слов', () => {\n        const message = createTestMessage('Привет! Как дела?');\n        const result = evaluateMessageRisk(message);\n\n        expect(result.riskLevel).toBe('safe');\n        expect(result.reasons).toEqual([]);\n        expect(result.categories).toEqual([]);\n        expect(result.confidence).toBeGreaterThanOrEqual(0.2);\n        expect(result.confidence).toBeLessThanOrEqual(0.6);\n      });\n\n      it('должен увеличить confidence при наличии восклицательных знаков', () => {\n        const message1 = createTestMessage('Привет');\n        const message2 = createTestMessage('Привет!!!');\n        const message3 = createTestMessage('Привет!!!!!!!!!!');\n\n        const result1 = evaluateMessageRisk(message1);\n        const result2 = evaluateMessageRisk(message2);\n        const result3 = evaluateMessageRisk(message3);\n\n        expect(result1.confidence).toBeLessThan(result2.confidence);\n        expect(result2.confidence).toBeLessThanOrEqual(result3.confidence);\n        // Максимум 0.6 (0.2 + 0.4) - используем toBeCloseTo для чисел с плавающей точкой\n        expect(result3.confidence).toBeLessThanOrEqual(0.6001);\n      });\n\n      it('должен быть детерминированным для одинаковых сообщений', () => {\n        const message = createTestMessage('Обычное сообщение');\n        const result1 = evaluateMessageRisk(message);\n        const result2 = evaluateMessageRisk(message);\n\n        expect(result1).toEqual(result2);\n        expect(result1.riskLevel).toBe(result2.riskLevel);\n        expect(result1.confidence).toBe(result2.confidence);\n      });\n    });\n\n    describe('Критический уровень риска (critical)', () => {\n      it('должен обнаружить суицидальные мотивы', () => {\n        const message = createTestMessage('Я хочу покончить с собой');\n        const result = evaluateMessageRisk(message);\n\n        expect(result.riskLevel).toBe('critical');\n        expect(result.reasons).toContain('Угроза жизни или суицидальные мотивы');\n        expect(result.categories).toContain('threats');\n        expect(result.confidence).toBeGreaterThan(0.5);\n      });\n\n      it('должен обнаружить угрозы убийства', () => {\n        const message = createTestMessage('Я убью тебя');\n        const result = evaluateMessageRisk(message);\n\n        expect(result.riskLevel).toBe('critical');\n        expect(result.reasons).toContain('Угроза жизни или суицидальные мотивы');\n      });\n\n      it('должен обнаружить упоминания бомб', () => {\n        const message = createTestMessage('Взорвем школу');\n        const result = evaluateMessageRisk(message);\n\n        expect(result.riskLevel).toBe('critical');\n      });\n\n      it('должен работать независимо от регистра', () => {\n        const message1 = createTestMessage('Я убью тебя');\n        const message2 = createTestMessage('Я УБЬЮ ТЕБЯ');\n        const message3 = createTestMessage('я убью тебя');\n\n        const result1 = evaluateMessageRisk(message1);\n        const result2 = evaluateMessageRisk(message2);\n        const result3 = evaluateMessageRisk(message3);\n\n        expect(result1.riskLevel).toBe('critical');\n        expect(result2.riskLevel).toBe('critical');\n        expect(result3.riskLevel).toBe('critical');\n      });\n    });\n\n    describe('Высокий уровень риска (high)', () => {\n      it('должен обнаружить запрос личных данных', () => {\n        const message = createTestMessage('Скажи свой домашний адрес');\n        const result = evaluateMessageRisk(message);\n\n        expect(result.riskLevel).toBe('high');\n        expect(result.reasons).toContain('Запрос личных данных');\n        expect(result.categories).toContain('privacy');\n      });\n\n      it('должен обнаружить запрос пароля', () => {\n        const message = createTestMessage('Какой у тебя пароль?');\n        const result = evaluateMessageRisk(message);\n\n        expect(result.riskLevel).toBe('high');\n        expect(result.reasons).toContain('Запрос личных данных');\n      });\n\n      it('должен обнаружить финансовое давление', () => {\n        const message = createTestMessage('Переведи деньги срочно');\n        const result = evaluateMessageRisk(message);\n\n        expect(result.riskLevel).toBe('high');\n        expect(result.reasons).toContain('Финансовое давление');\n        expect(result.categories).toContain('fraud');\n      });\n\n      it('должен обнаружить упоминание оружия', () => {\n        const message = createTestMessage('У меня есть пистолет');\n        const result = evaluateMessageRisk(message);\n\n        expect(result.riskLevel).toBe('high');\n        expect(result.reasons).toContain('Упоминание оружия или запрещённых веществ');\n        expect(result.categories).toContain('safety');\n      });\n\n      it('должен обнаружить наркотики', () => {\n        const message = createTestMessage('Давай наркотики');\n        const result = evaluateMessageRisk(message);\n\n        expect(result.riskLevel).toBe('high');\n      });\n    });\n\n    describe('Средний уровень риска (medium)', () => {\n      it('должен обнаружить секретные встречи', () => {\n        const message = createTestMessage('Никому не говори, встретимся ночью');\n        const result = evaluateMessageRisk(message);\n\n        expect(result.riskLevel).toBe('medium');\n        expect(result.reasons).toContain('Секретные встречи без взрослых');\n        expect(result.categories).toContain('grooming');\n      });\n\n      it('должен обнаружить травлю', () => {\n        const message = createTestMessage('Ты дурак и тупой');\n        const result = evaluateMessageRisk(message);\n\n        expect(result.riskLevel).toBe('medium');\n        expect(result.reasons).toContain('Травля и унижения');\n        expect(result.categories).toContain('bullying');\n      });\n\n      it('должен обнаружить признаки давления', () => {\n        const message = createTestMessage('Мне страшно, меня преследуют');\n        const result = evaluateMessageRisk(message);\n\n        expect(result.riskLevel).toBe('medium');\n        expect(result.reasons).toContain('Запрос помощи или признаки давления');\n        expect(result.categories).toContain('distress');\n      });\n    });\n\n    describe('Низкий уровень риска (low)', () => {\n      it('должен обнаружить подозрительные просьбы', () => {\n        const message = createTestMessage('Спорим не расскажешь, скинь фотку');\n        const result = evaluateMessageRisk(message);\n\n        expect(result.riskLevel).toBe('low');\n        expect(result.reasons).toContain('Подозрительные просьбы');\n        expect(result.categories).toContain('boundaries');\n      });\n\n      it('должен обнаружить просьбу отправить фото', () => {\n        const message = createTestMessage('Отправь фото');\n        const result = evaluateMessageRisk(message);\n\n        expect(result.riskLevel).toBe('low');\n      });\n    });\n\n    describe('Множественные ключевые слова', () => {\n      it('должен выбрать highest risk level при множественных совпадениях', () => {\n        const message = createTestMessage('Убью тебя и заберу деньги');\n        const result = evaluateMessageRisk(message);\n\n        // Должен быть critical, так как это highest level\n        expect(result.riskLevel).toBe('critical');\n        expect(result.reasons.length).toBeGreaterThan(1);\n      });\n\n      it('должен объединить все причины', () => {\n        const message = createTestMessage('Ты дурак, отправь фото и не рассказывай');\n        const result = evaluateMessageRisk(message);\n\n        expect(result.reasons.length).toBeGreaterThan(1);\n        expect(result.categories.length).toBeGreaterThan(1);\n      });\n\n      it('должен увеличить confidence при множественных совпадениях', () => {\n        const message1 = createTestMessage('Ты дурак');\n        const message2 = createTestMessage('Ты дурак, отправь фото, не рассказывай');\n        \n        const result1 = evaluateMessageRisk(message1);\n        const result2 = evaluateMessageRisk(message2);\n\n        expect(result2.confidence).toBeGreaterThan(result1.confidence);\n      });\n    });\n\n    describe('Confidence calculation', () => {\n      it('должен увеличить confidence при CAPS тексте', () => {\n        const message1 = createTestMessage('ты дурак');\n        const message2 = createTestMessage('ТЫ ДУРАК');\n        \n        const result1 = evaluateMessageRisk(message1);\n        const result2 = evaluateMessageRisk(message2);\n\n        expect(result2.confidence).toBeGreaterThan(result1.confidence);\n      });\n\n      it('должен увеличить confidence при числовых паттернах', () => {\n        const message1 = createTestMessage('Переведи деньги');\n        const message2 = createTestMessage('Переведи 5000 рублей срочно');\n        \n        const result1 = evaluateMessageRisk(message1);\n        const result2 = evaluateMessageRisk(message2);\n\n        expect(result2.confidence).toBeGreaterThan(result1.confidence);\n      });\n\n      it('должен ограничить confidence максимумом 0.99', () => {\n        const message = createTestMessage('УБЬЮ ТЕБЯ 1234 5678 9012 3456!!!');\n        const result = evaluateMessageRisk(message);\n\n        expect(result.confidence).toBeLessThanOrEqual(0.99);\n      });\n\n      it('должен иметь минимальный confidence 0.55 для рисковых сообщений', () => {\n        const message = createTestMessage('Ты дурак');\n        const result = evaluateMessageRisk(message);\n\n        expect(result.confidence).toBeGreaterThanOrEqual(0.55);\n      });\n    });\n\n    describe('Edge cases', () => {\n      it('должен обработать пустое сообщение', () => {\n        const message = createTestMessage('');\n        const result = evaluateMessageRisk(message);\n\n        expect(result.riskLevel).toBe('safe');\n        expect(result.reasons).toEqual([]);\n      });\n\n      it('должен обработать очень длинное сообщение', () => {\n        const longText = 'Привет! '.repeat(1000);\n        const message = createTestMessage(longText);\n        const result = evaluateMessageRisk(message);\n\n        expect(result.riskLevel).toBe('safe');\n      });\n\n      it('должен обработать сообщение только с цифрами', () => {\n        const message = createTestMessage('1234567890');\n        const result = evaluateMessageRisk(message);\n\n        expect(result.riskLevel).toBe('safe');\n      });\n\n      it('должен обработать сообщение только со знаками препинания', () => {\n        const message = createTestMessage('!!!???...');\n        const result = evaluateMessageRisk(message);\n\n        expect(result.riskLevel).toBe('safe');\n        expect(result.confidence).toBeGreaterThan(0.2);\n      });\n    });\n  });\n\n  describe('evaluateImageRisk', () => {\n    describe('Безопасные изображения', () => {\n      it('должен вернуть blocked: false для безопасного URI', () => {\n        const result = evaluateImageRisk('https://example.com/image.jpg');\n\n        expect(result.blocked).toBe(false);\n        expect(result.reasons).toEqual([]);\n      });\n\n      it('должен вернуть blocked: false для обычного пути', () => {\n        const result = evaluateImageRisk('/path/to/image.png');\n\n        expect(result.blocked).toBe(false);\n      });\n\n      it('должен быть детерминированным для одинаковых URI', () => {\n        const uri = 'https://example.com/safe.jpg';\n        const result1 = evaluateImageRisk(uri);\n        const result2 = evaluateImageRisk(uri);\n\n        expect(result1).toEqual(result2);\n        expect(result1.blocked).toBe(result2.blocked);\n      });\n    });\n\n    describe('Рискованные изображения', () => {\n      it('должен заблокировать изображение с ключевым словом \"weapon\"', () => {\n        const result = evaluateImageRisk('https://example.com/weapon.jpg');\n\n        expect(result.blocked).toBe(true);\n        expect(result.reasons).toContain('Изображение отмечено как рискованное по ключевому слову \"weapon\"');\n      });\n\n      it('должен заблокировать изображение с ключевым словом \"blood\"', () => {\n        const result = evaluateImageRisk('image-blood-123.png');\n\n        expect(result.blocked).toBe(true);\n        expect(result.reasons).toContain('Изображение отмечено как рискованное по ключевому слову \"blood\"');\n      });\n\n      it('должен заблокировать изображение с ключевым словом \"nsfw\"', () => {\n        const result = evaluateImageRisk('nsfw-content.jpg');\n\n        expect(result.blocked).toBe(true);\n      });\n\n      it('должен заблокировать изображение с ключевым словом \"violence\"', () => {\n        const result = evaluateImageRisk('violence-scene.png');\n\n        expect(result.blocked).toBe(true);\n      });\n\n      it('должен заблокировать изображение с ключевым словом \"gun\"', () => {\n        const result = evaluateImageRisk('gun-image.jpg');\n\n        expect(result.blocked).toBe(true);\n      });\n\n      it('должен заблокировать изображение с ключевым словом \"knife\"', () => {\n        const result = evaluateImageRisk('knife-photo.png');\n\n        expect(result.blocked).toBe(true);\n      });\n    });\n\n    describe('Case insensitive', () => {\n      it('должен работать независимо от регистра', () => {\n        const result1 = evaluateImageRisk('WEAPON.jpg');\n        const result2 = evaluateImageRisk('Weapon.jpg');\n        const result3 = evaluateImageRisk('weapon.jpg');\n\n        expect(result1.blocked).toBe(true);\n        expect(result2.blocked).toBe(true);\n        expect(result3.blocked).toBe(true);\n      });\n    });\n\n    describe('Частичные совпадения', () => {\n      it('должен обнаружить ключевое слово в середине пути', () => {\n        const result = evaluateImageRisk('/path/to/weapon/image.jpg');\n\n        expect(result.blocked).toBe(true);\n      });\n\n      it('должен обнаружить ключевое слово в начале', () => {\n        const result = evaluateImageRisk('bloody-scene.png');\n\n        expect(result.blocked).toBe(true);\n      });\n\n      it('должен обнаружить ключевое слово в конце', () => {\n        const result = evaluateImageRisk('image-nsfw');\n\n        expect(result.blocked).toBe(true);\n      });\n    });\n\n    describe('Edge cases', () => {\n      it('должен обработать пустой URI', () => {\n        const result = evaluateImageRisk('');\n\n        expect(result.blocked).toBe(false);\n        expect(result.reasons).toEqual([]);\n      });\n\n      it('должен обработать очень длинный URI', () => {\n        const longUri = 'https://example.com/' + 'a'.repeat(1000) + '.jpg';\n        const result = evaluateImageRisk(longUri);\n\n        expect(result.blocked).toBe(false);\n      });\n\n      it('должен обработать URI с множественными ключевыми словами', () => {\n        // Должен вернуть первое найденное\n        const result = evaluateImageRisk('weapon-blood-violence.jpg');\n\n        expect(result.blocked).toBe(true);\n        expect(result.reasons.length).toBe(1);\n      });\n    });\n  });\n});\n"],"mappings":"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","ignoreList":[]}