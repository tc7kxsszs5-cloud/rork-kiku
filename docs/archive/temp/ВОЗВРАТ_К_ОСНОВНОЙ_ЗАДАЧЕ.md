# üéØ –í–æ–∑–≤—Ä–∞—Ç –∫ –æ—Å–Ω–æ–≤–Ω–æ–π –∑–∞–¥–∞—á–µ

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:

1. ‚úÖ Backend —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –Ω–∞ Vercel
2. ‚úÖ Supabase SDK –Ω–∞—Å—Ç—Ä–æ–µ–Ω
3. ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

## ‚ùå –ß—Ç–æ –µ—â–µ –Ω—É–∂–Ω–æ:

### –û—Å–Ω–æ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞: –ó–∞–º–µ–Ω–∏—Ç—å in-memory —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –Ω–∞ PostgreSQL

**–¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
- Backend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `Map` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (in-memory)
- –î–∞–Ω–Ω—ã–µ —Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ
- –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ production (serverless —Ñ—É–Ω–∫—Ü–∏–∏)

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**

1. **–°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã –≤ Supabase:**
   - `chats` - —á–∞—Ç—ã –∏ —Å–æ–æ–±—â–µ–Ω–∏—è
   - `alerts` - –∞–ª–µ—Ä—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏  
   - `devices` - —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
   - `sync_status` - —Å—Ç–∞—Ç—É—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

2. **–û–±–Ω–æ–≤–∏—Ç—å routes –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ë–î:**
   - `backend/trpc/routes/sync/chats.ts` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PostgreSQL –≤–º–µ—Å—Ç–æ Map
   - `backend/trpc/routes/sync/alerts.ts` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PostgreSQL –≤–º–µ—Å—Ç–æ Map

3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Supabase SDK –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏:**
   - –í–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–≥–æ PostgreSQL –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
   - –ß–µ—Ä–µ–∑ REST API Supabase
   - –ü—Ä–æ—â–µ –∏ –Ω–∞–¥–µ–∂–Ω–µ–µ –¥–ª—è serverless

---

## üí° –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π:

1. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É FUNCTION_INVOCATION_FAILED
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Supabase
3. üîÑ –°–æ–∑–¥–∞—Ç—å —Å—Ö–µ–º—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
4. üîÑ –û–±–Ω–æ–≤–∏—Ç—å routes –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ë–î

---

**–°–Ω–∞—á–∞–ª–∞ –∏—Å–ø—Ä–∞–≤–∏–º –æ—à–∏–±–∫—É, –ø–æ—Ç–æ–º –ø–µ—Ä–µ–π–¥–µ–º –∫ –æ—Å–Ω–æ–≤–Ω–æ–π –∑–∞–¥–∞—á–µ!**
