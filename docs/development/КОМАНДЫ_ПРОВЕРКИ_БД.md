# üîç –¢–æ—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

## ‚úÖ –°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
cd /Users/mac/Desktop/rork-kiku/backend

# 1. –ü–æ–ª—É—á–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ Vercel
bunx vercel env pull

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç DATABASE_URL
./check-db-simple.sh

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
bun check-database.js
```

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

### –®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
cd /Users/mac/Desktop/rork-kiku/backend
bunx vercel env pull
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª `.env.local` —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –∏–∑ Vercel.

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç DATABASE_URL

```bash
# –ü—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞
./check-db-simple.sh
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:

```bash
source .env.local
echo "DATABASE_URL: ${DATABASE_URL:0:50}..."
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

```bash
# –ò—Å–ø–æ–ª—å–∑—É—è —Å–∫—Ä–∏–ø—Ç (—Ç—Ä–µ–±—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É pg)
bun check-database.js
```

## üîß –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã –ø—Ä–æ–≤–µ—Ä–∫–∏

### –ú–µ—Ç–æ–¥ 1: –ß–µ—Ä–µ–∑ Supabase Dashboard

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://supabase.com/dashboard
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Database**
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ **Connection string** (Session mode)
5. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–∞—Ä–æ–ª—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π (–Ω–µ `[YOUR-PASSWORD]`)

### –ú–µ—Ç–æ–¥ 2: –ß–µ—Ä–µ–∑ Vercel Dashboard

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://vercel.com/dashboard
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç `backend`
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Environment Variables**
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ `DATABASE_URL`
5. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–æ (–Ω–µ –≤–∏–¥–Ω–æ, –Ω–æ —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ)

### –ú–µ—Ç–æ–¥ 3: –ß–µ—Ä–µ–∑ Vercel CLI

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ø–∏—Å–æ–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
bunx vercel env ls

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é (—Ç–æ–ª—å–∫–æ –Ω–∞–ª–∏—á–∏–µ, –Ω–µ –∑–Ω–∞—á–µ–Ω–∏–µ)
bunx vercel env ls DATABASE_URL
```

### –ú–µ—Ç–æ–¥ 4: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ psql (–¥–ª—è –ø—Ä—è–º–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PostgreSQL client
brew install postgresql

# –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
source .env.local
psql "$DATABASE_URL" -c "SELECT version();"
psql "$DATABASE_URL" -c "\dt"
```

## ‚ùå –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "DATABASE_URL –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
cd /Users/mac/Desktop/rork-kiku/backend
bunx vercel env pull
source .env.local
bun check-database.js
```

### –ü—Ä–æ–±–ª–µ–º–∞: "command not found: psql"

**–†–µ—à–µ–Ω–∏–µ:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PostgreSQL client:
```bash
brew install postgresql
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –±–µ–∑ psql:
```bash
bun check-database.js
```

### –ü—Ä–æ–±–ª–µ–º–∞: "A variable with the name DATABASE_URL already exists"

–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ! –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ Vercel. –ü—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
```bash
bunx vercel env pull
```

### –ü—Ä–æ–±–ª–µ–º–∞: "grep: invalid option -- P"

–ù–∞ macOS –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è BSD grep, –∞ –Ω–µ GNU grep. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É:
```bash
# –í–º–µ—Å—Ç–æ grep -oP –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
PROJECT_REF=$(echo $DATABASE_URL | sed 's/.*db\.\([^.]*\)\.supabase\.co.*/\1/')
echo "Project Ref: $PROJECT_REF"
```

–ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç:
```bash
./check-db-simple.sh
```

## ‚úÖ –£—Å–ø–µ—à–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ï—Å–ª–∏ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –≤—ã —É–≤–∏–¥–∏—Ç–µ:

```
‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ!
üìã –í–µ—Ä—Å–∏—è PostgreSQL: PostgreSQL 15.x
üìä –ù–∞–π–¥–µ–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã: (—Å–ø–∏—Å–æ–∫ –∏–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ —á—Ç–æ —Ç–∞–±–ª–∏—Ü –Ω–µ—Ç)
üîå –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è: (—Å–ø–∏—Å–æ–∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π)
‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!
```

## üöÄ –ë—ã—Å—Ç—Ä–∞—è –∫–æ–º–∞–Ω–¥–∞ (–≤—Å–µ –≤ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ)

```bash
cd /Users/mac/Desktop/rork-kiku/backend && bunx vercel env pull && bun check-database.js
```

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –§–∞–π–ª `.env.local` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore` –∏ –Ω–µ –±—É–¥–µ—Ç –∑–∞–∫–æ–º–º–∏—á–µ–Ω –≤ Git.
