# üòä –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —ç–º–æ–¥–∑–∏ –≤ KIKU

## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ã–±–æ—Ä–∞ —ç–º–æ–¥–∑–∏ (`EmojiPicker.tsx`)

**–§—É–Ω–∫—Ü–∏–∏:**
- ‚úÖ 8 –∫–∞—Ç–µ–≥–æ—Ä–∏–π —ç–º–æ–¥–∑–∏ (—Å–º–∞–π–ª–∏–∫–∏, –∂–µ—Å—Ç—ã, —Å–µ—Ä–¥—Ü–∞, –ø—Ä–µ–¥–º–µ—Ç—ã, –ø—Ä–∏—Ä–æ–¥–∞, –µ–¥–∞, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, —Å–∏–º–≤–æ–ª—ã)
- ‚úÖ –ü–æ–∏—Å–∫ —ç–º–æ–¥–∑–∏ –ø–æ –∑–∞–ø—Ä–æ—Å—É
- ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–π UI —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ç–µ–º—ã
- ‚úÖ –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π

**–ö–∞—Ç–µ–≥–æ—Ä–∏–∏:**
- üòÄ –°–º–∞–π–ª–∏–∫–∏ (smileys) - 60+ —ç–º–æ–¥–∑–∏
- üëã –ñ–µ—Å—Ç—ã (gestures) - 70+ —ç–º–æ–¥–∑–∏
- ‚ù§Ô∏è –°–µ—Ä–¥—Ü–∞ (hearts) - 50+ —ç–º–æ–¥–∑–∏
- ‚åö –ü—Ä–µ–¥–º–µ—Ç—ã (objects) - 100+ —ç–º–æ–¥–∑–∏
- üê∂ –ü—Ä–∏—Ä–æ–¥–∞ (nature) - 100+ —ç–º–æ–¥–∑–∏
- üçè –ï–¥–∞ (food) - 80+ —ç–º–æ–¥–∑–∏
- ‚öΩ –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (activities) - 80+ —ç–º–æ–¥–∑–∏
- ‚ù§Ô∏è –°–∏–º–≤–æ–ª—ã (symbols) - 150+ —ç–º–æ–¥–∑–∏

---

### 2. –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —ç–º–æ–¥–∑–∏ (`emojiUtils.ts`)

**–§—É–Ω–∫—Ü–∏–∏:**
- ‚úÖ `isEmoji(char)` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Å–∏–º–≤–æ–ª —ç–º–æ–¥–∑–∏
- ‚úÖ `extractEmojis(text)` - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤—Å–µ—Ö —ç–º–æ–¥–∑–∏ –∏–∑ —Ç–µ–∫—Å—Ç–∞
- ‚úÖ `countEmojis(text)` - –ø–æ–¥—Å—á—ë—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —ç–º–æ–¥–∑–∏
- ‚úÖ `replaceTextSmileys(text)` - –∑–∞–º–µ–Ω–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–º–∞–π–ª–∏–∫–æ–≤ –Ω–∞ —ç–º–æ–¥–∑–∏
- ‚úÖ `hasEmojis(text)` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —ç–º–æ–¥–∑–∏
- ‚úÖ `getFirstEmoji(text)` - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ —ç–º–æ–¥–∑–∏
- ‚úÖ `removeEmojis(text)` - —É–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —ç–º–æ–¥–∑–∏
- ‚úÖ `getEmojiStats(text)` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —ç–º–æ–¥–∑–∏

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–º–∞–π–ª–∏–∫–∏:**
- `:)` ‚Üí üòä
- `:(` ‚Üí üò¢
- `:D` ‚Üí üòÉ
- `:P` ‚Üí üòõ
- `;)` ‚Üí üòâ
- `:O` ‚Üí üòÆ
- `:*` ‚Üí üòò
- `<3` ‚Üí ‚ù§Ô∏è
- `</3` ‚Üí üíî
- `xD` ‚Üí üòÜ
- `^_^` ‚Üí üòä
- –ò –º–Ω–æ–≥–∏–µ –¥—Ä—É–≥–∏–µ...

---

### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —á–∞—Ç (`app/chat/[chatId].tsx`)

**–ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:**
- ‚úÖ –ö–Ω–æ–ø–∫–∞ —ç–º–æ–¥–∑–∏ –ø–µ—Ä–µ–¥ –ø–æ–ª–µ–º –≤–≤–æ–¥–∞
- ‚úÖ –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–±–æ—Ä–∞ —ç–º–æ–¥–∑–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–º–µ–Ω–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–º–∞–π–ª–∏–∫–æ–≤ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ
- ‚úÖ –¢–∞–∫—Ç–∏–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —ç–º–æ–¥–∑–∏

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É üòä
2. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å —ç–º–æ–¥–∑–∏
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —ç–º–æ–¥–∑–∏
4. –≠–º–æ–¥–∑–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞
5. –ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–º–∞–π–ª–∏–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–º–µ–Ω—è—é—Ç—Å—è –Ω–∞ —ç–º–æ–¥–∑–∏

---

## üé® –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ —ç–º–æ–¥–∑–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: –î–æ–±–∞–≤–∏—Ç—å –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

```typescript
// –í components/EmojiPicker.tsx
const EMOJI_CATEGORIES = {
  smileys: {
    name: '–°–º–∞–π–ª–∏–∫–∏',
    emojis: [
      'üòÄ', 'üòÉ', 'üòÑ',
      // –î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–∏ —ç–º–æ–¥–∑–∏ –∑–¥–µ—Å—å
      'ü¶Ñ', // –ö–∞—Å—Ç–æ–º–Ω—ã–π —ç–º–æ–¥–∑–∏
    ],
  },
  // ...
};
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é

```typescript
const EMOJI_CATEGORIES = {
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
  custom: {
    name: '–ö–∞—Å—Ç–æ–º–Ω—ã–µ',
    emojis: [
      'ü¶Ñ', // –í–∞—à –∫–∞—Å—Ç–æ–º–Ω—ã–π —ç–º–æ–¥–∑–∏
      'üåü', // –ï—â—ë –æ–¥–∏–Ω
    ],
  },
};
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–∞–∫ —ç–º–æ–¥–∑–∏

```typescript
// –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —ç–º–æ–¥–∑–∏-–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
const CustomEmoji = ({ source, onPress }) => (
  <TouchableOpacity onPress={onPress}>
    <Image source={source} style={{ width: 32, height: 32 }} />
  </TouchableOpacity>
);
```

---

## üîß –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ —ç–º–æ–¥–∑–∏

### –ò—Å—Ç–æ—á–Ω–∏–∫–∏ —ç–º–æ–¥–∑–∏:

1. **Unicode Emoji** (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –≤ —Å–∏—Å—Ç–µ–º—É)
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç–º–æ–¥–∑–∏ –Ω–∞–ø—Ä—è–º—É—é: `'üòÄ'`
   - –†–∞–±–æ—Ç–∞—é—Ç –Ω–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö

2. **Emoji –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:**
   - `react-native-emoji-selector` (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –≥–æ—Ç–æ–≤–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞)
   - `emoji-mart-native` (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

3. **–ö–∞—Å—Ç–æ–º–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:**
   - –°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–∏ —ç–º–æ–¥–∑–∏ –∫–∞–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
   - –î–æ–±–∞–≤—å—Ç–µ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∫–∞–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

---

## üìã –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ —á–∞—Ç–∞:

```typescript
import { EmojiPicker } from '@/components/EmojiPicker';
import { replaceTextSmileys, extractEmojis } from '@/utils/emojiUtils';

// –û—Ç–∫—Ä—ã—Ç—å –ø–∏–∫–µ—Ä
<EmojiPicker
  visible={showEmojiPicker}
  onClose={() => setShowEmojiPicker(false)}
  onEmojiSelect={(emoji) => setInputText(prev => prev + emoji)}
/>

// –ó–∞–º–µ–Ω–∏—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–º–∞–π–ª–∏–∫–∏
const text = replaceTextSmileys("–ü—Ä–∏–≤–µ—Ç :) –ö–∞–∫ –¥–µ–ª–∞?");
// –†–µ–∑—É–ª—å—Ç–∞—Ç: "–ü—Ä–∏–≤–µ—Ç üòä –ö–∞–∫ –¥–µ–ª–∞?"

// –ò–∑–≤–ª–µ—á—å —ç–º–æ–¥–∑–∏
const emojis = extractEmojis("–ü—Ä–∏–≤–µ—Ç üòä –ö–∞–∫ –¥–µ–ª–∞? ‚ù§Ô∏è");
// –†–µ–∑—É–ª—å—Ç–∞—Ç: ["üòä", "‚ù§Ô∏è"]
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —ç–º–æ–¥–∑–∏:

```typescript
import { getEmojiStats } from '@/utils/emojiUtils';

const stats = getEmojiStats("–ü—Ä–∏–≤–µ—Ç üòä –ö–∞–∫ –¥–µ–ª–∞? ‚ù§Ô∏è üòä");
// –†–µ–∑—É–ª—å—Ç–∞—Ç:
// {
//   total: 3,
//   unique: 2,
//   emojis: ["üòä", "‚ù§Ô∏è"],
//   mostUsed: [
//     { emoji: "üòä", count: 2 },
//     { emoji: "‚ù§Ô∏è", count: 1 }
//   ]
// }
```

---

## üéØ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –¥—Ä—É–≥–∏–µ –º–µ—Å—Ç–∞

### –í –ø—Ä–æ—Ñ–∏–ª–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```typescript
import { EmojiPicker } from '@/components/EmojiPicker';

// –î–æ–±–∞–≤–∏—Ç—å —ç–º–æ–¥–∑–∏ –≤ —Å—Ç–∞—Ç—É—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
<EmojiPicker
  visible={showEmojiPicker}
  onClose={() => setShowEmojiPicker(false)}
  onEmojiSelect={(emoji) => setUserStatus(prev => prev + emoji)}
/>
```

### –í –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö:

```typescript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–º–µ–Ω–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏
const processedComment = replaceTextSmileys(commentText);
```

---

## üöÄ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. –ù–µ–¥–∞–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —ç–º–æ–¥–∑–∏

```typescript
// –°–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ AsyncStorage
const [recentEmojis, setRecentEmojis] = useState<string[]>([]);

const handleEmojiSelect = (emoji: string) => {
  setRecentEmojis(prev => {
    const updated = [emoji, ...prev.filter(e => e !== emoji)].slice(0, 20);
    AsyncStorage.setItem('@recent_emojis', JSON.stringify(updated));
    return updated;
  });
  onEmojiSelect(emoji);
};
```

### 2. –ò–∑–±—Ä–∞–Ω–Ω—ã–µ —ç–º–æ–¥–∑–∏

```typescript
// –ü–æ–∑–≤–æ–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –¥–æ–±–∞–≤–ª—è—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
const [favoriteEmojis, setFavoriteEmojis] = useState<string[]>([]);
```

### 3. –≠–º–æ–¥–∑–∏-—Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è

```typescript
// –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∞–∫—Ü–∏—é —ç–º–æ–¥–∑–∏ –∫ —Å–æ–æ–±—â–µ–Ω–∏—é
interface Message {
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è
  reactions?: { emoji: string; userId: string }[];
}
```

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —ç–º–æ–¥–∑–∏

### –¢—Ä–µ–∫–∏–Ω–≥ –≤ –∞–Ω–∞–ª–∏—Ç–∏–∫–µ:

```typescript
import { countEmojis, extractEmojis } from '@/utils/emojiUtils';

// –ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è
const emojiCount = countEmojis(messageText);
if (emojiCount > 0) {
  trackEvent('emoji_used', {
    count: emojiCount,
    emojis: extractEmojis(messageText),
  });
}
```

---

## ‚úÖ –ò—Ç–æ–≥

**–ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ã–±–æ—Ä–∞ —ç–º–æ–¥–∑–∏ —Å 8 –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
- ‚úÖ –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —ç–º–æ–¥–∑–∏
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —á–∞—Ç
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–º–µ–Ω–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–º–∞–π–ª–∏–∫–æ–≤
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–º—ã

**–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É üòä –≤ —á–∞—Ç–µ
2. –í—ã–±–µ—Ä–∏—Ç–µ —ç–º–æ–¥–∑–∏ –∏–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
3. –≠–º–æ–¥–∑–∏ –¥–æ–±–∞–≤–∏—Ç—Å—è –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞
4. –¢–µ–∫—Å—Ç–æ–≤—ã–µ —Å–º–∞–π–ª–∏–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–º–µ–Ω—è—Ç—Å—è –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ

**–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —ç–º–æ–¥–∑–∏
- –°–æ–∑–¥–∞–π—Ç–µ –∫–∞—Å—Ç–æ–º–Ω—ã–µ —ç–º–æ–¥–∑–∏-–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –î–æ–±–∞–≤—å—Ç–µ –Ω–µ–¥–∞–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ
- –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è

---

**–≠–º–æ–¥–∑–∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üòäüéâ
