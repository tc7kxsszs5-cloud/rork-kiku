# üöÄ –ü–ª–∞–Ω –∑–∞–¥–∞—á –¥–ª—è AI –∞–≥–µ–Ω—Ç–æ–≤ –Ω–∞ –∑–∞–≤—Ç—Ä–∞

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2026-01-26  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é

---

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

### ‚úÖ –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ:
- **Unit —Ç–µ—Å—Ç—ã —É—Ç–∏–ª–∏—Ç:** 317 —Ç–µ—Å—Ç–æ–≤, 100% –ø–æ–∫—Ä—ã—Ç–∏–µ
- **Playwright:** –ù–∞—Å—Ç—Ä–æ–µ–Ω, –µ—Å—Ç—å –±–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã
- **–ö–æ–¥:** –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω

### ‚ö†Ô∏è –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:
- **–¢–µ—Å—Ç—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:** 0 –∏–∑ 18 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–¢–µ—Å—Ç—ã —ç–∫—Ä–∞–Ω–æ–≤:** 0 –∏–∑ 25 —ç–∫—Ä–∞–Ω–æ–≤
- **–¢–µ—Å—Ç—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤:** 1 –∏–∑ 18 –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:** –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã, bundle, code splitting
- **–î–æ—Ä–∞–±–æ—Ç–∫–∞:** AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è, PostgreSQL, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

---

## üéØ –¶–ï–õ–ò –ù–ê –ó–ê–í–¢–†–ê

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –î–æ–≤–µ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç –¥–æ 70%+ –ø–æ–∫—Ä—ã—Ç–∏—è —Ç–µ—Å—Ç–∞–º–∏ –∏ production-ready —Å–æ—Å—Ç–æ—è–Ω–∏—è

**–í—Ä–µ–º—è:** 1-1.5 –º–µ—Å—è—Ü–∞ —Ä–∞–±–æ—Ç—ã –∞–≥–µ–Ω—Ç–æ–≤  
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** Production-ready –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

---

## ü§ñ –ó–ê–î–ê–ß–ò –î–õ–Ø –ö–ê–ñ–î–û–ì–û –ê–ì–ï–ù–¢–ê

### –ê–ì–ï–ù–¢ 1: Frontend UI - –¢–µ—Å—Ç—ã –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

**Git branch:** `agent-1-frontend-ui`  
**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 30-40 —á–∞—Å–æ–≤

#### –ó–∞–¥–∞—á–∞ 1.1: Unit —Ç–µ—Å—Ç—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (15-18 —á–∞—Å–æ–≤)

**–§–∞–π–ª—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –§–∞–π–ª | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –û—Ü–µ–Ω–∫–∞ |
|-----------|------|-----------|--------|
| ChatBackgroundPicker | `components/ChatBackgroundPicker.tsx` | üü° –°—Ä–µ–¥–Ω–∏–π | 1-2 —á–∞—Å–∞ |
| CustomEmoji | `components/CustomEmoji.tsx` | üü° –°—Ä–µ–¥–Ω–∏–π | 1-2 —á–∞—Å–∞ |
| CustomEmojiCreator | `components/CustomEmojiCreator.tsx` | üü° –°—Ä–µ–¥–Ω–∏–π | 2 —á–∞—Å–∞ |
| EmojiPicker | `components/EmojiPicker.tsx` | üü° –°—Ä–µ–¥–Ω–∏–π | 1-2 —á–∞—Å–∞ |
| EmojiRenderer | `components/EmojiRenderer.tsx` | üü° –°—Ä–µ–¥–Ω–∏–π | 1 —á–∞—Å |
| OnlineStatus | `components/OnlineStatus.tsx` | üü° –°—Ä–µ–¥–Ω–∏–π | 1 —á–∞—Å |
| StatusCreator | `components/StatusCreator.tsx` | üü° –°—Ä–µ–¥–Ω–∏–π | 1-2 —á–∞—Å–∞ |
| StatusViewer | `components/StatusViewer.tsx` | üü° –°—Ä–µ–¥–Ω–∏–π | 1 —á–∞—Å |
| ThemeModeToggle | `components/ThemeModeToggle.tsx` | üü¢ –ù–∏–∑–∫–∏–π | 1 —á–∞—Å |
| Typography | `components/Typography.tsx` | üü¢ –ù–∏–∑–∫–∏–π | 1 —á–∞—Å |
| BiometricAuthSettings | `components/settings/BiometricAuthSettings.tsx` | üî¥ –í—ã—Å–æ–∫–∏–π | 2 —á–∞—Å–∞ |
| SyncSettings | `components/settings/SyncSettings.tsx` | üî¥ –í—ã—Å–æ–∫–∏–π | 2 —á–∞—Å–∞ |

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
- –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- Edge cases

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–∞:**
```typescript
// __tests__/unit/components/ChatBackgroundPicker.test.tsx
import { render, fireEvent, waitFor } from '@testing-library/react-native';
import { ChatBackgroundPicker } from '@/components/ChatBackgroundPicker';

describe('ChatBackgroundPicker', () => {
  it('–¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Å–ø–∏—Å–æ–∫ —Ñ–æ–Ω–æ–≤', async () => {
    const { getByText } = render(<ChatBackgroundPicker />);
    await waitFor(() => {
      expect(getByText('–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–æ–Ω')).toBeTruthy();
    });
  });

  it('–¥–æ–ª–∂–µ–Ω –≤—ã–±–∏—Ä–∞—Ç—å —Ñ–æ–Ω –ø—Ä–∏ –∫–ª–∏–∫–µ', async () => {
    const { getByTestId } = render(<ChatBackgroundPicker />);
    const background = getByTestId('background-1');
    fireEvent.press(background);
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–±–æ—Ä–∞
  });
});
```

#### –ó–∞–¥–∞—á–∞ 1.2: Unit —Ç–µ—Å—Ç—ã —ç–∫—Ä–∞–Ω–æ–≤ (12-15 —á–∞—Å–æ–≤)

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —ç–∫—Ä–∞–Ω—ã (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1):**

| –≠–∫—Ä–∞–Ω | –§–∞–π–ª | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –û—Ü–µ–Ω–∫–∞ |
|-------|------|-----------|--------|
| ChatScreen | `app/chat/[chatId].tsx` | üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π | 3-4 —á–∞—Å–∞ |
| AlertsScreen | `app/(tabs)/alerts.tsx` | üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π | 2-3 —á–∞—Å–∞ |
| MonitoringScreen | `app/(tabs)/index.tsx` | üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π | 3-4 —á–∞—Å–∞ |
| SecuritySettings | `app/security-settings.tsx` | üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π | 2-3 —á–∞—Å–∞ |

**–í–∞–∂–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2):**

| –≠–∫—Ä–∞–Ω | –§–∞–π–ª | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –û—Ü–µ–Ω–∫–∞ |
|-------|------|-----------|--------|
| RegisterParent | `app/register-parent.tsx` | üü° –í—ã—Å–æ–∫–∏–π | 2-3 —á–∞—Å–∞ |
| RegisterChild | `app/register-child.tsx` | üü° –í—ã—Å–æ–∫–∏–π | 2-3 —á–∞—Å–∞ |
| ProfileScreen | `app/(tabs)/profile.tsx` | üü° –í—ã—Å–æ–∫–∏–π | 2 —á–∞—Å–∞ |
| RoleSelection | `app/role-selection.tsx` | üü¢ –°—Ä–µ–¥–Ω–∏–π | 1-2 —á–∞—Å–∞ |

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
- –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —ç–∫—Ä–∞–Ω–∞
- –ù–∞–≤–∏–≥–∞—Ü–∏—è
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º
- –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞–º–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

#### –ó–∞–¥–∞—á–∞ 1.3: Code splitting –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (3-5 —á–∞—Å–æ–≤)

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
1. Lazy loading –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
2. Dynamic imports –¥–ª—è –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
3. Route-based code splitting –¥–ª—è —ç–∫—Ä–∞–Ω–æ–≤

**–ü—Ä–∏–º–µ—Ä:**
```typescript
// app/chat/[chatId].tsx
import { lazy, Suspense } from 'react';

const EmojiPicker = lazy(() => import('@/components/EmojiPicker'));

export default function ChatScreen() {
  return (
    <Suspense fallback={<LoadingSpinner />}>
      <EmojiPicker />
    </Suspense>
  );
}
```

---

### –ê–ì–ï–ù–¢ 2: Contexts - –¢–µ—Å—Ç—ã –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

**Git branch:** `agent-2-contexts`  
**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 25-30 —á–∞—Å–æ–≤

#### –ó–∞–¥–∞—á–∞ 2.1: Unit —Ç–µ—Å—Ç—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤ (15-18 —á–∞—Å–æ–≤)

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1):**

| –ö–æ–Ω—Ç–µ–∫—Å—Ç | –§–∞–π–ª | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –û—Ü–µ–Ω–∫–∞ |
|----------|------|-----------|--------|
| AuthContext | `constants/AuthContext.tsx` | üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π | 3-4 —á–∞—Å–∞ |
| MonitoringContext | `constants/MonitoringContext.tsx` | üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π | 4-5 —á–∞—Å–æ–≤ |
| ParentalControlsContext | `constants/ParentalControlsContext.tsx` | üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π | 3-4 —á–∞—Å–∞ |
| NotificationsContext | `constants/NotificationsContext.tsx` | üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π | 2-3 —á–∞—Å–∞ |
| UserContext | `constants/UserContext.tsx` | üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π | 2-3 —á–∞—Å–∞ |

**–í–∞–∂–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2):**

| –ö–æ–Ω—Ç–µ–∫—Å—Ç | –§–∞–π–ª | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –û—Ü–µ–Ω–∫–∞ |
|----------|------|-----------|--------|
| AnalyticsContext | `constants/AnalyticsContext.tsx` | üü° –í—ã—Å–æ–∫–∏–π | 2-3 —á–∞—Å–∞ |
| SecuritySettingsContext | `constants/SecuritySettingsContext.tsx` | üü° –í—ã—Å–æ–∫–∏–π | 2 —á–∞—Å–∞ |
| SyncSettingsContext | `constants/SyncSettingsContext.tsx` | üü° –í—ã—Å–æ–∫–∏–π | 2 —á–∞—Å–∞ |
| ThemeContext | `constants/ThemeContext.tsx` | üü¢ –°—Ä–µ–¥–Ω–∏–π | 1-2 —á–∞—Å–∞ |

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- Edge cases

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–∞:**
```typescript
// __tests__/unit/contexts/AuthContext.test.tsx
import { renderHook, waitFor, act } from '@testing-library/react-native';
import { AuthProvider, useAuth } from '@/constants/AuthContext';

const createWrapper = () => {
  return ({ children }: { children: React.ReactNode }) => (
    <AuthProvider>{children}</AuthProvider>
  );
};

describe('AuthContext', () => {
  it('–¥–æ–ª–∂–µ–Ω –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å –ø—É—Å—Ç—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º', async () => {
    const { result } = renderHook(() => useAuth(), {
      wrapper: createWrapper(),
    });

    await waitFor(() => {
      expect(result.current.user).toBeNull();
      expect(result.current.isAuthenticated).toBe(false);
    });
  });

  it('–¥–æ–ª–∂–µ–Ω –ª–æ–≥–∏–Ω–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è', async () => {
    const { result } = renderHook(() => useAuth(), {
      wrapper: createWrapper(),
    });

    await act(async () => {
      await result.current.login('test@example.com', 'password');
    });

    expect(result.current.isAuthenticated).toBe(true);
    expect(result.current.user).not.toBeNull();
  });
});
```

#### –ó–∞–¥–∞—á–∞ 2.2: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (8-12 —á–∞—Å–æ–≤)

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**

1. **–ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è (2-3 —á–∞—Å–∞):**
   - –ò–∑–º–µ—Ä–∏—Ç—å –≤—Ä–µ–º—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
   - –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
   - –í—ã—è–≤–∏—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è

2. **–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (3-4 —á–∞—Å–∞):**
   - `UserProvider` + `AuthProvider` ‚Üí `AuthUserProvider`
   - `AnalyticsProvider` + `ABTestingProvider` ‚Üí `AnalyticsProvider`
   - `ThemeProvider` + `LocalizationProvider` ‚Üí `UIProvider`

3. **Lazy loading –¥–ª—è –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö (2-3 —á–∞—Å–∞):**
   - `ABTestingProvider` - –∑–∞–≥—Ä—É–∂–∞—Ç—å –ø–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
   - `GamificationContext` - –∑–∞–≥—Ä—É–∂–∞—Ç—å –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
   - `ReferralProgramContext` - –∑–∞–≥—Ä—É–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥–ª—è premium

4. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ—Ä—è–¥–∫–∞ (1-2 —á–∞—Å–∞):**
   - –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
   - –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è re-renders

**–¶–µ–ª—å:** –í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞ < 2 —Å–µ–∫—É–Ω–¥—ã

---

### –ê–ì–ï–ù–¢ 3: Backend –∏ AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**Git branch:** `agent-3-backend`  
**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 40-50 —á–∞—Å–æ–≤

#### –ó–∞–¥–∞—á–∞ 3.1: –†–µ–∞–ª—å–Ω–∞—è AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (15-20 —á–∞—Å–æ–≤)

**A. OpenAI Moderation API (5-6 —á–∞—Å–æ–≤)**

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `utils/aiService.ts` - –¥–æ–±–∞–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π API
- `constants/MonitoringContext.tsx` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π API
- `.env.example` - –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
```typescript
// utils/aiService.ts
export const analyzeMessageWithOpenAI = async (message: string) => {
  const apiKey = process.env.OPENAI_API_KEY;
  if (!apiKey) {
    // Fallback –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞
    return analyzeMessageWithRules(message);
  }

  try {
    const response = await fetch('https://api.openai.com/v1/moderations', {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${apiKey}`,
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({ input: message }),
    });

    if (!response.ok) {
      throw new Error(`OpenAI API error: ${response.status}`);
    }

    const data = await response.json();
    return mapOpenAIResponseToRiskLevel(data);
  } catch (error) {
    logger.error('[AIService] OpenAI API failed', error);
    // Fallback –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞
    return analyzeMessageWithRules(message);
  }
};
```

**B. Google Vision API –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (4-5 —á–∞—Å–æ–≤)**

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `utils/aiService.ts` - –¥–æ–±–∞–≤–∏—Ç—å Google Vision
- `constants/MonitoringContext.tsx` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**C. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ AI –∑–∞–ø—Ä–æ—Å–æ–≤ (3-4 —á–∞—Å–∞)**

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- –•–µ—à–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –∫–ª—é—á–∞
- TTL: 24 —á–∞—Å–∞

**D. Rate limiting –¥–ª—è AI (2-3 —á–∞—Å–∞)**

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã –≤ –º–∏–Ω—É—Ç—É
- –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã
- –û—á–µ—Ä–µ–¥—å –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤

#### –ó–∞–¥–∞—á–∞ 3.2: –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ PostgreSQL (20-30 —á–∞—Å–æ–≤)

**A. –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ö–µ–º –ë–î (4-5 —á–∞—Å–æ–≤)**

**–§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è:**
- `backend/db/schema.sql` - —Å—Ö–µ–º—ã —Ç–∞–±–ª–∏—Ü
- `backend/db/migrations/` - –º–∏–≥—Ä–∞—Ü–∏–∏

**–°—Ö–µ–º–∞:**
```sql
-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
CREATE TABLE users (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  email TEXT UNIQUE,
  role TEXT NOT NULL, -- 'parent' | 'child'
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

-- –î–µ—Ç–∏
CREATE TABLE children (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  parent_id UUID REFERENCES users(id) ON DELETE CASCADE,
  name TEXT NOT NULL,
  age INTEGER NOT NULL,
  created_at TIMESTAMP DEFAULT NOW()
);

-- –ß–∞—Ç—ã
CREATE TABLE chats (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  child_id UUID REFERENCES children(id) ON DELETE CASCADE,
  contact_name TEXT NOT NULL,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

-- –°–æ–æ–±—â–µ–Ω–∏—è
CREATE TABLE messages (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  chat_id UUID REFERENCES chats(id) ON DELETE CASCADE,
  content TEXT NOT NULL,
  risk_level TEXT NOT NULL, -- 'safe' | 'low' | 'medium' | 'high' | 'critical'
  analyzed_at TIMESTAMP,
  created_at TIMESTAMP DEFAULT NOW()
);

-- –ê–ª–µ—Ä—Ç—ã
CREATE TABLE alerts (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  message_id UUID REFERENCES messages(id),
  risk_level TEXT NOT NULL,
  resolved BOOLEAN DEFAULT FALSE,
  created_at TIMESTAMP DEFAULT NOW()
);

-- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
CREATE INDEX idx_messages_chat_id ON messages(chat_id);
CREATE INDEX idx_messages_risk_level ON messages(risk_level);
CREATE INDEX idx_alerts_resolved ON alerts(resolved);
```

**B. –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (6-8 —á–∞—Å–æ–≤)**

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- –°–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –∏–∑ AsyncStorage –≤ PostgreSQL
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

**C. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ (6-8 —á–∞—Å–æ–≤)**

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `backend/trpc/routes/sync/chats.ts` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PostgreSQL
- `backend/trpc/routes/sync/alerts.ts` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PostgreSQL
- `utils/syncService.ts` - –æ–±–Ω–æ–≤–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é

**D. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (4-6 —á–∞—Å–æ–≤)**

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- –†–µ–∞–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ tRPC
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
- –û—Ñ–ª–∞–π–Ω –æ—á–µ—Ä–µ–¥—å

#### –ó–∞–¥–∞—á–∞ 3.3: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (5-8 —á–∞—Å–æ–≤)

**A. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Sentry (3-4 —á–∞—Å–∞)**

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `utils/errorHandler.ts` - –¥–æ–±–∞–≤–∏—Ç—å Sentry
- `components/ErrorBoundary.tsx` - –¥–æ–±–∞–≤–∏—Ç—å Sentry
- `app/_layout.tsx` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Sentry

**B. –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (2-3 —á–∞—Å–∞)**

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- –ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ `console.log` –Ω–∞ `logger`
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —É—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- –û—Ç–ø—Ä–∞–≤–∫–∞ –ª–æ–≥–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –≤ production

**C. Production –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (1-2 —á–∞—Å–∞)**

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ú–µ—Ç—Ä–∏–∫–∏ –æ—à–∏–±–æ–∫
- Dashboard –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

---

### –ê–ì–ï–ù–¢ 4: Testing - Integration –∏ E2E

**Git branch:** `agent-4-testing`  
**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 35-45 —á–∞—Å–æ–≤

#### –ó–∞–¥–∞—á–∞ 4.1: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Integration —Ç–µ—Å—Ç–æ–≤ (6-8 —á–∞—Å–æ–≤)

**–ü—Ä–æ–±–ª–µ–º–∞:** `__tests__/integration/contexts.test.tsx` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑-–∑–∞ ESM

**–†–µ—à–µ–Ω–∏–µ:**

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Bun test (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
```typescript
// __tests__/integration/contexts.test.ts
import { describe, it, expect, beforeAll } from 'bun:test';
import { MonitoringProvider, useMonitoring } from '@/constants/MonitoringContext';

describe('MonitoringContext Integration', () => {
  it('–¥–æ–ª–∂–µ–Ω –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è', async () => {
    // –¢–µ—Å—Ç —Å Bun test
  });
});
```

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø—Ä–∞–≤–∏—Ç—å Jest –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é**
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Jest –¥–ª—è ESM
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –º–æ–∫–∏

#### –ó–∞–¥–∞—á–∞ 4.2: Integration —Ç–µ—Å—Ç—ã flow (12-15 —á–∞—Å–æ–≤)

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ flow:**

| Flow | –û–ø–∏—Å–∞–Ω–∏–µ | –û—Ü–µ–Ω–∫–∞ |
|------|----------|--------|
| –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è ‚Üí –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ | –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –æ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –¥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ | 3-4 —á–∞—Å–∞ |
| –°–æ–æ–±—â–µ–Ω–∏–µ ‚Üí –ê–Ω–∞–ª–∏–∑ ‚Üí –ê–ª–µ—Ä—Ç | –û—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–æ —Å–æ–∑–¥–∞–Ω–∏—è –∞–ª–µ—Ä—Ç–∞ | 3-4 —á–∞—Å–∞ |
| SOS –ø—Ä–æ—Ü–µ—Å—Å | –û—Ç –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ –¥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è | 2-3 —á–∞—Å–∞ |
| –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö | –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ | 2-3 —á–∞—Å–∞ |
| –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å | –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π | 2-3 —á–∞—Å–∞ |

**–ü—Ä–∏–º–µ—Ä:**
```typescript
// __tests__/integration/flows/registration-monitoring.test.tsx
describe('Registration ‚Üí Monitoring Flow', () => {
  it('–¥–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏ –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª', async () => {
    // 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–æ–¥–∏—Ç–µ–ª—è
    // 2. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–µ–±–µ–Ω–∫–∞
    // 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
    // 4. –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
    // 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–Ω–∞–ª–∏–∑–∞
    // 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–ª–µ—Ä—Ç–∞
  });
});
```

#### –ó–∞–¥–∞—á–∞ 4.3: Playwright E2E —Ç–µ—Å—Ç—ã (15-20 —á–∞—Å–æ–≤)

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:**

| –°—Ü–µ–Ω–∞—Ä–∏–π | –§–∞–π–ª | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –û—Ü–µ–Ω–∫–∞ |
|----------|------|-----------|--------|
| SOS –∫–Ω–æ–ø–∫–∞ | `__tests__/playwright/sos.spec.ts` | üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π | 3-4 —á–∞—Å–∞ |
| AI –∞–Ω–∞–ª–∏–∑ —Å–æ–æ–±—â–µ–Ω–∏–π | `__tests__/playwright/ai-analysis.spec.ts` | üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π | 4-5 —á–∞—Å–æ–≤ |
| –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å | `__tests__/playwright/parental-controls.spec.ts` | üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π | 3-4 —á–∞—Å–∞ |
| –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è | `__tests__/playwright/registration.spec.ts` | üü° –í—ã—Å–æ–∫–∏–π | 2-3 —á–∞—Å–∞ |
| –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è | `__tests__/playwright/notifications.spec.ts` | üü° –í—ã—Å–æ–∫–∏–π | 2-3 —á–∞—Å–∞ |

**–ü—Ä–∏–º–µ—Ä:**
```typescript
// __tests__/playwright/sos.spec.ts
import { test, expect } from '@playwright/test';

test.describe('SOS Functionality', () => {
  test('–¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –∫–Ω–æ–ø–∫–∞ SOS', async ({ page }) => {
    await page.goto('/');
    await page.waitForLoadState('networkidle');
    
    // –ù–∞–π—Ç–∏ –∫–Ω–æ–ø–∫—É SOS
    const sosButton = page.getByTestId('sos-button');
    await expect(sosButton).toBeVisible();
    
    // –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É
    await sosButton.click();
    
    // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
    await expect(page.getByText('SOS –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω')).toBeVisible();
  });
});
```

---

### –ê–ì–ï–ù–¢ 5: Optimization - Bundle –∏ Performance

**Git branch:** `agent-5-optimization`  
**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 20-25 —á–∞—Å–æ–≤

#### –ó–∞–¥–∞—á–∞ 5.1: Bundle –∞–Ω–∞–ª–∏–∑ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (8-10 —á–∞—Å–æ–≤)

**A. –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ bundle (2-3 —á–∞—Å–∞)**

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å analyzer
bun add -d @expo/bundle-analyzer

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–Ω–∞–ª–∏–∑
bunx expo export --dump-sourcemap
bunx source-map-explorer dist/bundles/*.js
```

**B. –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (2-3 —á–∞—Å–∞)**

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
- `depcheck` - –Ω–∞–π—Ç–∏ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ
- `npm-check` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

**C. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–º–ø–æ—Ä—Ç–æ–≤ (2-3 —á–∞—Å–∞)**

**–ü–ª–æ—Ö–æ:**
```typescript
import * as React from 'react-native';
import { everything } from 'large-library';
```

**–•–æ—Ä–æ—à–æ:**
```typescript
import { View, Text } from 'react-native';
import { specificFunction } from 'large-library';
```

**D. Tree shaking (1-2 —á–∞—Å–∞)**

- –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç tree shaking
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ES modules
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å metro –¥–ª—è tree shaking

#### –ó–∞–¥–∞—á–∞ 5.2: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (5-6 —á–∞—Å–æ–≤)

**A. Lazy loading (2-3 —á–∞—Å–∞)**

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `expo-image` —Å lazy loading
- –î–æ–±–∞–≤–∏—Ç—å placeholder
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É

**B. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–æ–≤ (2-3 —á–∞—Å–∞)**

- –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ WebP
- –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã
- Responsive images

**C. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (1 —á–∞—Å)**

- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- CDN –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

#### –ó–∞–¥–∞—á–∞ 5.3: Performance –º–µ—Ç—Ä–∏–∫–∏ (5-6 —á–∞—Å–æ–≤)

**A. –ò–∑–º–µ—Ä–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (2-3 —á–∞—Å–∞)**

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- –°–∫—Ä–∏–ø—Ç –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–ø—É—Å–∫–∞
- –°–∫—Ä–∏–ø—Ç –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è bundle size
- –°–∫—Ä–∏–ø—Ç –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —ç–∫—Ä–∞–Ω–æ–≤

**B. Performance —Ç–µ—Å—Ç—ã (2-3 —á–∞—Å–∞)**

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- –¢–µ—Å—Ç—ã –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–≥—Ä—É–∑–∫–∏
- –¢–µ—Å—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–ø–∏—Å–∫–æ–≤
- –¢–µ—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏

**C. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ (1 —á–∞—Å)**

- CI –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ê–ª–µ—Ä—Ç—ã –ø—Ä–∏ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏

---

### –ê–ì–ï–ù–¢ 6: Infrastructure –∏ DevOps

**Git branch:** `agent-6-infrastructure`  
**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 25-30 —á–∞—Å–æ–≤

#### –ó–∞–¥–∞—á–∞ 6.1: CI/CD —É–ª—É—á—à–µ–Ω–∏—è (8-12 —á–∞—Å–æ–≤)

**A. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã –≤ CI (3-4 —á–∞—Å–∞)**

**–§–∞–π–ª:** `.github/workflows/ci.yml`

**–ß—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å:**
```yaml
name: CI
on: [push, pull_request]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: oven-sh/setup-bun@v1
      - run: bun install
      - run: bun run test:coverage
      - run: bun run typecheck
      - run: bun run lint
      - run: bun run test:playwright
```

**B. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π (2-3 —á–∞—Å–∞)**

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- –î–µ–ø–ª–æ–π –Ω–∞ staging –ø—Ä–∏ merge –≤ `develop`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ E2E —Ç–µ—Å—Ç—ã –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ

**C. Security scans (2-3 —á–∞—Å–∞)**

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- `npm audit` –≤ CI
- Dependabot –¥–ª—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- CodeQL –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–¥–∞

**D. Performance regression (1-2 —á–∞—Å–∞)**

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- –ò–∑–º–µ—Ä–µ–Ω–∏–µ bundle size
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–ø—É—Å–∫–∞
- –ê–ª–µ—Ä—Ç—ã –ø—Ä–∏ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏

#### –ó–∞–¥–∞—á–∞ 6.2: Production –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (12-15 —á–∞—Å–æ–≤)

**A. Database setup (4-5 —á–∞—Å–æ–≤)**

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- –°–æ–∑–¥–∞—Ç—å —Å—Ö–µ–º—ã –¥–ª—è Supabase/PostgreSQL
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å backup
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

**B. Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è (3-4 —á–∞—Å–∞)**

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Redis (Upstash)
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å TTL

**C. CDN –∏ —Å—Ç–∞—Ç–∏–∫–∞ (2-3 —á–∞—Å–∞)**

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Cloudflare CDN
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ CDN
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤

**D. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (2-3 —á–∞—Å–∞)**

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- Uptime monitoring
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤
- –ê–ª–µ—Ä—Ç—ã –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö

#### –ó–∞–¥–∞—á–∞ 6.3: –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ (5-6 —á–∞—Å–æ–≤)

**A. Database connection pooling (2-3 —á–∞—Å–∞)**

**B. Load balancing (2-3 —á–∞—Å–∞)**

**C. Auto-scaling (1 —á–∞—Å)**

---

## üìã –ß–ï–ö–õ–ò–°–¢ –ü–ï–†–ï–î –ù–ê–ß–ê–õ–û–ú –†–ê–ë–û–¢–´

### –î–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–∞:

- [ ] –ü—Ä–æ—á–∏—Ç–∞—Ç—å `docs/development/–°–¢–†–ê–¢–ï–ì–ò–Ø_–ü–ê–†–ê–õ–õ–ï–õ–¨–ù–û–ô_–†–ê–ë–û–¢–´_–ê–ì–ï–ù–¢–û–í.md`
- [ ] –°–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–≥–µ–Ω—Ç–∞
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `.agents/coordination.json`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –Ω–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

### –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–≥–µ–Ω—Ç–∞:

- [ ] –ü—Ä–æ—á–∏—Ç–∞—Ç—å `docs/development/–ë–´–°–¢–†–´–ô_–°–¢–ê–†–¢_–ü–ê–†–ê–õ–õ–ï–õ–¨–ù–û–ô_–†–ê–ë–û–¢–´.md`
- [ ] –°–æ–∑–¥–∞—Ç—å —Å–≤–æ—é –≤–µ—Ç–∫—É: `git checkout -b agent-N-module`
- [ ] –°–æ–∑–¥–∞—Ç—å lock —Ñ–∞–π–ª: `.agents/agent-N.lock`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—é
- [ ] –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É –Ω–∞–¥ –∑–∞–¥–∞—á–∞–º–∏

---

## üéØ –ü–†–ò–û–†–ò–¢–ï–¢–´ –ù–ê –ó–ê–í–¢–†–ê

### –î–µ–Ω—å 1 (–ü–µ—Ä–≤—ã–µ 8 —á–∞—Å–æ–≤):

**–ê–≥–µ–Ω—Ç 1:** –ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (4-5 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)  
**–ê–≥–µ–Ω—Ç 2:** –ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤ (2-3 –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞)  
**–ê–≥–µ–Ω—Ç 3:** –ù–∞—á–∞—Ç—å AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é (OpenAI API)  
**–ê–≥–µ–Ω—Ç 4:** –ò—Å–ø—Ä–∞–≤–∏—Ç—å Integration —Ç–µ—Å—Ç—ã  
**–ê–≥–µ–Ω—Ç 5:** –ê–Ω–∞–ª–∏–∑ bundle size  
**–ê–≥–µ–Ω—Ç 6:** –£–ª—É—á—à–∏—Ç—å CI/CD

### –î–µ–Ω—å 2-3:

**–ê–≥–µ–Ω—Ç 1:** –ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ—Å—Ç—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤  
**–ê–≥–µ–Ω—Ç 2:** –ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ—Å—Ç—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤, –Ω–∞—á–∞—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤  
**–ê–≥–µ–Ω—Ç 3:** –ó–∞–≤–µ—Ä—à–∏—Ç—å AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é, –Ω–∞—á–∞—Ç—å PostgreSQL  
**–ê–≥–µ–Ω—Ç 4:** –ó–∞–≤–µ—Ä—à–∏—Ç—å Integration —Ç–µ—Å—Ç—ã, –Ω–∞—á–∞—Ç—å Playwright  
**–ê–≥–µ–Ω—Ç 5:** –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è bundle  
**–ê–≥–µ–Ω—Ç 6:** Production –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### –ù–µ–¥–µ–ª—è 1:

- –ó–∞–≤–µ—Ä—à–∏—Ç—å –≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã
- –ó–∞–≤–µ—Ä—à–∏—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- –ó–∞–≤–µ—Ä—à–∏—Ç—å AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD

### –ù–µ–¥–µ–ª—è 2-4:

- –ó–∞–≤–µ—Ä—à–∏—Ç—å –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏
- –§–∏–Ω–∞–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- Production –¥–µ–ø–ª–æ–π
- –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üìä –ú–ï–¢–†–ò–ö–ò –£–°–ü–ï–•–ê

### –ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π –Ω–µ–¥–µ–ª–∏:

- ‚úÖ Test coverage: 50%+ (—Å–µ–π—á–∞—Å ~35-40%)
- ‚úÖ –í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞: < 3 —Å–µ–∫—É–Ω–¥—ã (—Å–µ–π—á–∞—Å ~3-5 —Å–µ–∫)
- ‚úÖ AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: –†–µ–∞–ª—å–Ω—ã–µ API —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ CI/CD: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç

### –ü–æ—Å–ª–µ –º–µ—Å—è—Ü–∞:

- ‚úÖ Test coverage: 70%+
- ‚úÖ –í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞: < 2 —Å–µ–∫—É–Ω–¥—ã
- ‚úÖ Bundle size: < 2MB
- ‚úÖ Production-ready: –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üöÄ –ö–û–ú–ê–ù–î–´ –î–õ–Ø –ë–´–°–¢–†–û–ì–û –°–¢–ê–†–¢–ê

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞–≥–µ–Ω—Ç–∞:

```bash
# 1. –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø—Ä–æ–µ–∫—Ç
cd /Users/mac/Desktop/rork-kiku

# 2. –û–±–Ω–æ–≤–∏—Ç—å develop
git checkout develop
git pull origin develop

# 3. –°–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫—É
git checkout -b agent-N-module

# 4. –°–æ–∑–¥–∞—Ç—å lock —Ñ–∞–π–ª
mkdir -p .agents
cat > .agents/agent-N.lock << EOF
{
  "agent": "agent-N",
  "module": "module-name",
  "status": "working",
  "started": "$(date -u +%Y-%m-%dT%H:%M:%SZ)",
  "files": [],
  "branch": "agent-N-module",
  "lastUpdate": "$(date -u +%Y-%m-%dT%H:%M:%SZ)"
}
EOF

# 5. –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É!
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤:

```bash
./scripts/check-agent-conflicts.sh
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞:

```bash
# –û–±–Ω–æ–≤–∏—Ç—å lastUpdate
jq ".lastUpdate = \"$(date -u +%Y-%m-%dT%H:%M:%SZ)\"" .agents/agent-N.lock > .agents/agent-N.lock.tmp
mv .agents/agent-N.lock.tmp .agents/agent-N.lock
```

---

## üìû –ü–û–î–î–ï–†–ñ–ö–ê

### –ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `.agents/coordination.json`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å lock —Ñ–∞–π–ª—ã –¥—Ä—É–≥–∏—Ö –∞–≥–µ–Ω—Ç–æ–≤
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å `./scripts/check-agent-conflicts.sh`
4. –°–æ–∑–¥–∞—Ç—å issue —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:

- **–°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–∞–±–æ—Ç—ã:** `docs/development/–°–¢–†–ê–¢–ï–ì–ò–Ø_–ü–ê–†–ê–õ–õ–ï–õ–¨–ù–û–ô_–†–ê–ë–û–¢–´_–ê–ì–ï–ù–¢–û–í.md`
- **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:** `docs/development/–ë–´–°–¢–†–´–ô_–°–¢–ê–†–¢_–ü–ê–†–ê–õ–õ–ï–õ–¨–ù–û–ô_–†–ê–ë–û–¢–´.md`
- **–ü–æ–ª–Ω—ã–π –ø–ª–∞–Ω:** `docs/development/–ü–õ–ê–ù_–û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò_–ò_–î–û–†–ê–ë–û–¢–ö–ò.md`

---

**–ì–æ—Ç–æ–≤–æ –∫ –∑–∞–ø—É—Å–∫—É! üöÄ**

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2026-01-26  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é
