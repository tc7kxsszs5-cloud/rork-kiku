# üìç –ì–¥–µ –Ω–∞–π—Ç–∏ –∏ –∫—É–¥–∞ –≤—Å—Ç–∞–≤–∏—Ç—å –ø–∞—Ä–æ–ª—å - –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

## üéØ –ö–æ—Ä–æ—Ç–∫–∏–π –æ—Ç–≤–µ—Ç

**–î–∞, –ø—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ connection string –∏ –∑–∞–º–µ–Ω–∏—Ç–µ `[YOUR-PASSWORD]` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å!**

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://supabase.com/dashboard
2. –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç (—Ç–æ—Ç, –≥–¥–µ reference `eznumgsmwvavyunqhxfc`)

### –®–∞–≥ 2: –ù–∞–π–¥–∏—Ç–µ Connection String

1. –í –ª–µ–≤–æ–º –º–µ–Ω—é –Ω–∞–∂–º–∏—Ç–µ **Settings** (—à–µ—Å—Ç–µ—Ä–µ–Ω–∫–∞ ‚öôÔ∏è)
2. –í –ø–æ–¥–º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ **Database**
3. –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑ –¥–æ —Ä–∞–∑–¥–µ–ª–∞ **Connection string**
4. –í—ã —É–≤–∏–¥–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∫–ª–∞–¥–æ–∫: **URI**, **Session mode**, **Transaction mode**, **Pooling mode**
5. **–í—ã–±–µ—Ä–∏—Ç–µ –≤–∫–ª–∞–¥–∫—É "Session mode"** (—ç—Ç–æ –≤–∞–∂–Ω–æ!)
6. –í—ã —É–≤–∏–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É –≤–∏–¥–∞:
   ```
   postgresql://postgres:[YOUR-PASSWORD]@db.eznumgsmwvavyunqhxfc.supabase.co:5432/postgres
   ```
7. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç—É —Å—Ç—Ä–æ–∫—É** (Ctrl+C –∏–ª–∏ Cmd+C)

### –®–∞–≥ 3: –ù–∞–π–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å

–í —Ç–æ–º –∂–µ —Ä–∞–∑–¥–µ–ª–µ **Database** (—á—É—Ç—å –≤—ã—à–µ –∏–ª–∏ –Ω–∏–∂–µ Connection string):

1. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **Database password**
2. –ï—Å–ª–∏ –ø–∞—Ä–æ–ª—å –Ω–µ –≤–∏–¥–µ–Ω, –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **Reset database password** (–∏–ª–∏ **Reset**)
3. **–í–ê–ñ–ù–û:** –ü–∞—Ä–æ–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑! –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ —Å—Ä–∞–∑—É
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –∑–∞–º–µ—Ç–∫–∞—Ö)

### –®–∞–≥ 4: –ó–∞–º–µ–Ω–∏—Ç–µ [YOUR-PASSWORD] –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å

**–ë—ã–ª–æ (—Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ –∏–∑ Supabase):**
```
postgresql://postgres:[YOUR-PASSWORD]@db.eznumgsmwvavyunqhxfc.supabase.co:5432/postgres
```

**–°—Ç–∞–ª–æ (–ø–æ—Å–ª–µ –∑–∞–º–µ–Ω—ã):**
```
postgresql://postgres:–≤–∞—à_—Ä–µ–∞–ª—å–Ω—ã–π_–ø–∞—Ä–æ–ª—å@db.eznumgsmwvavyunqhxfc.supabase.co:5432/postgres
```

**–ö–∞–∫ –∑–∞–º–µ–Ω–∏—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ª—é–±–æ–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä (Notes, TextEdit, –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ —Ç–µ—Ä–º–∏–Ω–∞–ª)
2. –í—Å—Ç–∞–≤—å—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π connection string
3. –ù–∞–π–¥–∏—Ç–µ `[YOUR-PASSWORD]`
4. –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å (–±–µ–∑ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö —Å–∫–æ–±–æ–∫!)
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–∏–≤—à—É—é—Å—è —Å—Ç—Ä–æ–∫—É

### –®–∞–≥ 5: –í—Å—Ç–∞–≤—å—Ç–µ –≤ Vercel

```bash
cd /Users/mac/Desktop/rork-kiku/backend

# –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
bunx vercel env rm DATABASE_URL production

# –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—É—é
bunx vercel env add DATABASE_URL production
```

–ö–æ–≥–¥–∞ –ø–æ—è–≤–∏—Ç—Å—è –∑–∞–ø—Ä–æ—Å:
```
? What's the value of DATABASE_URL?
```

**–í—Å—Ç–∞–≤—å—Ç–µ connection string –° –†–ï–ê–õ–¨–ù–´–ú –ü–ê–†–û–õ–ï–ú** (–±–µ–∑ `[YOUR-PASSWORD]`)

–ù–∞–∂–º–∏—Ç–µ Enter.

### –®–∞–≥ 6: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–ø–ª–æ–π

```bash
bunx vercel --prod
```

## üñºÔ∏è –í–∏–∑—É–∞–ª—å–Ω–∞—è —Å—Ö–µ–º–∞

```
Supabase Dashboard
‚îú‚îÄ‚îÄ Settings (‚öôÔ∏è)
‚îÇ   ‚îî‚îÄ‚îÄ Database
‚îÇ       ‚îú‚îÄ‚îÄ Database password ‚Üê –ó–î–ï–°–¨ –ø–æ–ª—É—á–∏—Ç—å –ø–∞—Ä–æ–ª—å
‚îÇ       ‚îî‚îÄ‚îÄ Connection string ‚Üê –ó–î–ï–°–¨ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∫—É
‚îÇ           ‚îî‚îÄ‚îÄ Session mode ‚Üê –í–´–ë–†–ê–¢–¨ —ç—Ç—É –≤–∫–ª–∞–¥–∫—É
‚îÇ               ‚îî‚îÄ‚îÄ postgresql://postgres:[YOUR-PASSWORD]@...
‚îÇ                   ‚îî‚îÄ‚îÄ [YOUR-PASSWORD] ‚Üê –ó–ê–ú–ï–ù–ò–¢–¨ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å
```

## ‚úÖ –ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞

### 1. –í Supabase Dashboard:

**Connection string (Session mode):**
```
postgresql://postgres:[YOUR-PASSWORD]@db.eznumgsmwvavyunqhxfc.supabase.co:5432/postgres
```

**Database password:**
```
MySecurePassword123!
```

### 2. –ó–∞–º–µ–Ω—è–µ—Ç–µ:

**–ë—ã–ª–æ:**
```
postgresql://postgres:[YOUR-PASSWORD]@db.eznumgsmwvavyunqhxfc.supabase.co:5432/postgres
```

**–°—Ç–∞–ª–æ:**
```
postgresql://postgres:MySecurePassword123!@db.eznumgsmwvavyunqhxfc.supabase.co:5432/postgres
```

### 3. –í—Å—Ç–∞–≤–ª—è–µ—Ç–µ –≤ Vercel:

```bash
bunx vercel env add DATABASE_URL production
# –í—Å—Ç–∞–≤–ª—è–µ—Ç–µ: postgresql://postgres:MySecurePassword123!@db.eznumgsmwvavyunqhxfc.supabase.co:5432/postgres
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Session mode**, –Ω–µ Transaction –∏–ª–∏ Pooling
2. **–ó–∞–º–µ–Ω–∏—Ç–µ `[YOUR-PASSWORD]`** –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å (–±–µ–∑ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö —Å–∫–æ–±–æ–∫)
3. **–ü–∞—Ä–æ–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑** - —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –µ–≥–æ!
4. **–ï—Å–ª–∏ –ø–∞—Ä–æ–ª—å —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã** (`@`, `:`, `/`), –∏—Ö –Ω—É–∂–Ω–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å

## üîç –ï—Å–ª–∏ –Ω–µ –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ Connection String

–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø—É—Ç—å:
1. Supabase Dashboard ‚Üí –≤–∞—à –ø—Ä–æ–µ–∫—Ç
2. –í –ª–µ–≤–æ–º –º–µ–Ω—é: **Settings** ‚Üí **Database**
3. –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤–Ω–∏–∑
4. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **Connection string** (–º–æ–∂–µ—Ç –±—ã—Ç—å –≤–Ω–∏–∑—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã)
5. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∫–ª–∞–¥–∫—É **Session mode**

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –≤—Å—Ç–∞–≤–∫–∏

```bash
# –ü–æ–¥–æ–∂–¥–∏—Ç–µ 20-25 —Å–µ–∫—É–Ω–¥ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
curl "https://backend-three-mauve-67.vercel.app/api/trpc/test.dbCheck"
```

–ï—Å–ª–∏ —É–≤–∏–¥–∏—Ç–µ `"success": true` - –≤—Å—ë –ø—Ä–∞–≤–∏–ª—å–Ω–æ! ‚úÖ

---

**–ö–æ—Ä–æ—Ç–∫–æ:** 
1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ connection string –∏–∑ Supabase (Session mode)
2. –ù–∞–π–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –≤ —Ç–æ–º –∂–µ —Ä–∞–∑–¥–µ–ª–µ Database
3. –ó–∞–º–µ–Ω–∏—Ç–µ `[YOUR-PASSWORD]` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å
4. –í—Å—Ç–∞–≤—å—Ç–µ –≤ Vercel —á–µ—Ä–µ–∑ `bunx vercel env add DATABASE_URL production`
