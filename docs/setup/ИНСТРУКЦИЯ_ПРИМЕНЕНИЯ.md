# ‚úÖ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è SQL

## ‚ö†Ô∏è –í–ê–ñ–ù–û: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–∞–π–ª!

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∞–π–ª:** `–°–ö–û–ü–ò–†–û–í–ê–¢–¨_–ò_–í–°–¢–ê–í–ò–¢–¨.sql`

–≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç **–¢–û–õ–¨–ö–û —Ç–∞–±–ª–∏—Ü—ã**, –±–µ–∑ –ø–æ–ª–∏—Ç–∏–∫ RLS.

## –®–∞–≥–∏:

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª **`–°–ö–û–ü–ò–†–û–í–ê–¢–¨_–ò_–í–°–¢–ê–í–ò–¢–¨.sql`**
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **–≤–µ—Å—å –∫–æ–¥** (Ctrl+A, Ctrl+C)
3. –û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard ‚Üí SQL Editor
4. –í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–¥ (Ctrl+V)
5. –ù–∞–∂–º–∏—Ç–µ **Run** (–∏–ª–∏ Ctrl+Enter)

## ‚úÖ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç SQL:

- ‚úÖ –°–æ–∑–¥–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—ã: `parents`, `parent_codes`, `code_usage_log`, `children`
- ‚úÖ –°–æ–∑–¥–∞–µ—Ç –∏–Ω–¥–µ–∫—Å—ã
- ‚úÖ –î–æ–±–∞–≤–ª—è–µ—Ç –∫–æ–ª–æ–Ω–∫–∏ –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º —Ç–∞–±–ª–∏—Ü–∞–º (`chats`, `messages`, `alerts`)
- ‚úÖ –û–±–Ω–æ–≤–ª—è–µ—Ç –∫—ç—à —Å—Ö–µ–º—ã (`NOTIFY pgrst, 'reload schema'`)
- ‚ùå **–ù–ï —Å–æ–∑–¥–∞–µ—Ç –ø–æ–ª–∏—Ç–∏–∫–∏** (–æ–Ω–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç)

## ‚ùå –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É –ø—Ä–æ –ø–æ–ª–∏—Ç–∏–∫–∏:

–≠—Ç–æ –∑–Ω–∞—á–∏—Ç –≤—ã –ø—Ä–∏–º–µ–Ω—è–µ—Ç–µ **–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–∞–π–ª**. 

**–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:**
- ‚ùå `SQL_–†–û–î–ò–¢–ï–õ–¨_–†–ï–ë–ï–ù–û–ö_–ë–ï–ó–û–ü–ê–°–ù–´–ô.sql` (—Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–∏—Ç–∏–∫–∏)
- ‚ùå `backend/security-policies.sql` (—Ç–æ–ª—å–∫–æ –ø–æ–ª–∏—Ç–∏–∫–∏)

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ:**
- ‚úÖ `–°–ö–û–ü–ò–†–û–í–ê–¢–¨_–ò_–í–°–¢–ê–í–ò–¢–¨.sql` (—Ç–æ–ª—å–∫–æ —Ç–∞–±–ª–∏—Ü—ã)

## –ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è:

–ü–æ–¥–æ–∂–¥–∏—Ç–µ 10-30 —Å–µ–∫—É–Ω–¥ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```bash
cd backend
bun test-registration.ts
```

–î–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å! üéâ
