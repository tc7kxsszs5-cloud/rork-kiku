# User Stories - Rork-Kiku

## Родитель (Parent User)

### Epic 1: Onboarding и настройка

#### US-P-001: Создание родительского профиля
**Как** родитель  
**Я хочу** создать свой профиль с email и именем  
**Чтобы** начать использовать приложение

**Критерии приемки**:
- Форма с полями: имя, email, пароль
- Валидация email
- Выбор роли "родитель"
- Согласие на обработку данных (COPPA)
- Сохранение в AsyncStorage

**Приоритет**: Высокий  
**Story Points**: 3

---

#### US-P-002: Настройка параметров безопасности
**Как** родитель  
**Я хочу** настроить параметры модерации и контроля  
**Чтобы** защитить своего ребенка

**Критерии приемки**:
- Включение/выключение AI модерации
- Настройка чувствительности (уровни риска)
- Временные ограничения
- Блокировка неизвестных
- Сохранение с compliance logging

**Приоритет**: Высокий  
**Story Points**: 5

---

#### US-P-003: Добавление опекунов
**Как** родитель  
**Я хочу** добавить email других опекунов  
**Чтобы** они тоже получали уведомления

**Критерии приемки**:
- Форма добавления email
- Валидация email
- Список опекунов
- Удаление опекунов
- Compliance logging

**Приоритет**: Средний  
**Story Points**: 3

---

### Epic 2: Мониторинг и модерация

#### US-P-004: Просмотр списка чатов
**Как** родитель  
**Я хочу** видеть все чаты моего ребенка  
**Чтобы** понимать, с кем он общается

**Критерии приемки**:
- Список всех чатов
- Имена участников
- Последнее сообщение
- Индикатор уровня риска
- Количество непрочитанных
- Сортировка по риску/времени

**Приоритет**: Высокий  
**Story Points**: 5

---

#### US-P-005: Просмотр сообщений в чате
**Как** родитель  
**Я хочу** читать сообщения в чате  
**Чтобы** видеть содержание разговоров

**Критерии приемки**:
- Список сообщений (текст, изображения, аудио)
- Индикаторы риска для каждого сообщения
- Детали AI анализа при нажатии
- Прокрутка истории
- Поиск по содержимому

**Приоритет**: Высокий  
**Story Points**: 5

---

#### US-P-006: Поиск и фильтрация чатов
**Как** родитель  
**Я хочу** искать чаты по участникам и фильтровать по риску  
**Чтобы** быстро находить нужную информацию

**Критерии приемки**:
- Поисковая строка
- Поиск по имени участника
- Фильтр по уровню риска
- Реал-тайм обновление результатов
- Очистка фильтров

**Приоритет**: Средний  
**Story Points**: 3

---

### Epic 3: Уведомления и реакция

#### US-P-007: Получение алертов о рисках
**Как** родитель  
**Я хочу** получать уведомления при обнаружении угроз  
**Чтобы** немедленно реагировать

**Критерии приемки**:
- Push уведомления (если настроено)
- In-app уведомления
- Список активных алертов
- Детали угрозы (уровень, причина, категория)
- Время создания

**Приоритет**: Высокий  
**Story Points**: 5

---

#### US-P-008: Просмотр деталей алерта
**Как** родитель  
**Я хочу** видеть подробности каждого алерта  
**Чтобы** понять природу угрозы

**Критерии приемки**:
- Уровень риска
- Категория угрозы
- Причины (список)
- Обнаруженные паттерны
- Ссылка на сообщение
- AI рекомендации

**Приоритет**: Высокий  
**Story Points**: 3

---

#### US-P-009: Отметка алерта как решенного
**Как** родитель  
**Я хочу** отмечать алерты решенными  
**Чтобы** отслеживать обработанные угрозы

**Критерии приемки**:
- Кнопка "Отметить решенным"
- Опциональные заметки
- Перемещение в "Решенные"
- Haptic feedback
- Compliance logging

**Приоритет**: Средний  
**Story Points**: 2

---

### Epic 4: SOS и экстренные случаи

#### US-P-010: Получение SOS алерта
**Как** родитель  
**Я хочу** немедленно узнать о SOS вызове от ребенка  
**Чтобы** оказать помощь

**Критерии приемки**:
- Критический push alert
- In-app уведомление
- Геолокация ребенка на карте
- Время вызова
- Возможность ответа

**Приоритет**: Критический  
**Story Points**: 8

---

#### US-P-011: Просмотр истории SOS
**Как** родитель  
**Я хочу** видеть историю всех SOS вызовов  
**Чтобы** отслеживать экстренные ситуации

**Критерии приемки**:
- Список всех SOS алертов
- Фильтр активные/решенные
- Детали каждого вызова
- Геолокация
- Ответы родителей

**Приоритет**: Средний  
**Story Points**: 3

---

### Epic 5: Аналитика и статистика

#### US-P-012: Просмотр общей статистики
**Как** родитель  
**Я хочу** видеть статистику безопасности  
**Чтобы** понимать общую картину

**Критерии приемки**:
- Количество чатов, сообщений, алертов
- Распределение по уровням риска
- График активности
- Прогресс решения проблем
- Экспорт отчета

**Приоритет**: Низкий  
**Story Points**: 5

---

## Ребенок (Child User)

### Epic 6: Использование чатов

#### US-C-001: Создание профиля ребенка
**Как** ребенок  
**Я хочу** создать свой профиль  
**Чтобы** использовать приложение

**Критерии приемки**:
- Простая форма (имя, возраст)
- Выбор роли "ребенок"
- Согласие родителя (отдельный flow)
- Аватар (опционально)

**Приоритет**: Высокий  
**Story Points**: 3

---

#### US-C-002: Просмотр своих чатов
**Как** ребенок  
**Я хочу** видеть список своих чатов  
**Чтобы** общаться с друзьями

**Критерии приемки**:
- Список чатов
- Последнее сообщение
- Непрочитанные
- Без индикаторов риска (не показывать ребенку)
- Поиск

**Приоритет**: Высокий  
**Story Points**: 3

---

#### US-C-003: Отправка текстового сообщения
**Как** ребенок  
**Я хочу** отправлять текстовые сообщения  
**Чтобы** общаться

**Критерии приемки**:
- Поле ввода текста
- Кнопка отправки
- Индикатор "Отправляется"
- Автоматический AI анализ (фоновый)
- Сохранение в чат

**Приоритет**: Высокий  
**Story Points**: 3

---

#### US-C-004: Отправка изображения
**Как** ребенок  
**Я хочу** отправлять фотографии  
**Чтобы** делиться моментами

**Критерии приемки**:
- Кнопка выбора изображения
- Камера или галерея
- Превью перед отправкой
- AI анализ изображения
- Сохранение URI

**Приоритет**: Средний  
**Story Points**: 5

---

#### US-C-005: Запись голосового сообщения
**Как** ребенок  
**Я хочу** отправлять голосовые сообщения  
**Чтобы** быстро что-то сказать

**Критерии приемки**:
- Кнопка записи (долгое нажатие)
- Индикатор записи
- Максимум 60 секунд
- Воспроизведение перед отправкой
- Транскрипция и AI анализ

**Приоритет**: Средний  
**Story Points**: 5

---

### Epic 7: Безопасность и SOS

#### US-C-006: Использование кнопки SOS
**Как** ребенок  
**Я хочу** быстро позвать на помощь  
**Чтобы** получить помощь в опасной ситуации

**Критерии приемки**:
- Видимая SOS кнопка в header
- Подтверждение перед отправкой
- Автоматическая геолокация
- Уведомление всех опекунов
- Haptic feedback

**Приоритет**: Критический  
**Story Points**: 5

---

#### US-C-007: Уважение временных ограничений
**Как** ребенок  
**Я хочу** знать о лимитах времени  
**Чтобы** планировать свое общение

**Критерии приемки**:
- Уведомление о начале ограничения
- Таймер оставшегося времени
- Мягкая блокировка (уведомление, но не запрет)
- Возможность SOS даже при ограничении

**Приоритет**: Средний  
**Story Points**: 5

---

## Администратор (Admin) - Future

### Epic 8: Управление системой

#### US-A-001: Просмотр всех пользователей
**Как** администратор  
**Я хочу** видеть список всех пользователей  
**Чтобы** управлять системой

**Приоритет**: Низкий (Future)  
**Story Points**: 5

---

#### US-A-002: Мониторинг AI модели
**Как** администратор  
**Я хочу** видеть метрики AI  
**Чтобы** улучшать точность

**Приоритет**: Низкий (Future)  
**Story Points**: 8

---

## Acceptance Criteria Template

Для каждой User Story:
- [ ] Функциональность работает согласно описанию
- [ ] UI соответствует дизайну
- [ ] Обработка ошибок реализована
- [ ] Валидация данных работает
- [ ] Compliance logging (если применимо)
- [ ] Unit тесты написаны
- [ ] Integration тесты пройдены
- [ ] Accessibility проверена
- [ ] Performance приемлем
- [ ] Документация обновлена

## Story Mapping

```
                    Onboarding → Monitoring → Alerts → Analytics
                         │           │          │          │
Parent:            Create Profile   View Chats  Resolve   Statistics
                   Setup Settings   View Msgs   Respond   Insights
                   Add Guardians    Search      SOS Alert Reporting
                         │           │          │          │
Child:             Create Profile   View Chats  SOS       N/A
                   N/A              Send Msg    Time Limits
```

## Prioritization

### Must Have (MVP)
- US-P-001, US-P-002, US-P-004, US-P-005, US-P-007, US-P-010
- US-C-001, US-C-002, US-C-003, US-C-006

### Should Have
- US-P-003, US-P-006, US-P-008, US-P-009, US-P-011
- US-C-004, US-C-005, US-C-007

### Could Have
- US-P-012

### Won't Have (For Now)
- US-A-001, US-A-002

## См. также
- [Product Specification](./product-specification.md)
- [Roadmap](./roadmap.md)
- [Technical Requirements](./technical-requirements.md)
