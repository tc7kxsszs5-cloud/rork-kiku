# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏: getaddrinfo ENOTFOUND base

## ‚ùå –¢–µ–∫—É—â–∞—è –æ—à–∏–±–∫–∞

```
getaddrinfo ENOTFOUND base
```

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ **connection string –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω**. –ü–∞—Ä—Å–µ—Ä URL –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å —Å—Ç—Ä–æ–∫—É.

## üîç –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:

1. **–ü–∞—Ä–æ–ª—å —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã** (`@`, `:`, `/`, `#`, `%`, `&`, `?`, `=`) - –∏—Ö –Ω—É–∂–Ω–æ URL-–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å
2. **Connection string –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω** - –≤–æ–∑–º–æ–∂–Ω–æ, —á–∞—Å—Ç—å —Å—Ç—Ä–æ–∫–∏ –ø–æ—Ç–µ—Ä—è–ª–∞—Å—å
3. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç** - –≤–æ–∑–º–æ–∂–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç

## ‚úÖ –†–µ—à–µ–Ω–∏–µ 1: URL-–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª—è

–ï—Å–ª–∏ –ø–∞—Ä–æ–ª—å —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã, –∏—Ö –Ω—É–∂–Ω–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å:

### –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –∏ –∏—Ö –∫–æ–¥—ã:

- `@` ‚Üí `%40`
- `:` ‚Üí `%3A`
- `/` ‚Üí `%2F`
- `#` ‚Üí `%23`
- `%` ‚Üí `%25`
- `&` ‚Üí `%26`
- `?` ‚Üí `%3F`
- `=` ‚Üí `%3D`
- ` ` (–ø—Ä–æ–±–µ–ª) ‚Üí `%20`

### –ü—Ä–∏–º–µ—Ä:

**–ü–∞—Ä–æ–ª—å:** `my@pass:word`

**–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
```
postgresql://postgres:my@pass:word@db.eznumgsmwvavyunqhxfc.supabase.co:5432/postgres
```

**–ü—Ä–∞–≤–∏–ª—å–Ω–æ (–∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–æ):**
```
postgresql://postgres:my%40pass%3Aword@db.eznumgsmwvavyunqhxfc.supabase.co:5432/postgres
```

## ‚úÖ –†–µ—à–µ–Ω–∏–µ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç Connection String

–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:

```
postgresql://postgres:[–ü–ê–†–û–õ–¨]@db.eznumgsmwvavyunqhxfc.supabase.co:5432/postgres
```

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `postgresql://`
- –ü–æ—Å–ª–µ `postgres:` –∏–¥–µ—Ç –ø–∞—Ä–æ–ª—å (–±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤ –≤ –Ω–∞—á–∞–ª–µ/–∫–æ–Ω—Ü–µ)
- –ü–æ—Å–ª–µ –ø–∞—Ä–æ–ª—è –∏–¥–µ—Ç `@`
- –•–æ—Å—Ç: `db.eznumgsmwvavyunqhxfc.supabase.co`
- –ü–æ—Ä—Ç: `:5432`
- –ë–∞–∑–∞: `/postgres`

## ‚úÖ –†–µ—à–µ–Ω–∏–µ 3: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–Ω–ª–∞–π–Ω URL encoder

–ï—Å–ª–∏ –ø–∞—Ä–æ–ª—å —Å–ª–æ–∂–Ω—ã–π, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–Ω–ª–∞–π–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç:

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://www.urlencoder.org/
2. –í—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à –ø–∞—Ä–æ–ª—å
3. –ù–∞–∂–º–∏—Ç–µ Encode
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å
5. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ connection string

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞—Ä–æ–ª—å

–ï—Å–ª–∏ –ø–∞—Ä–æ–ª—å —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã - –∑–∞–∫–æ–¥–∏—Ä—É–π—Ç–µ –∏—Ö.

### –®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π Connection String

**–§–æ—Ä–º–∞—Ç:**
```
postgresql://postgres:[–ó–ê–ö–û–î–ò–†–û–í–ê–ù–ù–´–ô_–ü–ê–†–û–õ–¨]@db.eznumgsmwvavyunqhxfc.supabase.co:5432/postgres
```

### –®–∞–≥ 3: –û–±–Ω–æ–≤–∏—Ç–µ –≤ Vercel

```bash
cd /Users/mac/Desktop/rork-kiku/backend

# –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—É—é
bunx vercel env rm DATABASE_URL production

# –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—É—é
bunx vercel env add DATABASE_URL production
# –í—Å—Ç–∞–≤—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π connection string
```

### –®–∞–≥ 4: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ

```bash
bunx vercel --prod
```

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ

```bash
curl "https://backend-three-mauve-67.vercel.app/api/trpc/test.dbCheck"
```

## üîç –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å Connection String

–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç:
```
postgresql://[USER]:[PASSWORD]@[HOST]:[PORT]/[DATABASE]
```

–í–∞—à —Å–ª—É—á–∞–π:
```
postgresql://postgres:[–ü–ê–†–û–õ–¨]@db.eznumgsmwvavyunqhxfc.supabase.co:5432/postgres
```

## üí° –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ

–ï—Å–ª–∏ –ø–∞—Ä–æ–ª—å –ø—Ä–æ—Å—Ç–æ–π (—Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã –∏ —Ü–∏—Ñ—Ä—ã):

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ connection string –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:
   ```
   postgresql://postgres:–í–ê–®_–ü–ê–†–û–õ–¨@db.eznumgsmwvavyunqhxfc.supabase.co:5432/postgres
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –Ω–µ—Ç –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤ –∏–ª–∏ —Å–∏–º–≤–æ–ª–æ–≤

3. –ï—Å–ª–∏ –ø–∞—Ä–æ–ª—å —Å–æ–¥–µ—Ä–∂–∏—Ç `@`, `:`, `/` - –∑–∞–∫–æ–¥–∏—Ä—É–π—Ç–µ –∏—Ö

---

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞—Ä–æ–ª—å –Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –∏ –∑–∞–∫–æ–¥–∏—Ä—É–π—Ç–µ –∏—Ö, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ.
