# ‚úÖ –ü—Ä–æ—Å—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π Connection String

## üéØ –°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±:

**–ù–µ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å –≤—Ä—É—á–Ω—É—é!** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π Connection String –∏–∑ Supabase.

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://supabase.com/dashboard
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç

### 2. –ù–∞–π–¥–∏—Ç–µ Connection String

1. **Settings** (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏) ‚Üí **Database** (–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)
2. –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑ –¥–æ —Ä–∞–∑–¥–µ–ª–∞ **Connection string** –∏–ª–∏ **Connection pooling**
3. –ù–∞–π–¥–∏—Ç–µ **URI** –∏–ª–∏ **Connection pooling (Session mode)**

### 3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ Connection String

–í—ã —É–≤–∏–¥–∏—Ç–µ —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:

```
postgresql://postgres.[PROJECT-REF]:[PASSWORD]@aws-0-us-east-1.pooler.supabase.com:6543/postgres
```

**–ò–ª–∏:**

```
postgresql://postgres:[PASSWORD]@db.[PROJECT-REF].supabase.co:5432/postgres
```

### 4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è Connection Pooling

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –æ–±—ã—á–Ω—ã–π connection string, –ø—Ä–µ–æ–±—Ä–∞–∑—É–π—Ç–µ –µ–≥–æ –¥–ª—è pooling:

**–ë—ã–ª–æ:**
```
postgresql://postgres:[PASSWORD]@db.eznumgsmwvavyunqhxfc.supabase.co:5432/postgres
```

**–°—Ç–∞–ª–æ (–¥–ª—è Vercel):**
```
postgresql://postgres:[PASSWORD]@aws-0-us-east-1.pooler.supabase.com:6543/postgres
```

**–ó–∞–º–µ–Ω–∏—Ç–µ —Ç–æ–ª—å–∫–æ:**
- `db.eznumgsmwvavyunqhxfc.supabase.co:5432` ‚Üí `aws-0-us-east-1.pooler.supabase.com:6543`
- –ü–∞—Ä–æ–ª—å –æ—Å—Ç–∞–≤—å—Ç–µ —Ç–æ—Ç –∂–µ, —á—Ç–æ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º connection string!

### 5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤ Vercel

```bash
cd /Users/mac/Desktop/rork-kiku/backend
bunx vercel env rm DATABASE_URL production
bunx vercel env add DATABASE_URL production
```

**–í–æ–ø—Ä–æ—Å—ã:**
- `Mark as sensitive?` ‚Üí **yes**
- `What's the value of DATABASE_URL?` ‚Üí –í—Å—Ç–∞–≤—å—Ç–µ connection string —Å pooling

### 6. –î–µ–ø–ª–æ–π

```bash
bunx vercel --prod
```

### 7. –ü—Ä–æ–≤–µ—Ä–∫–∞

```bash
curl "https://backend-three-mauve-67.vercel.app/api/trpc/test.dbCheck"
```

---

## üí° –í–∞–∂–Ω–æ:

- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ä–æ–ª—å, –∫–æ—Ç–æ—Ä—ã–π **—É–∂–µ –µ—Å—Ç—å** –≤ Supabase
- ‚úÖ –ù–µ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å
- ‚úÖ –ü—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ connection string –∏ –∑–∞–º–µ–Ω–∏—Ç–µ —Ö–æ—Å—Ç –Ω–∞ pooling

---

**–≠—Ç–æ —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±! –ù–µ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å –≤—Ä—É—á–Ω—É—é.**
