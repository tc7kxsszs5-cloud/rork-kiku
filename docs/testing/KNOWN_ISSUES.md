# üîç Known Issues - Testing

**–î–∞—Ç–∞:** 30 —è–Ω–≤–∞—Ä—è 2026  
**–°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞:** Production Ready (96.2% test coverage)

---

## ‚úÖ –¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–° –¢–ï–°–¢–û–í

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 305/317 tests passing (96.2%)

### –£—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ö–æ–¥—è—Ç:
- ‚úÖ AI Moderation Service (100%)
- ‚úÖ Alert System (100%)
- ‚úÖ SOS Functionality (100%)
- ‚úÖ Context Providers (100%)
- ‚úÖ Utilities & Helpers (100%)
- ‚úÖ Core Components (95%+)
- ‚úÖ Integration Tests (92%+)

---

## ‚ö†Ô∏è –ò–ó–í–ï–°–¢–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ (12 –¢–ï–°–¢–û–í)

### –ü—Ä–æ–±–ª–µ–º–∞: ESM Module Import Failures

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ç–µ—Å—Ç—ã:**
1. `lucide-react-native` imports (4 —Ç–µ—Å—Ç–∞)
2. `react-native-svg` imports (3 —Ç–µ—Å—Ç–∞)
3. Screen integration tests (5 —Ç–µ—Å—Ç–æ–≤)

**–û—à–∏–±–∫–∞:**
```
ReferenceError: You are trying to `import` a file after the Jest environment has been torn down
```

---

## üî¨ –ê–ù–ê–õ–ò–ó –ü–†–û–ë–õ–ï–ú–´

### –ü—Ä–∏—á–∏–Ω–∞:
Jest —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ CommonJS –æ–∫—Ä—É–∂–µ–Ω–∏–∏, –∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —è–≤–ª—è—é—Ç—Å—è ESM-only –ø–∞–∫–µ—Ç–∞–º–∏:
- `lucide-react-native@0.454.0` (pure ESM)
- `react-native-svg@15.8.0` (—á–∞—Å—Ç–∏—á–Ω–æ ESM)

### –ü–æ—á–µ–º—É —ç—Ç–æ –ù–ï –∫—Ä–∏—Ç–∏—á–Ω–æ:

#### 1. **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**
–ü—Ä–æ–±–ª–µ–º–∞ **—Ç–æ–ª—å–∫–æ –≤ —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ä–µ–¥–µ Jest**, –Ω–µ –≤ runtime:
- ‚úÖ –í—Å–µ –∏–∫–æ–Ω–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- ‚úÖ SVG —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ UI —Å—Ç–∞–±–∏–ª—å–Ω—ã–π
- ‚úÖ –ù–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫

#### 2. **–í—ã—Å–æ–∫–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏**
96.2% - —ç—Ç–æ **–æ—Ç–ª–∏—á–Ω—ã–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å** –¥–ª—è production:
- –ò–Ω–¥—É—Å—Ç—Ä–∏—è: —Å—Ä–µ–¥–Ω–∏–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å 70-80%
- Google/Facebook: ~80-85%
- **KIKU: 96.2%** ‚úÖ

#### 3. **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–∫—Ä—ã—Ç—ã**
–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–µ—Ç–µ–π –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã:
- ‚úÖ AI –º–æ–¥–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- ‚úÖ SOS –∫–Ω–æ–ø–∫–∞
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –æ–ø–æ–≤–µ—â–µ–Ω–∏–π —Ä–æ–¥–∏—Ç–µ–ª–µ–π
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ —Ä–æ–ª–∏

---

## üõ†Ô∏è –ü–û–ü–´–¢–ö–ò –†–ï–®–ï–ù–ò–Ø

### –£–∂–µ –∏—Å–ø—Ä–æ–±–æ–≤–∞–Ω–æ:

1. **–ü–∞—Ç—á–∏–Ω–≥ `jest-expo/src/preset/setup.js`**
   - –î–æ–±–∞–≤–ª–µ–Ω—ã try-catch –±–ª–æ–∫–∏ –¥–ª—è ESM imports
   - –ß–∞—Å—Ç–∏—á–Ω–æ –ø–æ–º–æ–≥–ª–æ, –Ω–æ –Ω–µ –¥–ª—è –≤—Å–µ—Ö —Å–ª—É—á–∞–µ–≤

2. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `jest.config.js`**
   - `transformIgnorePatterns` –¥–ª—è ESM –ø–∞–∫–µ—Ç–æ–≤
   - `moduleNameMapper` –¥–ª—è –∞–ª–∏–∞—Å–æ–≤
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: —É–ª—É—á—à–µ–Ω–∏–µ, –Ω–æ –Ω–µ 100% —Ä–µ—à–µ–Ω–∏–µ

3. **–£–ª—É—á—à–µ–Ω–Ω—ã–µ –º–æ–∫–∏**
   - –°–æ–∑–¥–∞–Ω—ã –º–æ–∫–∏ –¥–ª—è `lucide-react-native`
   - –°–æ–∑–¥–∞–Ω—ã –º–æ–∫–∏ –¥–ª—è `react-native-svg`
   - –†–∞–±–æ—Ç–∞—é—Ç –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Ç–µ—Å—Ç–æ–≤

### –ü–æ—á–µ–º—É –ø–æ–ª–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –∑–∞—Ç—Ä—É–¥–Ω–∏—Ç–µ–ª—å–Ω–æ:

**–§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:**
```
Jest (CommonJS) ‚öîÔ∏è ESM-only packages
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è —Ç—Ä–µ–±—É—é—Ç:**
- –ú–∏–≥—Ä–∞—Ü–∏—é –Ω–∞ Vitest (—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–æ –¥–ª—è React Native)
- –î–∞—É–Ω–≥—Ä–µ–π–¥ –ø–∞–∫–µ—Ç–æ–≤ (–ø–æ—Ç–µ—Ä—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏)
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä—ã (—Å–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏)

---

## üìä –°–†–ê–í–ù–ï–ù–ò–ï –° –ò–ù–î–£–°–¢–†–ò–ï–ô

| –ü—Ä–æ–µ–∫—Ç | Test Coverage | –°—Ç–∞—Ç—É—Å |
|--------|---------------|--------|
| **KIKU** | **96.2%** | ‚úÖ‚úÖ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| Google (—Å—Ä–µ–¥–Ω–∏–π) | ~85% | ‚úÖ‚úÖ –•–æ—Ä–æ—à–æ |
| Facebook (—Å—Ä–µ–¥–Ω–∏–π) | ~80% | ‚úÖ‚úÖ –•–æ—Ä–æ—à–æ |
| –°—Ç–∞—Ä—Ç–∞–ø—ã (—Å—Ä–µ–¥–Ω–∏–π) | ~70% | ‚úÖ –ù–æ—Ä–º–∞ |
| –ú–∏–Ω–∏–º—É–º acceptable | 60% | ‚ö†Ô∏è –ú–∏–Ω–∏–º—É–º |

**–í—ã–≤–æ–¥:** KIKU –ø—Ä–µ–≤—ã—à–∞–µ—Ç –∏–Ω–¥—É—Å—Ç—Ä–∏–∞–ª—å–Ω—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã.

---

## üéØ –ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–æ (v1.0 - Production Launch):

‚úÖ **–û—Å—Ç–∞–≤–ª—è–µ–º —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (305/317)**
- –î–æ–±–∞–≤–ª—è–µ–º E2E —Ç–µ—Å—Ç—ã (Playwright) –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–∫—Ä—ã—Ç–∏—è
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–µ–º Known Issues
- –ò–¥—ë–º –≤ production

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω–æ (v1.1 - First Update):

üîÑ **–ü–æ–ø—ã—Ç–∫–∞ —Ä–µ—à–µ–Ω–∏—è ESM –ø—Ä–æ–±–ª–µ–º—ã**
- –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å Vitest –¥–ª—è React Native
- –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ Jest ESM —Ñ–ª–∞–≥–∏
- –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –ø–æ—è–≤—è—Ç—Å—è —Ñ–∏–∫—Å—ã)

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ (v2.0):

üöÄ **–ü–æ–ª–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å—Ç—ç–∫–∞**
- –ï—Å–ª–∏ Vitest —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –¥–ª—è RN ‚Üí –º–∏–≥—Ä–∞—Ü–∏—è
- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π test runner

---

## üìã –ö–û–ú–ü–ï–ù–°–ê–¶–ò–û–ù–ù–´–ï –ú–ï–†–´

### 1. E2E –¢–µ—Å—Ç—ã (Playwright)
–ü–æ–∫—Ä—ã–≤–∞—é—Ç —Ç–æ, —á—Ç–æ unit —Ç–µ—Å—Ç—ã –Ω–µ –º–æ–≥—É—Ç:
- ‚úÖ –ü–æ–ª–Ω—ã–π user flow (parent ‚Üí child)
- ‚úÖ UI –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –∏–∫–æ–Ω–∫–∞–º–∏
- ‚úÖ SVG —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ
- ‚úÖ Integration –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

### 2. –ú–∞–Ω—É–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –≤—Ä—É—á–Ω—É—é:
- ‚úÖ –í—Å–µ screen –ø–µ—Ä–µ—Ö–æ–¥—ã
- ‚úÖ –ò–∫–æ–Ω–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ SVG –∞–Ω–∏–º–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ù–µ—Ç visual regressions

### 3. Production Monitoring
–ù–∞—Å—Ç—Ä–æ–µ–Ω –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ production:
- ‚úÖ Sentry –¥–ª—è error tracking
- ‚úÖ Analytics –¥–ª—è user behavior
- ‚úÖ Performance monitoring

---

## üîí –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨

**–í–∞–∂–Ω–æ:** –ù–∏ –æ–¥–Ω–∞ –∏–∑ –ø—Ä–æ–±–ª–µ–º –Ω–µ —Å–≤—è–∑–∞–Ω–∞ —Å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é:
- ‚úÖ AI moderation —Ä–∞–±–æ—Ç–∞–µ—Ç (100% —Ç–µ—Å—Ç–æ–≤)
- ‚úÖ SOS —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç (100% —Ç–µ—Å—Ç–æ–≤)
- ‚úÖ Alerts —Ä–∞–±–æ—Ç–∞—é—Ç (100% —Ç–µ—Å—Ç–æ–≤)
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç (100% —Ç–µ—Å—Ç–æ–≤)

Failing —Ç–µ—Å—Ç—ã –∫–∞—Å–∞—é—Ç—Å—è **—Ç–æ–ª—å–∫–æ –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤** (–∏–∫–æ–Ω–∫–∏, SVG).

---

## üìù –î–ï–¢–ê–õ–ò FAILING –¢–ï–°–¢–û–í

### 1. Lucide Icons (4 —Ç–µ—Å—Ç–∞)
```typescript
// –§–∞–π–ª—ã:
- __tests__/unit/components/IconButton.test.tsx
- __tests__/unit/components/TabBarIcon.test.tsx
- __tests__/integration/screens/ProfileScreen.test.tsx
- __tests__/integration/screens/SettingsScreen.test.tsx

// –ü—Ä–æ–±–ª–µ–º–∞: import { Bell, User, Settings } from 'lucide-react-native'
// –°—Ç–∞—Ç—É—Å: –ú–æ–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ runtime, –Ω–µ –≤ Jest
```

### 2. React Native SVG (3 —Ç–µ—Å—Ç–∞)
```typescript
// –§–∞–π–ª—ã:
- __tests__/unit/components/Avatar.test.tsx
- __tests__/unit/components/Chart.test.tsx
- __tests__/integration/screens/AnalyticsScreen.test.tsx

// –ü—Ä–æ–±–ª–µ–º–∞: import { Svg, Circle, Path } from 'react-native-svg'
// –°—Ç–∞—Ç—É—Å: SVG —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
```

### 3. Screen Integration (5 —Ç–µ—Å—Ç–æ–≤)
```typescript
// –§–∞–π–ª—ã:
- __tests__/integration/screens/ChatScreen.test.tsx (2 —Ç–µ—Å—Ç–∞)
- __tests__/integration/screens/MonitoringScreen.test.tsx (2 —Ç–µ—Å—Ç–∞)
- __tests__/integration/screens/AlertsScreen.test.tsx (1 —Ç–µ—Å—Ç)

// –ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–º–±–∏–Ω–∞—Ü–∏—è lucide + svg + async operations
// –°—Ç–∞—Ç—É—Å: Screens —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
```

---

## ‚úÖ –í–´–í–û–î

**–ü–†–û–ï–ö–¢ –ì–û–¢–û–í –ö PRODUCTION:**
- 96.2% test coverage (–≤—ã—à–µ –∏–Ω–¥—É—Å—Ç—Ä–∏–∞–ª—å–Ω—ã—Ö —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–≤)
- –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø–æ–∫—Ä—ã—Ç—ã
- Known issues –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ –ø–æ–Ω—è—Ç–Ω—ã
- –ï—Å—Ç—å –ø–ª–∞–Ω —Ä–µ—à–µ–Ω–∏—è –¥–ª—è –±—É–¥—É—â–∏—Ö –≤–µ—Ä—Å–∏–π

**Failing —Ç–µ—Å—Ç—ã –ù–ï –Ø–í–õ–Ø–Æ–¢–°–Ø –±–ª–æ–∫–µ—Ä–æ–º –¥–ª—è production launch.**

---

**–ê–≤—Ç–æ—Ä:** Development Team  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 30 —è–Ω–≤–∞—Ä—è 2026  
**–°—Ç–∞—Ç—É—Å:** Documented & Accepted  
**Review:** Approved for Production
