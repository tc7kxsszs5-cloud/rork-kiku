# ü§ñ AI –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –¥–µ—Ç–µ–π

## üéØ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- ‚úÖ 100% –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ –ê–Ω–∞–ª–∏–∑ —Å—Å—ã–ª–æ–∫ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–ª—è –¥–µ—Ç–µ–π (COPPA compliant)
- ‚úÖ –ù–∏–∑–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ (<1 —Å–µ–∫—É–Ω–¥–∞)
- ‚úÖ –í—ã—Å–æ–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å (>99%)

---

## üîê –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ AI —Å–µ—Ä–≤–∏—Å—ã

### 1. OpenAI Moderation API ‚≠ê –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø

**–î–ª—è —á–µ–≥–æ:** –ë–∞–∑–æ–≤–∞—è –º–æ–¥–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ COPPA compliant
- ‚úÖ –ù–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è —Ä–∞–±–æ—Ç–∞ (<100ms)
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π tier –¥–æ—Å—Ç—É–ø–µ–Ω
- ‚úÖ –í—ã—Å–æ–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```typescript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ —Ç–æ–∫—Å–∏—á–Ω–æ—Å—Ç—å
const response = await fetch('https://api.openai.com/v1/moderations', {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${OPENAI_API_KEY}`,
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    input: messageText,
  }),
});
```

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** –ë–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–æ 1M —Ç–æ–∫–µ–Ω–æ–≤/–º–µ—Å—è—Ü

---

### 2. Google Cloud Vision API

**–î–ª—è —á–µ–≥–æ:** –ê–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- ‚úÖ –î–µ—Ç–µ–∫—Ü–∏—è –ª–∏—Ü –∏ –æ–±—ä–µ–∫—Ç–æ–≤
- ‚úÖ OCR –¥–ª—è —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö
- ‚úÖ COPPA compliant –ø—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```typescript
// –ê–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
const vision = require('@google-cloud/vision');
const client = new vision.ImageAnnotatorClient();

const [result] = await client.safeSearchDetection(imageUrl);
const safeSearch = result.safeSearchAnnotation;
```

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** $1.50 –∑–∞ 1000 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

---

### 3. AWS Rekognition

**–î–ª—è —á–µ–≥–æ:** –î–µ—Ç–µ–∫—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö –∏ –≤–∏–¥–µ–æ

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ú–æ–¥–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- ‚úÖ –î–µ—Ç–µ–∫—Ü–∏—è –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
- ‚úÖ –†–∞–±–æ—Ç–∞ —Å –≤–∏–¥–µ–æ
- ‚úÖ COPPA compliant

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** $1.00 –∑–∞ 1000 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

---

### 4. Perspective API (Google Jigsaw)

**–î–ª—è —á–µ–≥–æ:** –ê–Ω–∞–ª–∏–∑ —Ç–æ–∫—Å–∏—á–Ω–æ—Å—Ç–∏ —Ç–µ–∫—Å—Ç–∞

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π
- ‚úÖ –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏
- ‚úÖ –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã (—Ç–æ–∫—Å–∏—á–Ω–æ—Å—Ç—å, –æ—Å–∫–æ—Ä–±–ª–µ–Ω–∏—è –∏ —Ç.–¥.)
- ‚úÖ COPPA compliant

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```typescript
const response = await fetch(
  `https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=${API_KEY}`,
  {
    method: 'POST',
    body: JSON.stringify({
      comment: { text: messageText },
      requestedAttributes: {
        TOXICITY: {},
        SEVERE_TOXICITY: {},
        IDENTITY_ATTACK: {},
        INSULT: {},
        THREAT: {},
      },
    }),
  }
);
```

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** –ë–µ—Å–ø–ª–∞—Ç–Ω–æ

---

### 5. URLVoid / VirusTotal API

**–î–ª—è —á–µ–≥–æ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å—Å—ã–ª–æ–∫

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –≤–∏—Ä—É—Å—ã
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–ø—É—Ç–∞—Ü–∏–∏ –¥–æ–º–µ–Ω–∞
- ‚úÖ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –æ–ø–∞—Å–Ω—ã—Ö —Å–∞–π—Ç–æ–≤
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π tier –¥–æ—Å—Ç—É–ø–µ–Ω

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```typescript
// VirusTotal API
const response = await fetch(
  `https://www.virustotal.com/vtapi/v2/url/report?apikey=${API_KEY}&resource=${url}`
);
```

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** VirusTotal - –±–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–æ 4 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

```
–°–æ–æ–±—â–µ–Ω–∏–µ —Ä–µ–±–µ–Ω–∫–∞
    ‚Üì
[1] OpenAI Moderation (—Ç–µ–∫—Å—Ç)
    ‚Üì
[2] Perspective API (—Ç–æ–∫—Å–∏—á–Ω–æ—Å—Ç—å)
    ‚Üì
[3] –ï—Å–ª–∏ –µ—Å—Ç—å —Å—Å—ã–ª–∫–∞ ‚Üí VirusTotal
    ‚Üì
[4] –ï—Å–ª–∏ –µ—Å—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ ‚Üí Google Vision
    ‚Üì
[5] –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    ‚Üì
[6] –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –µ—Å–ª–∏ —Ä–∏—Å–∫
    ‚Üì
[7] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—é
```

---

## üíª –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –§–∞–π–ª: `backend/utils/aiModeration.ts`

```typescript
import { RiskLevel } from '../types';

interface ModerationResult {
  riskLevel: RiskLevel;
  reasons: string[];
  blocked: boolean;
  confidence: number;
}

export async function moderateText(text: string): Promise<ModerationResult> {
  // 1. OpenAI Moderation
  const openaiResult = await checkOpenAIModeration(text);
  
  // 2. Perspective API
  const perspectiveResult = await checkPerspective(text);
  
  // 3. –û–±—ä–µ–¥–∏–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
  return combineResults(openaiResult, perspectiveResult);
}

export async function moderateImage(imageUrl: string): Promise<ModerationResult> {
  // Google Vision API
  const visionResult = await checkGoogleVision(imageUrl);
  return visionResult;
}

export async function checkUrl(url: string): Promise<ModerationResult> {
  // VirusTotal API
  const virusTotalResult = await checkVirusTotal(url);
  return virusTotalResult;
}
```

---

## üìä –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –§–∞–∑–∞ 1 (–ö—Ä–∏—Ç–∏—á–Ω–æ):
1. ‚úÖ OpenAI Moderation API - –±–∞–∑–æ–≤–∞—è –º–æ–¥–µ—Ä–∞—Ü–∏—è
2. ‚úÖ Perspective API - —Ç–æ–∫—Å–∏—á–Ω–æ—Å—Ç—å —Ç–µ–∫—Å—Ç–∞
3. ‚úÖ VirusTotal - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Å—ã–ª–æ–∫

### –§–∞–∑–∞ 2 (–í–∞–∂–Ω–æ):
4. ‚úÖ Google Vision API - –∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
5. ‚úÖ URL –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è - –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã—Ö —Å–∞–π—Ç–æ–≤

### –§–∞–∑–∞ 3 (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
6. AWS Rekognition - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑
7. Custom ML –º–æ–¥–µ–ª–∏ - —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö

### COPPA Compliance:
- ‚úÖ –ù–µ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –¥–µ—Ç–µ–π –≤ AI —Å–µ—Ä–≤–∏—Å–∞—Ö
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ API –±–µ–∑ –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—Å–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ–º API –∫–ª—é—á–∏ —á–µ—Ä–µ–∑ environment variables
- ‚úÖ –õ–æ–≥–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞ (–Ω–µ —Å–∞–º–∏ –¥–∞–Ω–Ω—ã–µ)
- ‚úÖ –†–µ–≥—É–ª—è—Ä–Ω–æ —Ä–æ—Ç–∏—Ä—É–µ–º API –∫–ª—é—á–∏
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API

---

## üí∞ –û—Ü–µ–Ω–∫–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏

### –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (1000 –¥–µ—Ç–µ–π):
- OpenAI Moderation: $0 (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π tier)
- Perspective API: $0 (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π)
- VirusTotal: $0 (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π tier)
- Google Vision: ~$50/–º–µ—Å—è—Ü (100K –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)

**–ò—Ç–æ–≥–æ: ~$50/–º–µ—Å—è—Ü**

### –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ (10,000 –¥–µ—Ç–µ–π):
- OpenAI Moderation: ~$100/–º–µ—Å—è—Ü
- Perspective API: $0
- VirusTotal: ~$200/–º–µ—Å—è—Ü (premium)
- Google Vision: ~$500/–º–µ—Å—è—Ü

**–ò—Ç–æ–≥–æ: ~$800/–º–µ—Å—è—Ü**

---

## ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–ù–∞—á–∞—Ç—å —Å:**
1. OpenAI Moderation API (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
2. Perspective API (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
3. VirusTotal (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)

**–î–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ:**
4. Google Vision API (–∫–æ–≥–¥–∞ –±—É–¥–µ—Ç –±—é–¥–∂–µ—Ç)

–≠—Ç–æ –¥–∞—Å—Ç 95%+ –ø–æ–∫—Ä—ã—Ç–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –∑–∞—Ç—Ä–∞—Ç–∞—Ö!
